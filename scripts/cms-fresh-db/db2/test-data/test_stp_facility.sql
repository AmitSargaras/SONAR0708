SET CURRENT PATH = SYSIBM,SYSFUN,SYSPROC,SYSIBMADM, EONCMS_LOCAL;

select * from transaction where transaction_type = 'COL' and transaction_id = '20081013000000930';
select * from transaction where transaction_type = 'FACILITY';
select * from transaction where transaction_type = 'LIMIT';
select * from CMS_FACILITY_MASTER where id = 20080101000123;  
select * from CMS_STG_FACILITY_MASTER where id = 20080101000123;
select * from SCI_LSP_APPR_LMTS where cms_lsp_appr_lmts_id = 20070101000004; 
select * from STAGE_LIMIT where cms_lsp_appr_lmts_id = 20070101000004; --1224742453921
select * from SCI_LSP_LMTS_XREF_MAP where cms_lsp_appr_lmts_id = 20070101000004; 
select * from CMS_FAC_GENERAL;
select * from CMS_FAC_BNM_CODES;
select * from CMS_FAC_OFFICER;
select * from CMS_FAC_INSURANCE;
select * from CMS_FAC_PAYMENT;
select * from CMS_FAC_RELATIONSHIP;

select * from cms_user where user_id = 20081007000000024;
select * from stp_master_trans;
select * from stp_trans;
select * from stp_trans_history;
select * from stp_trans_error;
select * from cms_security where cms_collateral_id = 20070101000001;
select * from cms_stage_security where cms_collateral_id = 20081017000000006; --versionTime = 1224237920562

-- ###############################################################
-- ################## Testing scripts for SINGLE FACILITY MASTER ###################
-- ###############################################################

-- populate test data
update CMS_SECURITY set SCI_REFERENCE_NOTE = 'Agricultural', SOURCE_SECURITY_SUB_TYPE = 'B30', COLLATERAL_STATUS = '1' where CMS_COLLATERAL_ID = 20070101000001;

-- update trx for collateral creation
update transaction set status='LOADING', user_id=20081007000000024,from_state='PENDING_CREATE' where transaction_id = '20081013000000930';

-- test initial facility creation
insert into stp_master_trans values (20081021000000096,'20081014000012345', 'LOADING', 'FACILITY', 20070101000004, current timestamp); 

-- test resend facility creation
update stp_trans set status='SENDING' where master_trx_id =20081021000000096 and trx_type='321';
-- test update facility creation
update stp_trans set status='SUCCESS' where master_trx_id =20081021000000096 and ops_desc='CREATE';
--update stp_trans set status='SUCCESS' where master_trx_id =20081021000000096 and trx_type='327'; -- test update
--update stp_trans set trx_uid=NEXT VALUE FOR STP_TRANS_UID_SEQ where master_trx_id =20081021000000096 and trx_type='327';

update stp_master_trans set status = 'LOADING' where transaction_id = '20081014000012345';
update transaction set status='LOADING', user_id=20081007000000024,from_state='PENDING_RETRY' where transaction_id = '20081014000012345';

-- test delete facility 
--delete from stp_trans where master_trx_id =20081021000000096 and trx_type='348';
update transaction set status='LOADING_DELETE', user_id=20081007000000024,from_state='PENDING_DELETE' where transaction_id = '20081014000012345';
update stp_master_trans set status = 'LOADING' where transaction_id = '20081014000012345';

-- add. patches
update SCI_LSP_APPR_LMTS set LMT_PRD_TYPE_VALUE='FK', lmt_bca_ref_num='200000001', lmt_fac_seq=null, 
lmt_fac_code='423', LMT_EXPRY_DATE=null --610
where cms_lsp_appr_lmts_id = 20070101000004; 

update STAGE_LIMIT set LMT_PRD_TYPE_VALUE='FK', lmt_bca_ref_num='200000001', lmt_fac_seq=null, 
lmt_fac_code='423', LMT_EXPRY_DATE=null --610  
where cms_lsp_appr_lmts_id = 20070101000004; 

update SCI_LSP_LMT_PROFILE set llp_le_id = '190075491' where CMS_LSP_LMT_PROFILE_ID = 20070101000002;
update STAGE_LIMIT_PROFILE set llp_le_id = '190075491' where CMS_LSP_LMT_PROFILE_ID = 20070101000002;
update SCI_LSP_LMT_PROFILE set LLP_LE_ID = '200078495' where CMS_LSP_LMT_PROFILE_ID = 20070101000001;
update STAGE_LIMIT_PROFILE set LLP_LE_ID = '200078495' where CMS_LSP_LMT_PROFILE_ID = 20070101000001; 

-- Transaction		
delete from transaction where transaction_id = '20081014000012345';
insert into transaction (TRANSACTION_ID, TRANSACTION_TYPE, FROM_STATE, USER_ID, CREATION_DATE, TRANSACTION_DATE, REFERENCE_ID, STATUS, STAGING_REFERENCE_ID, TEAM_ID, 
			version, trx_reference_id, opsdesc, trx_origin_country, trx_origin_organisation, trx_segment, to_group_type_id, to_group_id, to_user_id)
values ('20081014000012345', 'FACILITY', 'ND', 20081016000000004, current timestamp, current timestamp, 20080101000123, 'ACTIVE', 20080101000123, 20081016000000002,
		1, -999999999, 'SYSTEM_CREATE', '--', '--', '--', '-999999999', -999999999, -999999999);
update transaction set status='LOADING', user_id=20081016000000004,from_state='PENDING_CREATE',team_membership_id=20081016000000004 where transaction_id = '20081014000012345';

-- facility table
delete from CMS_FACILITY_MASTER;
insert into CMS_FACILITY_MASTER (ID, CURRENCY_CODE, CMS_LSP_APPR_LMTS_ID, ACTUAL_PLEDGED_LIMIT, ALLOW_INCENTIVE_IND, AVAIL_PERIOD_DAY, AVAIL_PERIOD_MONTH, 
			MAIN_FACILITY_IND, ALT_RATE, ALT_SCHEDULE, CAL_FIRST_INSTL_DATE, CREDIT_LINE_IND, 
			ECOF_RATE, ECOF_VARIANCE, ECOF_VARIANCE_CODE, EFFECTIVE_COSE_OF_FUND, AVAIL_PERIOD, LEVEL, OD_EXCESS_RATE_VAR, OD_EXCESS_RATE_VAR_CODE,
			PAR_VALUE_SHARES, RETENTION_PERIOD_CODE, REVOLVING_IND, REVOLVING_ON_CRITERIA_IND, STANDBY_LINE, STANDBY_LINE_FAC_CODE, STANDBY_LINE_FAC_SEQ,
			DEPARTMENT_CODE_VALUE, APPL_SRC_CODE_VALUE, MAIN_FACILITY_AA_NUM, MAIN_FACILITY_SEQ, ACF_NO)
values (20080101000123, 'MYR', 20070101000004, 210.9, 'Y', 300, 9, 
        '1', '1' , 'Y', '0', '',
        0, 0, '', '1', '', 1, 0.3, '3',
        'S', 'P', 'N', '', 'S', 'STANDBY_LINE', 9,
        'B', '001', 0, 0, '99');
		
delete from CMS_STG_FACILITY_MASTER;
insert into CMS_STG_FACILITY_MASTER (ID, CURRENCY_CODE, CMS_LSP_APPR_LMTS_ID, ACTUAL_PLEDGED_LIMIT, ALLOW_INCENTIVE_IND, AVAIL_PERIOD_DAY, AVAIL_PERIOD_MONTH, 
			MAIN_FACILITY_IND, ALT_RATE, ALT_SCHEDULE, CAL_FIRST_INSTL_DATE, CREDIT_LINE_IND, 
			ECOF_RATE, ECOF_VARIANCE, ECOF_VARIANCE_CODE, EFFECTIVE_COSE_OF_FUND, AVAIL_PERIOD, LEVEL, OD_EXCESS_RATE_VAR, OD_EXCESS_RATE_VAR_CODE,
			PAR_VALUE_SHARES, RETENTION_PERIOD_CODE, REVOLVING_IND, REVOLVING_ON_CRITERIA_IND, STANDBY_LINE, STANDBY_LINE_FAC_CODE, STANDBY_LINE_FAC_SEQ,
			DEPARTMENT_CODE_VALUE, APPL_SRC_CODE_VALUE, MAIN_FACILITY_AA_NUM, MAIN_FACILITY_SEQ, ACF_NO)
values (20080101000123, 'MYR', 20070101000004, 210.9, 'Y', 300, 9, 
        '1', '1' , 'Y', '0', '',
        0, 0, '', '1', '', 1, 0.3, '3',
        'S', 'P', 'N', '', 'S', 'STANDBY_LINE', 9,
        'B', '001', 0, 0, '99');

delete from CMS_FAC_BNM_CODES;
insert into CMS_FAC_BNM_CODES (CMS_FAC_MASTER_ID, BUMI_NRCC_CODE_VALUE, INDUSTRY_CODE_VALUE, SECTOR_CODE_VALUE, 
STATE_CODE_VALUE, SMALL_SCALE_CODE_VALUE, RELATIONSHIP_CODE_VALUE, PURPOSE_CODE_VALUE)
values (20080101000123, '1', '9700', '77', 'M', '0', '0', '0312');

DELETE FROM CMS_STG_FAC_BNM_CODES;
insert into CMS_STG_FAC_BNM_CODES (CMS_FAC_MASTER_ID, BUMI_NRCC_CODE_VALUE, INDUSTRY_CODE_VALUE, SECTOR_CODE_VALUE, 
STATE_CODE_VALUE, SMALL_SCALE_CODE_VALUE, RELATIONSHIP_CODE_VALUE, PURPOSE_CODE_VALUE)
values (20080101000123, '1', '1111', '01', 'D', '0', '0', '0000');
		
delete from CMS_FAC_FEE_CHARGE;
insert into CMS_FAC_FEE_CHARGE (CMS_FAC_MASTER_ID, CURRENCY_CODE, COMMISSION_BASIS_CODE_NUM, COMMISSION_BASIS_CODE_VALUE, COMMISSION_FEES, COMMISSION_RATE,
			COMMITMENT_RATE, MAX_COMSSN_AMOUNT, MIN_COMSSN_AMOUNT, OTHERS_FEE, SUBSIDY_AMOUNT)
values (20080101000123, 'MYR', '15', '13', 5600, 1,
		1, 10, 20, 50, 15);

delete from CMS_STG_FAC_FEE_CHARGE;
insert into CMS_STG_FAC_FEE_CHARGE (CMS_FAC_MASTER_ID, CURRENCY_CODE, COMMISSION_BASIS_CODE_NUM, COMMISSION_BASIS_CODE_VALUE, COMMISSION_FEES, COMMISSION_RATE,
			COMMITMENT_RATE, MAX_COMSSN_AMOUNT, MIN_COMSSN_AMOUNT, OTHERS_FEE, SUBSIDY_AMOUNT)
values (20080101000123, 'MYR', '15', '13', 5600, 1,
		1, 10, 20, 50, 15);

delete from CMS_FAC_GENERAL;
insert into CMS_FAC_GENERAL (CMS_FAC_MASTER_ID, CURRENCY_CODE, APPLICATION_DATE, APPROVED_DATE, 
			OFFER_DATE, OFFER_ACCEPTED_DATE, TERM_CODE_VALUE, TERM,
 			FINANCED_AMOUNT, LMT_STATUS_CODE_VALUE, FAC_STATUS_CODE_VALUE, LOAN_PURPOSE_CODE_VALUE, PERSON_APPROVED_CODE_VALUE,
            INSTALLMENT_AMOUNT, FINAL_PAYMENT)
values (20080101000123, 'MYR', EONCMS_LOCAL.PARSE_DATE('08072008', 'DDMMyyyy'), EONCMS_LOCAL.PARSE_DATE('09072008', 'DDMMyyyy'), 
		EONCMS_LOCAL.PARSE_DATE('09072008', 'DDMMyyyy'), EONCMS_LOCAL.PARSE_DATE('09072008', 'DDMMyyyy'), 'D', 90,
		20000,'DC', 'A', 'IB', 'CH',
        300, 500);

delete from CMS_STG_FAC_GENERAL;
insert into CMS_STG_FAC_GENERAL (CMS_FAC_MASTER_ID, CURRENCY_CODE, APPLICATION_DATE, APPROVED_DATE, 
			OFFER_DATE, OFFER_ACCEPTED_DATE, TERM_CODE_VALUE, TERM,
 			FINANCED_AMOUNT, LMT_STATUS_CODE_VALUE, FAC_STATUS_CODE_VALUE, LOAN_PURPOSE_CODE_VALUE, PERSON_APPROVED_CODE_VALUE, 
            INSTALLMENT_AMOUNT, FINAL_PAYMENT)
values (20080101000123, 'MYR', EONCMS_LOCAL.PARSE_DATE('08072008', 'DDMMyyyy'), EONCMS_LOCAL.PARSE_DATE('09072008', 'DDMMyyyy'), 
		EONCMS_LOCAL.PARSE_DATE('09072008', 'DDMMyyyy'), EONCMS_LOCAL.PARSE_DATE('09072008', 'DDMMyyyy'), 'D', 90,
		20000,'DC', 'A', 'IB', 'CH',
        300, 500);

delete from CMS_FAC_INSURANCE; 
insert into CMS_FAC_INSURANCE (ID, CMS_FAC_MASTER_ID, CMS_REF_ID, CURRENCY_CODE, ARRANGEMENT_IND, COVERAGE_TYPE_CODE_NUM, COVERAGE_TYPE_CODE_VALUE, EFFECTIVE_DATE, 
			EXPIRY_DATE, INSR_COMPANY_CODE_NUM, INSR_COMPANY_CODE_VALUE, INSURANCE_PREMIUM, INSURED_AMOUNT, ISSUED_DATE, ORDER)
values (20080101000018, 20080101000123, 20080101000123, 'MYR', 'B', '19', '3', current timestamp,
		current timestamp, '13', '102', 4888, 8000, current timestamp, 0);
insert into CMS_FAC_INSURANCE (ID, CMS_FAC_MASTER_ID, CMS_REF_ID, CURRENCY_CODE, ARRANGEMENT_IND, COVERAGE_TYPE_CODE_NUM, COVERAGE_TYPE_CODE_VALUE, EFFECTIVE_DATE, 
			EXPIRY_DATE, INSR_COMPANY_CODE_NUM, INSR_COMPANY_CODE_VALUE, INSURANCE_PREMIUM, INSURED_AMOUNT, ISSUED_DATE, ORDER)
values (20080101000019, 20080101000123, 20080101000123, 'MYR', 'B', '19', '2', current timestamp,
		current timestamp, '13', '102', 4888, 8000, current timestamp, 0);

delete from CMS_STG_FAC_INSURANCE;
insert into CMS_STG_FAC_INSURANCE (ID, CMS_FAC_MASTER_ID, CMS_REF_ID, CURRENCY_CODE, ARRANGEMENT_IND, COVERAGE_TYPE_CODE_NUM, COVERAGE_TYPE_CODE_VALUE, EFFECTIVE_DATE, 
			EXPIRY_DATE, INSR_COMPANY_CODE_NUM, INSR_COMPANY_CODE_VALUE, INSURANCE_PREMIUM, INSURED_AMOUNT, ISSUED_DATE, ORDER)
values (20080101000018, 20080101000123, 20080101000123, 'MYR', 'B', '19', '3', current timestamp,
		current timestamp, '13', '102', 4888, 8000, current timestamp, 0);
insert into CMS_STG_FAC_INSURANCE (ID, CMS_FAC_MASTER_ID, CMS_REF_ID, CURRENCY_CODE, ARRANGEMENT_IND, COVERAGE_TYPE_CODE_NUM, COVERAGE_TYPE_CODE_VALUE, EFFECTIVE_DATE, 
			EXPIRY_DATE, INSR_COMPANY_CODE_NUM, INSR_COMPANY_CODE_VALUE, INSURANCE_PREMIUM, INSURED_AMOUNT, ISSUED_DATE, ORDER)
values (20080101000019, 20080101000123, 20080101000123, 'MYR', 'B', '19', '2', current timestamp,
		current timestamp, '13', '102', 4888, 8000, current timestamp, 0);
		
delete from CMS_FAC_INTEREST;
insert into CMS_FAC_INTEREST (CMS_FAC_MASTER_ID, INTEREST_RATE, INTEREST_TYPE_CODE_NUM, INTEREST_TYPE_CODE_VALUE, PRIME_RATE_CEILING, PRIME_RATE_FLOOR,
			PRIME_REVIEW_DATE, PRIME_REVIEW_TERM_CODE_NUM, PRIME_REVIEW_TERM_CODE_VALUE, SPREAD, SPREAD_SIGN)
values (20080101000123, 0.02, '34', '002', 1, 1,
		current timestamp, '29', '9', 0, '');
	
delete from CMS_STG_FAC_INTEREST;
insert into CMS_STG_FAC_INTEREST (CMS_FAC_MASTER_ID, INTEREST_RATE, INTEREST_TYPE_CODE_NUM, INTEREST_TYPE_CODE_VALUE, PRIME_RATE_CEILING, PRIME_RATE_FLOOR,
			PRIME_REVIEW_DATE, PRIME_REVIEW_TERM_CODE_NUM, PRIME_REVIEW_TERM_CODE_VALUE, SPREAD, SPREAD_SIGN)
values (20080101000123, 0.02, '34', '002', 1, 1,
		current timestamp, '29', '9', 0, '');

delete from CMS_FAC_OFFICER;
insert into CMS_FAC_OFFICER (ID, CMS_FAC_MASTER_ID, CMS_REF_ID, OFFICER_CODE_NUM, OFFICER_CODE_VALUE, OFFICER_TYPE_CODE_NUM, OFFICER_TYPE_CODE_VALUE,
			RELATIONSHIP_CODE_NUM, RELATIONSHIP_CODE_VALUE)	
values (20080101000019, 20080101000123, 20080101000123, '59', 'A05', '60', 'CP',
		'61', 'BM');
 		
insert into CMS_FAC_OFFICER (ID, CMS_FAC_MASTER_ID, CMS_REF_ID, OFFICER_CODE_NUM, OFFICER_CODE_VALUE, OFFICER_TYPE_CODE_NUM, OFFICER_TYPE_CODE_VALUE,
			RELATIONSHIP_CODE_NUM, RELATIONSHIP_CODE_VALUE)	
values (20080101000020, 20080101000123, 20080101000123, '58', 'BD', '60', 'CM',
		'61', 'BM');	 
		
delete from CMS_STG_FAC_OFFICER;
insert into CMS_STG_FAC_OFFICER (ID, CMS_FAC_MASTER_ID, CMS_REF_ID, OFFICER_CODE_NUM, OFFICER_CODE_VALUE, OFFICER_TYPE_CODE_NUM, OFFICER_TYPE_CODE_VALUE,
			RELATIONSHIP_CODE_NUM, RELATIONSHIP_CODE_VALUE)	
values (20080101000019, 20080101000123, 20080101000123, '59', 'A05', '60', 'CP',
		'61', 'BM');
		
insert into CMS_STG_FAC_OFFICER (ID, CMS_FAC_MASTER_ID, CMS_REF_ID, OFFICER_CODE_NUM, OFFICER_CODE_VALUE, OFFICER_TYPE_CODE_NUM, OFFICER_TYPE_CODE_VALUE,
			RELATIONSHIP_CODE_NUM, RELATIONSHIP_CODE_VALUE)	
values (20080101000020, 20080101000123, 20080101000123, '58', 'BD', '60', 'CM',
		'61', 'BM');		 

delete from CMS_FAC_PAYMENT;
insert into CMS_FAC_PAYMENT (CMS_FAC_MASTER_ID, GRADE_PERIOD_CODE_NUM, GRADE_PERIOD_CODE_VALUE, GRADE_PERIOD_CD_CODE_NUM, GRADE_PERIOD_CD_CODE_VALUE,
			INT_PAYMENT_FREQ_CODE_NUM, INT_PAYMENT_FREQ_CODE_VALUE, PAYMENT_FREQ_CD_CODE_VALUE)
values (20080101000123, '79', '', '78', '',
		'77', '001', null);

delete from CMS_STG_FAC_PAYMENT;
insert into CMS_STG_FAC_PAYMENT (CMS_FAC_MASTER_ID, GRADE_PERIOD_CODE_NUM, GRADE_PERIOD_CODE_VALUE, GRADE_PERIOD_CD_CODE_NUM, GRADE_PERIOD_CD_CODE_VALUE,
			INT_PAYMENT_FREQ_CODE_NUM, INT_PAYMENT_FREQ_CODE_VALUE, PAYMENT_FREQ_CD_CODE_VALUE)
values (20080101000123, '79', '', '78', '',
		'77', '001', null);

delete from CMS_FAC_RELATIONSHIP; 
insert into CMS_FAC_RELATIONSHIP (ID, CMS_FAC_MASTER_ID, CMS_REF_ID, CURRENCY_CODE, ACCT_RELATIONSHIP_CODE_NUM, ACCT_RELATIONSHIP_CODE_VALUE,
CIF_NUMBER, HOST_ADD_SEQ_NUM, CMS_LE_MAIN_PROFILE_ID)
values (20080101000016, 20080101000123, 20080101000123, 'MYR', '75', 'AP',
'190075491', 1, 20070101000002);
 
insert into CMS_FAC_RELATIONSHIP (ID, CMS_FAC_MASTER_ID, CMS_REF_ID, CURRENCY_CODE, ACCT_RELATIONSHIP_CODE_NUM, ACCT_RELATIONSHIP_CODE_VALUE,
CIF_NUMBER, HOST_ADD_SEQ_NUM, CMS_LE_MAIN_PROFILE_ID)
values (20080101000017, 20080101000123, 20080101000123, 'SGD', '75', 'AB',
'200078495', 1, 20070101000001);  

delete from CMS_STG_FAC_RELATIONSHIP; 
insert into CMS_STG_FAC_RELATIONSHIP (ID, CMS_FAC_MASTER_ID, CMS_REF_ID, CURRENCY_CODE, ACCT_RELATIONSHIP_CODE_NUM, ACCT_RELATIONSHIP_CODE_VALUE,
CIF_NUMBER, HOST_ADD_SEQ_NUM, CMS_LE_MAIN_PROFILE_ID)
values (20080101000016, 20080101000123, 20080101000123, 'MYR', '75', 'AP',
'190075491', 1, 20070101000002);
 
insert into CMS_STG_FAC_RELATIONSHIP (ID, CMS_FAC_MASTER_ID, CMS_REF_ID, CURRENCY_CODE, ACCT_RELATIONSHIP_CODE_NUM, ACCT_RELATIONSHIP_CODE_VALUE,
CIF_NUMBER, HOST_ADD_SEQ_NUM, CMS_LE_MAIN_PROFILE_ID)
values (20080101000017, 20080101000123, 20080101000123, 'SGD', '75', 'AB',
'200078495', 1, 20070101000001);   



-- ###############################################################
-- ################## Testing scripts for MULTIPLE FACILITY MASTER ##################
-- ###############################################################
-- test initial facility creation
insert into stp_master_trans values (20081021000000097,'20081014000012346', 'LOADING', 'FACILITY', 20070101000004, current timestamp); 

-- test resend facility creation
update stp_trans set status='SENDING' where master_trx_id =20081021000000097 and trx_type='321';
-- test update facility creation
update stp_trans set status='SUCCESS' where master_trx_id =20081021000000097 and ops_desc='CREATE';

update stp_master_trans set status = 'LOADING' where transaction_id = '20081014000012346';
update transaction set status='LOADING', user_id=20081007000000024,from_state='PENDING_RETRY' where transaction_id = '20081014000012346';

-- test delete facility 
update transaction set status='LOADING_DELETE', user_id=20081007000000024,from_state='PENDING_DELETE' where transaction_id = '20081014000012346';
update stp_master_trans set status = 'LOADING' where transaction_id = '20081014000012346';


delete from transaction where transaction_id = '20081014000012346';
insert into transaction (TRANSACTION_ID, TRANSACTION_TYPE, FROM_STATE, USER_ID, CREATION_DATE, TRANSACTION_DATE, REFERENCE_ID, STATUS, STAGING_REFERENCE_ID, TEAM_ID, 
			version, trx_reference_id, opsdesc, trx_origin_country, trx_origin_organisation, trx_segment, to_group_type_id, to_group_id, to_user_id)
values ('20081014000012346', 'FACILITY', 'ND', 20081016000000004, current timestamp, current timestamp, 20080101000124, 'ACTIVE', 20080101000124, 20081016000000002,
		1, -999999999, 'SYSTEM_CREATE', '--', '--', '--', '-999999999', -999999999, -999999999);
update transaction set status='LOADING', user_id=20081016000000004,from_state='PENDING_CREATE',team_membership_id=20081016000000004 where transaction_id = '20081014000012346';

delete from CMS_FACILITY_MASTER where ID = '20080101000124';
insert into CMS_FACILITY_MASTER (ID, CURRENCY_CODE, CMS_LSP_APPR_LMTS_ID, ACTUAL_PLEDGED_LIMIT, ALLOW_INCENTIVE_IND, AVAIL_PERIOD_DAY, AVAIL_PERIOD_MONTH, 
			MAIN_FACILITY_IND, ALT_RATE, ALT_SCHEDULE, CAL_FIRST_INSTL_DATE, CREDIT_LINE_IND, 
			ECOF_RATE, ECOF_VARIANCE, ECOF_VARIANCE_CODE, EFFECTIVE_COSE_OF_FUND, AVAIL_PERIOD, LEVEL, OD_EXCESS_RATE_VAR, OD_EXCESS_RATE_VAR_CODE,
			PAR_VALUE_SHARES, RETENTION_PERIOD_CODE, REVOLVING_IND, REVOLVING_ON_CRITERIA_IND, STANDBY_LINE, STANDBY_LINE_FAC_CODE, STANDBY_LINE_FAC_SEQ,
			DEPARTMENT_CODE_VALUE, APPL_SRC_CODE_VALUE, MAIN_FACILITY_AA_NUM, MAIN_FACILITY_SEQ, ACF_NO)
values (20080101000124, 'MYR', 20070101000004, 425.5, 'N', 500, 8, 
        '1', '1', 'Y', '0', '',
        0, 0, '', '1', '', 1, 0.3, '3',
        'S', 'P', 'N', '', 'S', 'STANDBY_LINE', 9,
        'J', '008', 0, 0, '99');
		
delete from CMS_STG_FACILITY_MASTER where ID = '20080101000124';		
insert into CMS_STG_FACILITY_MASTER (ID, CURRENCY_CODE, CMS_LSP_APPR_LMTS_ID, ACTUAL_PLEDGED_LIMIT, ALLOW_INCENTIVE_IND, AVAIL_PERIOD_DAY, AVAIL_PERIOD_MONTH, 
			MAIN_FACILITY_IND, ALT_RATE, ALT_SCHEDULE, CAL_FIRST_INSTL_DATE, CREDIT_LINE_IND, 
			ECOF_RATE, ECOF_VARIANCE, ECOF_VARIANCE_CODE, EFFECTIVE_COSE_OF_FUND, AVAIL_PERIOD, LEVEL, OD_EXCESS_RATE_VAR, OD_EXCESS_RATE_VAR_CODE,
			PAR_VALUE_SHARES, RETENTION_PERIOD_CODE, REVOLVING_IND, REVOLVING_ON_CRITERIA_IND, STANDBY_LINE, STANDBY_LINE_FAC_CODE, STANDBY_LINE_FAC_SEQ,
			DEPARTMENT_CODE_VALUE, APPL_SRC_CODE_VALUE, MAIN_FACILITY_AA_NUM, MAIN_FACILITY_SEQ, ACF_NO)
values (20080101000124, 'MYR', 20070101000004, 425.5, 'N', 500, 8, 
        '1', '1', 'Y', '0', '',
        0, 0, '', '1', '', 1, 0.3, '3',
        'S', 'P', 'N', '', 'S', 'STANDBY_LINE', 9,
        'J', '008', 0, 0, '99');

delete from CMS_FAC_BNM_CODES where CMS_FAC_MASTER_ID = '20080101000124';			
insert into CMS_FAC_BNM_CODES (CMS_FAC_MASTER_ID, BUMI_NRCC_CODE_VALUE, INDUSTRY_CODE_VALUE, SECTOR_CODE_VALUE, 
STATE_CODE_VALUE, SMALL_SCALE_CODE_VALUE, RELATIONSHIP_CODE_VALUE, PURPOSE_CODE_VALUE)
values (20080101000124, '1', '9700', '77', 'M', '0', '0', '0312');

delete from CMS_STG_FAC_BNM_CODES where CMS_FAC_MASTER_ID = '20080101000124';	
insert into CMS_STG_FAC_BNM_CODES (CMS_FAC_MASTER_ID, BUMI_NRCC_CODE_VALUE, INDUSTRY_CODE_VALUE, SECTOR_CODE_VALUE, 
STATE_CODE_VALUE, SMALL_SCALE_CODE_VALUE, RELATIONSHIP_CODE_VALUE, PURPOSE_CODE_VALUE)
values (20080101000124, '1', '1111', '01', 'D', '0', '0', '0000');
		
delete from CMS_FAC_FEE_CHARGE where CMS_FAC_MASTER_ID = '20080101000124';		
insert into CMS_FAC_FEE_CHARGE (CMS_FAC_MASTER_ID, CURRENCY_CODE, COMMISSION_BASIS_CODE_NUM, COMMISSION_BASIS_CODE_VALUE, COMMISSION_FEES, COMMISSION_RATE,
			COMMITMENT_RATE, MAX_COMSSN_AMOUNT, MIN_COMSSN_AMOUNT, OTHERS_FEE, SUBSIDY_AMOUNT)
values (20080101000124, 'MYR', '15', '13', 5600, 1,
		1, 10, 20, 50, 15);

delete from CMS_STG_FAC_FEE_CHARGE where CMS_FAC_MASTER_ID = '20080101000124';	
insert into CMS_STG_FAC_FEE_CHARGE (CMS_FAC_MASTER_ID, CURRENCY_CODE, COMMISSION_BASIS_CODE_NUM, COMMISSION_BASIS_CODE_VALUE, COMMISSION_FEES, COMMISSION_RATE,
			COMMITMENT_RATE, MAX_COMSSN_AMOUNT, MIN_COMSSN_AMOUNT, OTHERS_FEE, SUBSIDY_AMOUNT)
values (20080101000124, 'MYR', '15', '13', 5600, 1,
		1, 10, 20, 50, 15);

delete from CMS_FAC_GENERAL where CMS_FAC_MASTER_ID = '20080101000124';			
insert into CMS_FAC_GENERAL (CMS_FAC_MASTER_ID, CURRENCY_CODE, APPLICATION_DATE, APPROVED_DATE, 
			OFFER_DATE, OFFER_ACCEPTED_DATE, TERM_CODE_VALUE, TERM,
 			FINANCED_AMOUNT, LMT_STATUS_CODE_VALUE, FAC_STATUS_CODE_VALUE, LOAN_PURPOSE_CODE_VALUE, PERSON_APPROVED_CODE_VALUE,
            INSTALLMENT_AMOUNT, FINAL_PAYMENT)
values (20080101000124, 'MYR', EONCMS_LOCAL.PARSE_DATE('08072008', 'DDMMyyyy'), EONCMS_LOCAL.PARSE_DATE('09072008', 'DDMMyyyy'), 
		EONCMS_LOCAL.PARSE_DATE('09072008', 'DDMMyyyy'), EONCMS_LOCAL.PARSE_DATE('09072008', 'DDMMyyyy'), 'D', 90,
		20000,'DC', 'A', 'IB', 'CH',
        300, 500);

delete from CMS_STG_FAC_GENERAL where CMS_FAC_MASTER_ID = '20080101000124';			
insert into CMS_STG_FAC_GENERAL (CMS_FAC_MASTER_ID, CURRENCY_CODE, APPLICATION_DATE, APPROVED_DATE, 
			OFFER_DATE, OFFER_ACCEPTED_DATE, TERM_CODE_VALUE, TERM,
 			FINANCED_AMOUNT, LMT_STATUS_CODE_VALUE, FAC_STATUS_CODE_VALUE, LOAN_PURPOSE_CODE_VALUE, PERSON_APPROVED_CODE_VALUE, 
            INSTALLMENT_AMOUNT, FINAL_PAYMENT)
values (20080101000124, 'MYR', EONCMS_LOCAL.PARSE_DATE('08072008', 'DDMMyyyy'), EONCMS_LOCAL.PARSE_DATE('09072008', 'DDMMyyyy'), 
		EONCMS_LOCAL.PARSE_DATE('09072008', 'DDMMyyyy'), EONCMS_LOCAL.PARSE_DATE('09072008', 'DDMMyyyy'), 'D', 90,
		20000,'DC', 'A', 'IB', 'CH',
        300, 500);

delete from CMS_FAC_INSURANCE where ID = '20080101000020';				
insert into CMS_FAC_INSURANCE (ID, CMS_FAC_MASTER_ID, CMS_REF_ID, CURRENCY_CODE, ARRANGEMENT_IND, COVERAGE_TYPE_CODE_NUM, COVERAGE_TYPE_CODE_VALUE, EFFECTIVE_DATE, 
			EXPIRY_DATE, INSR_COMPANY_CODE_NUM, INSR_COMPANY_CODE_VALUE, INSURANCE_PREMIUM, INSURED_AMOUNT, ISSUED_DATE, ORDER)
values (20080101000020, 20080101000124, 20080101000124, 'MYR', 'B', '19', '3', current timestamp,
		current timestamp, '13', '102', 4888, 8000, current timestamp, 0);

delete from CMS_STG_FAC_INSURANCE where ID = '20080101000020';		
insert into CMS_STG_FAC_INSURANCE (ID, CMS_FAC_MASTER_ID, CMS_REF_ID, CURRENCY_CODE, ARRANGEMENT_IND, COVERAGE_TYPE_CODE_NUM, COVERAGE_TYPE_CODE_VALUE, EFFECTIVE_DATE, 
			EXPIRY_DATE, INSR_COMPANY_CODE_NUM, INSR_COMPANY_CODE_VALUE, INSURANCE_PREMIUM, INSURED_AMOUNT, ISSUED_DATE, ORDER)
values (20080101000020, 20080101000124, 20080101000124, 'MYR', 'B', '19', '3', current timestamp,
		current timestamp, '13', '102', 4888, 8000, current timestamp, 0);
		
delete from CMS_FAC_INTEREST where CMS_FAC_MASTER_ID = '20080101000124';		
insert into CMS_FAC_INTEREST (CMS_FAC_MASTER_ID, INTEREST_RATE, INTEREST_TYPE_CODE_NUM, INTEREST_TYPE_CODE_VALUE, PRIME_RATE_CEILING, PRIME_RATE_FLOOR,
			PRIME_REVIEW_DATE, PRIME_REVIEW_TERM_CODE_NUM, PRIME_REVIEW_TERM_CODE_VALUE, SPREAD, SPREAD_SIGN)
values (20080101000124, 0.02, '34', '002', 1, 1,
		current timestamp, '29', '9', 0, '');
	
delete from CMS_STG_FAC_INTEREST where CMS_FAC_MASTER_ID = '20080101000124';		
insert into CMS_STG_FAC_INTEREST (CMS_FAC_MASTER_ID, INTEREST_RATE, INTEREST_TYPE_CODE_NUM, INTEREST_TYPE_CODE_VALUE, PRIME_RATE_CEILING, PRIME_RATE_FLOOR,
			PRIME_REVIEW_DATE, PRIME_REVIEW_TERM_CODE_NUM, PRIME_REVIEW_TERM_CODE_VALUE, SPREAD, SPREAD_SIGN)
values (20080101000124, 0.02, '34', '002', 1, 1,
		current timestamp, '29', '9', 0, '');

delete from CMS_FAC_OFFICER where ID = '20080101000021';		
insert into CMS_FAC_OFFICER (ID, CMS_FAC_MASTER_ID, CMS_REF_ID, OFFICER_CODE_NUM, OFFICER_CODE_VALUE, OFFICER_TYPE_CODE_NUM, OFFICER_TYPE_CODE_VALUE,
			RELATIONSHIP_CODE_NUM, RELATIONSHIP_CODE_VALUE)	
values (20080101000021, 20080101000124, 20080101000124, '59', 'A05', '60', 'CP',
		'61', 'BM');
		
delete from CMS_STG_FAC_OFFICER where ID = '20080101000021';		
insert into CMS_STG_FAC_OFFICER (ID, CMS_FAC_MASTER_ID, CMS_REF_ID, OFFICER_CODE_NUM, OFFICER_CODE_VALUE, OFFICER_TYPE_CODE_NUM, OFFICER_TYPE_CODE_VALUE,
			RELATIONSHIP_CODE_NUM, RELATIONSHIP_CODE_VALUE)	
values (20080101000021, 20080101000124, 20080101000124, '59', 'A05', '60', 'CP',
		'61', 'BM');

delete from CMS_FAC_PAYMENT where CMS_FAC_MASTER_ID = '20080101000124';			
insert into CMS_FAC_PAYMENT (CMS_FAC_MASTER_ID, GRADE_PERIOD_CODE_NUM, GRADE_PERIOD_CODE_VALUE, GRADE_PERIOD_CD_CODE_NUM, GRADE_PERIOD_CD_CODE_VALUE,
			INT_PAYMENT_FREQ_CODE_NUM, INT_PAYMENT_FREQ_CODE_VALUE, PAYMENT_FREQ_CD_CODE_VALUE)
values (20080101000124, '79', '', '78', '',
		'77', '001', null);

delete from CMS_STG_FAC_PAYMENT where CMS_FAC_MASTER_ID = '20080101000124';			
insert into CMS_STG_FAC_PAYMENT (CMS_FAC_MASTER_ID, GRADE_PERIOD_CODE_NUM, GRADE_PERIOD_CODE_VALUE, GRADE_PERIOD_CD_CODE_NUM, GRADE_PERIOD_CD_CODE_VALUE,
			INT_PAYMENT_FREQ_CODE_NUM, INT_PAYMENT_FREQ_CODE_VALUE, PAYMENT_FREQ_CD_CODE_VALUE)
values (20080101000124, '79', '', '78', '',
		'77', '001', null);

delete from CMS_FAC_RELATIONSHIP where ID = '20080101000018';			
insert into CMS_FAC_RELATIONSHIP (ID, CMS_FAC_MASTER_ID, CMS_REF_ID, CURRENCY_CODE, ACCT_RELATIONSHIP_CODE_NUM, ACCT_RELATIONSHIP_CODE_VALUE,
CIF_NUMBER, HOST_ADD_SEQ_NUM, CMS_LE_MAIN_PROFILE_ID)
values (20080101000018, 20080101000124, 20080101000124, 'MYR', '75', 'AP',
'190075491', 1, 20070101000001);

delete from CMS_STG_FAC_RELATIONSHIP where ID = '20080101000018';	
insert into CMS_STG_FAC_RELATIONSHIP (ID, CMS_FAC_MASTER_ID, CMS_REF_ID, CURRENCY_CODE, ACCT_RELATIONSHIP_CODE_NUM, ACCT_RELATIONSHIP_CODE_VALUE,
CIF_NUMBER, HOST_ADD_SEQ_NUM, CMS_LE_MAIN_PROFILE_ID)
values (20080101000018, 20080101000124, 20080101000124, 'MYR', '75', 'AP',
'190075491', 1, 20070101000001);
-- ###############################################################

-- reset stp tables
delete from stp_master_trans;
delete from stp_trans;
delete from stp_trans_history;
delete from stp_trans_error;

-- reset actual
delete from CMS_FAC_BNM_CODES;
delete from CMS_FAC_FEE_CHARGE;
delete from CMS_FAC_GENERAL;
delete from CMS_FAC_INTEREST;
delete from CMS_FAC_INSURANCE;
delete from CMS_FAC_PAYMENT;
delete from CMS_FAC_RELATIONSHIP;
delete from CMS_FAC_OFFICER;
DELETE FROM CMS_FACILITY_MASTER;

-- Staging clean up
delete from CMS_STG_FAC_BNM_CODES;
DELETE FROM CMS_STG_FAC_FEE_CHARGE;
DELETE FROM CMS_STG_FAC_GENERAL;
DELETE FROM CMS_STG_FAC_INSURANCE;
DELETE FROM CMS_STG_FAC_OFFICER;
DELETE FROM CMS_STG_FAC_RELATIONSHIP;
DELETE FROM CMS_STG_FAC_INTEREST;
DELETE FROM CMS_STG_FAC_PAYMENT;
DELETE FROM CMS_STG_FACILITY_MASTER;

-- drop actual table
drop table CMS_FAC_BNM_CODES;
drop table CMS_FAC_FEE_CHARGE;
drop table CMS_FAC_GENERAL;
drop table CMS_FAC_INTEREST;
drop table CMS_FAC_INSURANCE;
drop table CMS_FAC_PAYMENT;
drop table CMS_FAC_RELATIONSHIP;
drop table CMS_FAC_OFFICER;
drop table CMS_FACILITY_MASTER;

-- drop stage table
drop table CMS_STG_FAC_BNM_CODES;
drop table CMS_STG_FAC_FEE_CHARGE;
drop table CMS_STG_FAC_GENERAL;
drop table CMS_STG_FAC_INSURANCE;
drop table CMS_STG_FAC_OFFICER;
drop table CMS_STG_FAC_RELATIONSHIP;
drop table CMS_STG_FAC_INTEREST;
drop table CMS_STG_FAC_PAYMENT;
drop table CMS_STG_FACILITY_MASTER;