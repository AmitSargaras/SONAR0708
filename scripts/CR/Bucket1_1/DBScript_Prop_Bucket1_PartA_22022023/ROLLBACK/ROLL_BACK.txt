set define off;
ALTER TABLE  STAGE_USER  drop column REF_NUMBER;
ALTER TABLE  CMS_USER   drop column REF_NUMBER;

ALTER TABLE  STAGE_USER  drop column MAKER_DT ;
ALTER TABLE  STAGE_USER   drop column CHECKER_DT  ; 
ALTER TABLE  CMS_USER   drop column MAKER_DT  ;
ALTER TABLE  CMS_USER   drop column CHECKER_DT  ;


drop SEQUENCE CMS_BANKING_METHOD_SEQ;

drop SEQUENCE CHK_STG_BANKING_METHOD_SEQ;


ALTER TABLE SCI_LE_BANKING_METHOD  drop column REVISED_EMAIL_ID;
ALTER TABLE STAGE_SCI_LE_BANKING_METHOD  drop column REVISED_EMAIL_ID;



ALTER TABLE  SCI_LE_SUB_PROFILE drop column LISTED_COMPANY; 
ALTER TABLE  STAGE_SCI_LE_SUB_PROFILE drop column LISTED_COMPANY; 


ALTER TABLE  SCI_LE_SUB_PROFILE drop column ISIN_NO ;
ALTER TABLE  STAGE_SCI_LE_SUB_PROFILE drop column ISIN_NO ;


ALTER TABLE  SCI_LE_SUB_PROFILE drop column RAROC ;
ALTER TABLE  STAGE_SCI_LE_SUB_PROFILE drop column RAROC ; 

ALTER TABLE  SCI_LE_SUB_PROFILE drop column RARAOC_PERIOD  ;
ALTER TABLE  STAGE_SCI_LE_SUB_PROFILE drop column RARAOC_PERIOD ;
ALTER TABLE  SCI_LE_SUB_PROFILE drop column YEAR_END_PERIOD ; 
ALTER TABLE  STAGE_SCI_LE_SUB_PROFILE drop column YEAR_END_PERIOD;


ALTER TABLE  SCI_LE_SUB_PROFILE drop column CREDIT_MGR_EMPID ; 
ALTER TABLE  STAGE_SCI_LE_SUB_PROFILE drop column CREDIT_MGR_EMPID ;

ALTER TABLE  SCI_LE_SUB_PROFILE drop column PF_LRD_CREDIT_MGR_EMPID; 
ALTER TABLE  STAGE_SCI_LE_SUB_PROFILE drop column PF_LRD_CREDIT_MGR_EMPID ;

ALTER TABLE  SCI_LE_SUB_PROFILE drop column CREDIT_MGR_SEGMENT ; 
ALTER TABLE  STAGE_SCI_LE_SUB_PROFILE drop column CREDIT_MGR_SEGMENT;


-------------
ALTER TABLE  SCI_LE_SUB_PROFILE drop column MULTBNK_FUNDBSE_LEADBNK_PER; 
ALTER TABLE  STAGE_SCI_LE_SUB_PROFILE drop column MULTBNK_FUNDBSE_LEADBNK_PER ; 

ALTER TABLE  SCI_LE_SUB_PROFILE drop column MULTBNK_FUNDBSE_HDFCBNK_PER ;
ALTER TABLE  STAGE_SCI_LE_SUB_PROFILE drop column MULTBNK_FUNDBSE_HDFCBNK_PER ;

ALTER TABLE  SCI_LE_SUB_PROFILE drop column MULTBNK_NONFUNDBSE_LEADBNK_PER ;
ALTER TABLE  STAGE_SCI_LE_SUB_PROFILE drop column MULTBNK_NONFUNDBSE_LEADBNK_PER;

ALTER TABLE  SCI_LE_SUB_PROFILE drop column MULTBNK_NONFUNDBSE_HDFCBNK_PER;
ALTER TABLE  STAGE_SCI_LE_SUB_PROFILE drop column MULTBNK_NONFUNDBSE_HDFCBNK_PER ;

ALTER TABLE  SCI_LE_SUB_PROFILE drop column CONSBNK_FUNDBSE_LEADBNK_PER ;
ALTER TABLE  STAGE_SCI_LE_SUB_PROFILE drop column CONSBNK_FUNDBSE_LEADBNK_PER;

ALTER TABLE  SCI_LE_SUB_PROFILE drop column CONSBNK_FUNDBSE_HDFCBNK_PER;
ALTER TABLE  STAGE_SCI_LE_SUB_PROFILE drop column CONSBNK_FUNDBSE_HDFCBNK_PER;

ALTER TABLE  SCI_LE_SUB_PROFILE drop column CONSBNK_NONFUNDBSE_LEADBNK_PER;
ALTER TABLE  STAGE_SCI_LE_SUB_PROFILE drop column CONSBNK_NONFUNDBSE_LEADBNK_PER;

ALTER TABLE  SCI_LE_SUB_PROFILE drop column CONSBNK_NONFUNDBSE_HDFCBNK_PER;
ALTER TABLE  STAGE_SCI_LE_SUB_PROFILE drop column CONSBNK_NONFUNDBSE_HDFCBNK_PER;

ALTER TABLE  SCI_LE_SUB_PROFILE drop column FINAL_BANK_METHOD_LIST;
ALTER TABLE  STAGE_SCI_LE_SUB_PROFILE drop column FINAL_BANK_METHOD_LIST;









ALTER TABLE  SCI_LE_MAIN_PROFILE drop column LISTED_COMPANY;
ALTER TABLE  STAGE_SCI_LE_MAIN_PROFILE drop column LISTED_COMPANY;


ALTER TABLE  SCI_LE_MAIN_PROFILE drop column ISIN_NO;
ALTER TABLE  STAGE_SCI_LE_MAIN_PROFILE drop column ISIN_NO;


ALTER TABLE  SCI_LE_MAIN_PROFILE drop column RAROC ;
ALTER TABLE  STAGE_SCI_LE_MAIN_PROFILE drop column RAROC;

ALTER TABLE  SCI_LE_MAIN_PROFILE drop column RARAOC_PERIOD;
ALTER TABLE  STAGE_SCI_LE_MAIN_PROFILE drop column RARAOC_PERIOD;

ALTER TABLE  SCI_LE_MAIN_PROFILE drop column YEAR_END_PERIOD;
ALTER TABLE  STAGE_SCI_LE_MAIN_PROFILE drop column YEAR_END_PERIOD;


ALTER TABLE  SCI_LE_MAIN_PROFILE drop column CREDIT_MGR_EMPID;
ALTER TABLE  STAGE_SCI_LE_MAIN_PROFILE drop column CREDIT_MGR_EMPID;

ALTER TABLE  SCI_LE_MAIN_PROFILE drop column PF_LRD_CREDIT_MGR_EMPID;
ALTER TABLE  STAGE_SCI_LE_MAIN_PROFILE drop column PF_LRD_CREDIT_MGR_EMPID;

ALTER TABLE  SCI_LE_MAIN_PROFILE drop column CREDIT_MGR_SEGMENT;
ALTER TABLE  STAGE_SCI_LE_MAIN_PROFILE drop column CREDIT_MGR_SEGMENT;

ALTER TABLE  SCI_LE_MAIN_PROFILE drop column MULTBNK_FUNDBSE_LEADBNK_PER;
ALTER TABLE  STAGE_SCI_LE_MAIN_PROFILE drop column MULTBNK_FUNDBSE_LEADBNK_PER;

ALTER TABLE  SCI_LE_MAIN_PROFILE drop column MULTBNK_FUNDBSE_HDFCBNK_PER ;
ALTER TABLE  STAGE_SCI_LE_MAIN_PROFILE drop column MULTBNK_FUNDBSE_HDFCBNK_PER ;

ALTER TABLE  SCI_LE_MAIN_PROFILE drop column MULTBNK_NONFUNDBSE_LEADBNK_PER  ;
ALTER TABLE  STAGE_SCI_LE_MAIN_PROFILE drop column MULTBNK_NONFUNDBSE_LEADBNK_PER ; 

ALTER TABLE  SCI_LE_MAIN_PROFILE drop column MULTBNK_NONFUNDBSE_HDFCBNK_PER  ;
ALTER TABLE  STAGE_SCI_LE_MAIN_PROFILE drop column MULTBNK_NONFUNDBSE_HDFCBNK_PER ;

ALTER TABLE  SCI_LE_MAIN_PROFILE drop column CONSBNK_FUNDBSE_LEADBNK_PER ; 
ALTER TABLE  STAGE_SCI_LE_MAIN_PROFILE drop column CONSBNK_FUNDBSE_LEADBNK_PER ;

ALTER TABLE  SCI_LE_MAIN_PROFILE drop column CONSBNK_FUNDBSE_HDFCBNK_PER ; 
ALTER TABLE  STAGE_SCI_LE_MAIN_PROFILE drop column CONSBNK_FUNDBSE_HDFCBNK_PER ;

ALTER TABLE  SCI_LE_MAIN_PROFILE drop column CONSBNK_NONFUNDBSE_LEADBNK_PER; 
ALTER TABLE  STAGE_SCI_LE_MAIN_PROFILE drop column CONSBNK_NONFUNDBSE_LEADBNK_PER;

ALTER TABLE  SCI_LE_MAIN_PROFILE drop column CONSBNK_NONFUNDBSE_HDFCBNK_PER; 
ALTER TABLE  STAGE_SCI_LE_MAIN_PROFILE drop column CONSBNK_NONFUNDBSE_HDFCBNK_PER;
 
ALTER TABLE  SCI_LE_MAIN_PROFILE drop column FINAL_BANK_METHOD_LIST;
ALTER TABLE  STAGE_SCI_LE_MAIN_PROFILE drop column FINAL_BANK_METHOD_LIST;




ALTER TABLE  CMS_IFSC_CODE drop column REVISED_EMAIL_ID; 
ALTER TABLE  CMS_STAGE_IFSC_CODE drop column REVISED_EMAIL_ID;



ALTER TABLE  CMS_OTHER_BANK_BRANCH drop column REVISED_CONTACT_MAIL_ID; 
ALTER TABLE  CMS_STAGE_OTHER_BANK_BRANCH drop column REVISED_CONTACT_MAIL_ID;


ALTER TABLE  CMS_STAGE_SYSTEM_BANK drop column REVISED_CONTACT_MAIL; 
ALTER TABLE  CMS_SYSTEM_BANK drop column REVISED_CONTACT_MAIL;


------------SECURITY LEVEL FIELDS ----------------------------

ALTER TABLE CMS_SECURITY drop column PRIMARY_SEC_ADDR ;
ALTER TABLE CMS_SECURITY drop column SEC_VAL_ASPER_CAM DATE;
ALTER TABLE CMS_SECURITY drop column SECONDARY_SEC_ADDR ;
ALTER TABLE CMS_SECURITY drop column SECURITY_MARGIN;
ALTER TABLE CMS_SECURITY drop column CHARGE_PRIORITY ;


ALTER TABLE CMS_STAGE_SECURITY drop column PRIMARY_SEC_ADDR ;
ALTER TABLE CMS_STAGE_SECURITY drop column SEC_VAL_ASPER_CAM DATE;
ALTER TABLE CMS_STAGE_SECURITY drop column SECONDARY_SEC_ADDR ;
ALTER TABLE CMS_STAGE_SECURITY drop column SECURITY_MARGIN ;
ALTER TABLE CMS_STAGE_SECURITY drop column CHARGE_PRIORITY ;

--------------CRI Details Customer Fly Closure field common code values added------------

DELETE
FROM
    COMMON_CODE_CATEGORY_ENTRY
WHERE
    CATEGORY_CODE='FINANCIAL_CLOSUER' 
	AND ENTRY_CODE NOT IN ('March Ending','December Ending');
	
DELETE
FROM
    STAGE_COMMON_CODE_ENTRY
WHERE
    CATEGORY_CODE='FINANCIAL_CLOSUER'
	AND ENTRY_CODE NOT IN ('March Ending','December Ending');
	
	
------------------------------------------------------------

ALTER TABLE SCI_LSP_APPR_LMTS drop column (RISK_TYPE);
ALTER TABLE SCI_LSP_APPR_LMTS drop column (TENOR);
ALTER TABLE SCI_LSP_APPR_LMTS drop column (TENOR_UNIT);
ALTER TABLE SCI_LSP_APPR_LMTS drop column (MARGIN);
ALTER TABLE SCI_LSP_APPR_LMTS drop column (PUT_CALL_OPTION);
ALTER TABLE SCI_LSP_APPR_LMTS drop column (TENOR_DESC);
ALTER TABLE SCI_LSP_APPR_LMTS drop column (LOAN_AVAIL_DATE );
ALTER TABLE SCI_LSP_APPR_LMTS drop column (OPTION_DATE );

ALTER TABLE STAGE_LIMIT drop column (RISK_TYPE);
ALTER TABLE STAGE_LIMIT drop column (TENOR);
ALTER TABLE STAGE_LIMIT drop column (TENOR_UNIT);
ALTER TABLE STAGE_LIMIT drop column (MARGIN);
ALTER TABLE STAGE_LIMIT drop column (PUT_CALL_OPTION);
ALTER TABLE STAGE_LIMIT drop column (TENOR_DESC);
ALTER TABLE STAGE_LIMIT drop column (LOAN_AVAIL_DATE);
ALTER TABLE STAGE_LIMIT drop column (OPTION_DATE);
------------------------------------------------------------------

DELETE
FROM
    COMMON_CODE_CATEGORY
WHERE
    CATEGORY_CODE='TENOR';
    
	
DELETE
FROM
    STAGE_COMMON_CODE_CATEGORY
WHERE
    CATEGORY_CODE='TENOR';
	
DELETE
FROM
    COMMON_CODE_CATEGORY_ENTRY
WHERE
    CATEGORY_CODE='TENOR';

DELETE
FROM
    STAGE_COMMON_CODE_ENTRY
WHERE
    CATEGORY_CODE='TENOR';
	
--------------------------------------------------------

ALTER TABLE CMS_FACILITY_NEW_MASTER drop column  AVAIL_AND_OPTION_APPLICABLE;
ALTER TABLE  CMS_FACILITY_NEW_MASTER drop column SELECTED_RISK_TYPES;

ALTER TABLE CMS_STAGE_FACILITY_NEW_MASTER drop column  AVAIL_AND_OPTION_APPLICABLE;
ALTER TABLE  CMS_STAGE_FACILITY_NEW_MASTER drop column SELECTED_RISK_TYPES;

-----------------------------------------------------------

drop table CMS_BANKING_METHOD_CUST;


-------------------------------------------------------------
DELETE
FROM
    CMS_FUNCTION_ACCESS
WHERE
    ACTION='riskType';
------------------------------------------------------------------
DELETE
FROM
    tr_state_matrix
WHERE
    stateins='RISK_TYPE';
	
-----------------------
DELETE
FROM
    CMS_TRX_TOTRACK
WHERE
    TRANSACTION_TYPE='RISK_TYPE';

--------------------------------------------
DELETE
FROM
    CMS_STATEMATRIX_ACTION
WHERE
    URL like '%riskType.do';
------------------------------
DELETE
FROM
    transaction_type_name
WHERE
    TRANSACTION_TYPE='RISK_TYPE';
----------------------------------
DELETE
FROM
    CMS_MODULE_ACCESS
WHERE
    MODULE_ID in (SELECT module_id
      FROM cms_user_module
      WHERE module_name='Risk Type'
      );

-----------------------------------
DELETE
FROM
    CMS_USER_MODULE
WHERE
    MODULE_NAME='Risk Type';
	
-------------------------------



------------------------------

DROP FUNCTION get_banking_method;

-------------------------------

DELETE
FROM
    TRANSACTION
WHERE
    REFERENCE_ID =
 (SELECT CATEGORY_ID
      FROM common_code_category
      WHERE CATEGORY_CODE='OTHER_COVENANT_TYPE'
  );
  
  
  
-----------------------------
DELETE
FROM
    COMMON_CODE_CATEGORY
WHERE
    CATEGORY_CODE='OTHER_COVENANT_TYPE';
    
	
DELETE
FROM
    STAGE_COMMON_CODE_CATEGORY
WHERE
    CATEGORY_CODE='OTHER_COVENANT_TYPE';
	
	DELETE
FROM
    COMMON_CODE_CATEGORY_ENTRY
WHERE
    CATEGORY_CODE='OTHER_COVENANT_TYPE';
	
	
-------------------------------------------
DELETE
FROM
    TRANSACTION
WHERE
    REFERENCE_ID =
 (SELECT CATEGORY_ID
      FROM common_code_category
      WHERE CATEGORY_CODE='OTHER_COVENANT_CONDITIONS'
  );


DELETE
FROM
    COMMON_CODE_CATEGORY
WHERE
    CATEGORY_CODE='OTHER_COVENANT_CONDITIONS';
    
	
DELETE
FROM
    STAGE_COMMON_CODE_CATEGORY
WHERE
    CATEGORY_CODE='OTHER_COVENANT_CONDITIONS';
	
	DELETE
FROM
    COMMON_CODE_CATEGORY_ENTRY
WHERE
    CATEGORY_CODE='OTHER_COVENANT_CONDITIONS';
	
-------------------------------------------------------------------

DELETE
FROM
    TRANSACTION
WHERE
    REFERENCE_ID =
 (SELECT CATEGORY_ID
      FROM common_code_category
      WHERE CATEGORY_CODE='MONITORING_RESPONSIBILITY'
  );


DELETE
FROM
    COMMON_CODE_CATEGORY
WHERE
    CATEGORY_CODE='MONITORING_RESPONSIBILITY';
    
	
DELETE
FROM
    STAGE_COMMON_CODE_CATEGORY
WHERE
    CATEGORY_CODE='MONITORING_RESPONSIBILITY';
	
	DELETE
FROM
    COMMON_CODE_CATEGORY_ENTRY
WHERE
    CATEGORY_CODE='MONITORING_RESPONSIBILITY';
	
	
-----------------------------------------------------------------------------------------------------

drop table SCI_LSP_OTHER_COVENANT;

drop table STAGE_SCI_LSP_OTHER_COVENANT;

--------------------------------------------------------------

drop table STAGE_SCI_LSP_OTHER_COVENANT_VALUES;

drop table SCI_LSP_OTHER_COVENANT_VALUES;


-----------------------------------
drop SEQUENCE SCI_LSP_OTHER_COVENANT_SEQ;
drop SEQUENCE STAGE_SCI_LSP_OTHER_COVENANT_SEQ;
drop SEQUENCE STAGE_SCI_LSP_OTHER_COVENANT_VALUES_SEQ;
drop SEQUENCE  CAM_OC_MAP_SEQ;
drop SEQUENCE SCI_LSP_OTHER_COVENANT_VALUES_SEQ;

-------------------------------
drop table CMS_RISK_TYPE;

drop table CMS_STAGE_RISK_TYPE;
drop table FACILTY_MASTER_MIG_TEMP;
drop SEQUENCE RISK_TYPE_SEQ;

---------------------------------

drop table Day_Zero_Mig_Emp_Grade_Loa;

DROP SEQUENCE CMS_LOA_MASTER_SEQ;
DROP SEQUENCE CMS_STAGE_LOA_MASTER_SEQ;

set define on;
COMMIT;