create or replace PROCEDURE SP_UPDATE_NSDL_DATA
AS
BEGIN
  UPDATE SCI_LE_MAIN_PROFILE SET PARTY_NAME_AS_PER_PAN=LMP_SHORT_NAME;
  UPDATE SCI_LE_SUB_PROFILE SET PARTY_NAME_AS_PER_PAN=LSP_SHORT_NAME;
  COMMIT;
  FOR obj IN
  (SELECT DISTINCT LSP_LE_ID,
    LSP_SHORT_NAME,
    LSP_INCORP_DATE
  FROM SCI_LE_SUB_PROFILE
  )
  LOOP
    BEGIN
      UPDATE PAN_VALIDATION_LOG
      SET PARTYNAMEASPERPAN=OBJ.LSP_SHORT_NAME ,
        DATEOFINCORPORATION=OBJ.LSP_INCORP_DATE
      WHERE PARTYID        =OBJ.LSP_LE_ID;
    EXCEPTION
    WHEN OTHERS THEN
      NULL;
    END;
  END LOOP;
  COMMIT;
END;