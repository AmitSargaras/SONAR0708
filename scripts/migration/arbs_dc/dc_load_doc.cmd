@echo off

call ..\set_mig_env.cmd %*

IF NOT "%IS_PROCEED%"=="true" (
	goto end
)

db2 LOAD FROM "%FILE_PATH%" OF DEL MODIFIED BY COLDEL, DUMPFILE="%DUMP_PATH%" IMPLIEDDECIMAL TIMESTAMPFORMAT=\"YYYYMMDD\" METHOD P (1, 2, 3, 4, 5, 6, 7, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19, 20, 21, 22, 23, 24, 25, 26, 27, 28, 29)  MESSAGES "%LOG_PATH%" INSERT INTO "%DB_SCHEMA%".DC_DOC (CIF_NUMBER, BORROWER_NAME, ACCOUNT_NUMBER, BUSINESS_UNIT, BRANCH_CODE, CMS_COLLATERAL_ID, COLLATERAL_CODE, COLLATERAL_NAME, SECURITY_CUSTODIAN_TYPE, SECURITY_CUSTODIAN_VALUE, SECURITY_MATURITY_DATE, EXCHANGE_CONTROL_OBTAINED, TYPE_OF_DEED_ASSIGNMENT, DOCUMENT_DATE, DOCUMENT_AMT_CCY, DOCUMENT_AMT, ISDA_AGREEMENT_DATE, IFEMA_AGREEMENT_DATE, ICOM_DOCUMENT_DATE, ISDA_DESC, REF_NUMBER, SPECIFIC_UNDERTAKING_REMARKS, IFEMA_DESC, ICOM_DESC, MIN_AMT_CCY, MIN_AMT, MAX_AMT_CCY, MAX_AMT) FOR EXCEPTION "%DB_SCHEMA%".DC_DOC_ERR NONRECOVERABLE CHECK PENDING CASCADE IMMEDIATE

db2 SET INTEGRITY FOR "%DB_SCHEMA%".DC_DOC IMMEDIATE CHECKED FORCE GENERATED FULL ACCESS FOR EXCEPTION IN "%DB_SCHEMA%".DC_DOC USE "%DB_SCHEMA%".DC_DOC_ERR

:end