@echo off

call ..\set_mig_env.cmd %*

IF NOT "%IS_PROCEED%"=="true" (
	goto end
)

db2 LOAD FROM "%FILE_PATH%" OF DEL MODIFIED BY COLDEL, DUMPFILE="%DUMP_PATH%" IMPLIEDDECIMAL TIMESTAMPFORMAT=\"YYYYMMDD\" METHOD P (1, 2, 3, 4, 5, 6, 7, 9, 10, 11, 12, 13, 14, 19, 20, 21, 22)  MESSAGES "%LOG_PATH%" INSERT INTO "%DB_SCHEMA%".DC_OT (CIF_NUMBER, BORROWER_NAME, ACCOUNT_NUMBER, BUSINESS_UNIT, BRANCH_CODE, CMS_COLLATERAL_ID, COLLATERAL_CODE, COLLATERAL_NAME, SECURITY_MATURITY_DATE, SECURITY_PERFECTION_DATE, LEGAL_ENFORCEABILITY_IND, LEGAL_ENFORCEABILITY_DATE, ASSET_DESC, CURRENT_MARKET_VALUE, VALUATION_DATE, FSV, VALUATION_TYPE_DESC) FOR EXCEPTION "%DB_SCHEMA%".DC_OT_ERR NONRECOVERABLE CHECK PENDING CASCADE IMMEDIATE

db2 SET INTEGRITY FOR "%DB_SCHEMA%".DC_OT IMMEDIATE CHECKED FORCE GENERATED FULL ACCESS FOR EXCEPTION IN "%DB_SCHEMA%".DC_OT USE "%DB_SCHEMA%".DC_OT_ERR

:end
