@echo off

call ..\set_mig_env.cmd %*

IF NOT "%IS_PROCEED%"=="true" (
	goto end
)

db2 LOAD FROM "%FILE_PATH%" OF DEL MODIFIED BY COLDEL, DUMPFILE="%DUMP_PATH%" IMPLIEDDECIMAL TIMESTAMPFORMAT=\"YYYYMMDD\" METHOD P (1, 2, 3, 4, 5, 6, 7, 9, 10, 12, 13, 14, 15, 16, 17, 18, 19, 20)  MESSAGES "%LOG_PATH%" INSERT INTO "%DB_SCHEMA%".DC_IN (CIF_NUMBER, BORROWER_NAME, ACCOUNT_NUMBER, BUSINESS_UNIT, BRANCH_CODE, CMS_COLLATERAL_ID, COLLATERAL_CODE, COLLATERAL_NAME, SECURITY_MATURITY_DATE, SECURITY_PERFECTION_DATE, LEGAL_ENFORCEABILITY_IND, LEGAL_ENFORCEABILITY_DATE, INSURER_NAME, INSURANCE_TYPE, INSURED_CURRENCY, INSURED_AMT, INSURANCE_EFFECTIVE_DATE, POLICY_NUMBER) FOR EXCEPTION "%DB_SCHEMA%".DC_IN_ERR NONRECOVERABLE CHECK PENDING CASCADE IMMEDIATE

db2 SET INTEGRITY FOR "%DB_SCHEMA%".DC_IN IMMEDIATE CHECKED FORCE GENERATED FULL ACCESS FOR EXCEPTION IN "%DB_SCHEMA%".DC_IN USE "%DB_SCHEMA%".DC_IN_ERR

:end