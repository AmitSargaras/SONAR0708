#!/bin/bash

. ../set_mig_env.sh $*

if [ -e "$FILE_PATH.ht" ]; then
	. ../hash_total.sh check "$FILE_PATH" "$FILE_PATH.ht" 253,19
fi

if [ ! "$IS_PROCEED" = "true" ]; then
	return
fi

"$DB2_HOME"/bin/db2 LOAD FROM "$FILE_PATH" OF ASC MODIFIED BY TIMESTAMPFORMAT=\"DDMMYYYY\" DUMPFILE="$DUMP_PATH" IMPLIEDDECIMAL STRIPTBLANKS NULLINDCHAR=Y METHOD L \( 1 1, 2 21, 22 26, 27 66, 67 106, 107 166, 167 169, 170 171, 172 191, 192 192, 193 193, 194 201, 202 209, 210 249, 250 252, 253 271, 272 274, 275 293, 294 296, 297 316, 317 335, 336 336, 337 347, 348 348, 349 356, 357 371, 372 391, 392 399, 400 499, 500 507, 508 509, 510 510, 511 511, 512 512, 513 513, 514 514\) MESSAGES "$LOG_PATH" TEMPFILES PATH "$TEMPFILE_PATH" REPLACE INTO "$DB_SCHEMA".MIG_CO002_AB_GOLD \(RECORD_TYPE, SECURITY_ID, CMS_SECURITY_SUBTYPE_ID, SECURITY_REF_NOTE, SOURCE_SECURITY_TYPE, SOURCE_SECURITY_SUB_TYPE, CURRENCY, LOC_COUNTRY, LOC_ORG_CODE, CUSTODIAN_TYPE, LEGAL_ENFORCEABILITY, LEGAL_ENFORCEABILITY_DATE, SECURITY_PERFECTION_DATE, ASSET_DESC, ASSET_TYPE_CODE, PURCHASE_PRICE, PURCHASE_PRICE_CURRENCY, SALES_PROCEED, GOLD_GRADE, PURCHASE_RECEIPT_NO, GOLD_UNIT_PRICE, GOLD_UNIT_PRICE_UOM, GOLD_WEIGHT, GOLD_WEIGHT_UOM, AUCTION_DATE, AUCTION_PRICE, AUCTIONEER, SECURITY_MATURITY_DATE, SECURITY_CUSTODIAN, CERT_EXPIRY_DATE, ENV_RISKY_STATUS, EXCHANGE_CONTROL_OBTAINED, PHY_INSPECTION_DONE, BORROWER_DEPENDENCY, IS_CGC_PLEDGED, COLLATERAL_STATUS\) NONRECOVERABLE INDEXING MODE AUTOSELECT

