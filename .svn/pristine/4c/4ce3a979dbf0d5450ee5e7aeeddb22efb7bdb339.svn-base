#!/bin/bash

. ../set_mig_env.sh $*

if [ -e "$FILE_PATH.ht" ]; then
	. ../hash_total.sh check "$FILE_PATH" "$FILE_PATH.ht" 478,20
fi

if [ ! "$IS_PROCEED" = "true" ]; then
	return
fi

"$DB2_HOME"/bin/db2 LOAD FROM "$FILE_PATH" OF ASC MODIFIED BY TIMESTAMPFORMAT=\"DDMMYYYY\" DUMPFILE="$DUMP_PATH" IMPLIEDDECIMAL STRIPTBLANKS NULLINDCHAR=Y METHOD L \(1 1, 2 21, 22 26, 27 66, 67 106, 107 166, 167 169, 170 171, 172 176, 177 177, 178 185, 186 186, 187 194, 195 202, 203 452, 453 477, 478 497, 498 505, 506 506, 507 606, 607 706, 707 707, 708 747, 748 749, 750 750, 751 751\) MESSAGES "$LOG_PATH" TEMPFILES PATH "$TEMPFILE_PATH" REPLACE INTO "$DB_SCHEMA".MIG_CO010_GT \(RECORD_TYPE, SECURITY_ID, CMS_SECURITY_SUBTYPE_ID, SECURITY_REF_NOTE, SOURCE_SECURITY_TYPE, SOURCE_SECURITY_SUB_TYPE, CURRENCY, LOC_COUNTRY, LOC_ORG_CODE, CUSTODIAN_TYPE, SECURITY_EXPIRY_DATE, LEGAL_ENFORCEABILITY, LEGAL_ENFORCEABILITY_DATE, SECURITY_PERFECTION_DATE, GUARANTEES_DESC, REF_NO, GUARANTEE_AMT, GUARANTEE_DATE, BORROWER_DEPENDENCY, BENEFICIARY_NAME, SECURITY_CUSTODIAN, CHARGE_TYPE, ISSUING_BANK, ISSUING_BANK_COUNTRY, EXCHANGE_CONTROL_OBTAINED, COLLATERAL_STATUS\) NONRECOVERABLE INDEXING MODE AUTOSELECT
