
----------------------------------------------------------------------
-- TR_STATE_MATRIX
----------------------------------------------------------------------	 
INSERT INTO TR_STATE_MATRIX (STATEID, STATEINS, OPERATION, FROMSTATE, TOSTATE, USERSTATE, ENABLEIND, FRONTENDOP) VALUES  
(8500, 'TAT_DOC', 'MAKER_SAVE', 'ND', 'DRAFT', 'DRAFT', '1', '1');
INSERT INTO TR_STATE_MATRIX (STATEID, STATEINS, OPERATION, FROMSTATE, TOSTATE, USERSTATE, ENABLEIND, FRONTENDOP) VALUES  
(8501, 'TAT_DOC', 'MAKER_CREATE', 'ND', 'PENDING_CREATE', 'PENDING_CREATE', '1', '1');
INSERT INTO TR_STATE_MATRIX (STATEID, STATEINS, OPERATION, FROMSTATE, TOSTATE, USERSTATE, ENABLEIND, FRONTENDOP) VALUES  
(8502, 'TAT_DOC', 'MAKER_CREATE', 'DRAFT', 'PENDING_CREATE', 'PENDING_CREATE', '1', '1');
INSERT INTO TR_STATE_MATRIX (STATEID, STATEINS, OPERATION, FROMSTATE, TOSTATE, USERSTATE, ENABLEIND, FRONTENDOP) VALUES  
(8503, 'TAT_DOC', 'MAKER_CREATE', 'REJECTED', 'PENDING_CREATE', 'PENDING_CREATE', '1', '1');
INSERT INTO TR_STATE_MATRIX (STATEID, STATEINS, OPERATION, FROMSTATE, TOSTATE, USERSTATE, ENABLEIND, FRONTENDOP) VALUES  
(8504, 'TAT_DOC', 'CHECKER_APPROVE', 'PENDING_CREATE', 'ACTIVE', 'ACTIVE', '1', '1');
INSERT INTO TR_STATE_MATRIX (STATEID, STATEINS, OPERATION, FROMSTATE, TOSTATE, USERSTATE, ENABLEIND, FRONTENDOP) VALUES  
(8505, 'TAT_DOC', 'CHECKER_REJECT', 'PENDING_CREATE', 'REJECTED', 'REJECTED', '1', '1');
INSERT INTO TR_STATE_MATRIX (STATEID, STATEINS, OPERATION, FROMSTATE, TOSTATE, USERSTATE, ENABLEIND, FRONTENDOP) VALUES  
(8506, 'TAT_DOC', 'MAKER_CLOSE', 'DRAFT', 'CLOSED', 'CLOSED', '1', '1');
INSERT INTO TR_STATE_MATRIX (STATEID, STATEINS, OPERATION, FROMSTATE, TOSTATE, USERSTATE, ENABLEIND, FRONTENDOP) VALUES  
(8507, 'TAT_DOC', 'MAKER_SAVE', 'REJECTED', 'DRAFT', 'DRAFT', '1', '1');
INSERT INTO TR_STATE_MATRIX (STATEID, STATEINS, OPERATION, FROMSTATE, TOSTATE, USERSTATE, ENABLEIND, FRONTENDOP) VALUES  
(8508, 'TAT_DOC', 'MAKER_SAVE', 'DRAFT', 'DRAFT', 'DRAFT', '1', '1');
INSERT INTO TR_STATE_MATRIX (STATEID, STATEINS, OPERATION, FROMSTATE, TOSTATE, USERSTATE, ENABLEIND, FRONTENDOP) VALUES  
(8509, 'TAT_DOC', 'MAKER_SAVE', 'ACTIVE', 'DRAFT', 'DRAFT', '1', '1');
INSERT INTO TR_STATE_MATRIX (STATEID, STATEINS, OPERATION, FROMSTATE, TOSTATE, USERSTATE, ENABLEIND, FRONTENDOP) VALUES  
(8510, 'TAT_DOC', 'MAKER_UPDATE', 'ACTIVE', 'PENDING_UPDATE', 'PENDING_UPDATE', '1', '1');
INSERT INTO TR_STATE_MATRIX (STATEID, STATEINS, OPERATION, FROMSTATE, TOSTATE, USERSTATE, ENABLEIND, FRONTENDOP) VALUES  
(8511, 'TAT_DOC', 'CHECKER_APPROVE', 'PENDING_UPDATE', 'ACTIVE', 'ACTIVE', '1', '1');
INSERT INTO TR_STATE_MATRIX (STATEID, STATEINS, OPERATION, FROMSTATE, TOSTATE, USERSTATE, ENABLEIND, FRONTENDOP) VALUES  
(8512, 'TAT_DOC', 'CHECKER_REJECT', 'PENDING_UPDATE', 'REJECTED', 'REJECTED', '1', '1');
INSERT INTO TR_STATE_MATRIX (STATEID, STATEINS, OPERATION, FROMSTATE, TOSTATE, USERSTATE, ENABLEIND, FRONTENDOP) VALUES  
(8513, 'TAT_DOC', 'MAKER_UPDATE', 'REJECTED', 'PENDING_UPDATE', 'PENDING_UPDATE', '1', '1');
INSERT INTO TR_STATE_MATRIX (STATEID, STATEINS, OPERATION, FROMSTATE, TOSTATE, USERSTATE, ENABLEIND, FRONTENDOP) VALUES  
(8514, 'TAT_DOC', 'MAKER_CLOSE', 'REJECTED', 'CLOSED', 'CLOSED', '1', '1');
INSERT INTO TR_STATE_MATRIX (STATEID, STATEINS, OPERATION, FROMSTATE, TOSTATE, USERSTATE, ENABLEIND, FRONTENDOP) VALUES  
(8515, 'TAT_DOC', 'MAKER_UPDATE', 'DRAFT', 'PENDING_UPDATE', 'PENDING_UPDATE', '1', '1');
INSERT INTO TR_STATE_MATRIX (STATEID, STATEINS, OPERATION, FROMSTATE, TOSTATE, USERSTATE, ENABLEIND, FRONTENDOP) VALUES  
(8516, 'TAT_DOC', 'MAKER_CLOSE_UPDATE', 'DRAFT', 'ACTIVE', 'ACTIVE', '1', '1');
INSERT INTO TR_STATE_MATRIX ( STATEID, STATEINS, OPERATION, FROMSTATE, TOSTATE, USERSTATE,ENABLEIND, FRONTENDOP )VALUES
(8517, 'TAT_DOC', 'MAKER_CLOSE_UPDATE', 'REJECTED', 'ACTIVE', 'ACTIVE', '1', '1');

----------------------------------------------------------------------
-- CMS_STATEMATRIX_ACTION
----------------------------------------------------------------------	 
INSERT INTO CMS_STATEMATRIX_ACTION (STATE_ID, TEAM_MEMBERSHIP_TYPE_ID, USER_ACTION, URL) VALUES 
(8504, 11, 'Process', 'TatDoc.do?event=checker_read&trxId=');
INSERT INTO CMS_STATEMATRIX_ACTION (STATE_ID, TEAM_MEMBERSHIP_TYPE_ID, USER_ACTION, URL) VALUES 
(8503, 10, 'Process', 'TatDoc.do?event=read_edit_todo&trxId=');
INSERT INTO CMS_STATEMATRIX_ACTION (STATE_ID, TEAM_MEMBERSHIP_TYPE_ID, USER_ACTION, URL) VALUES 
(8503, 10, 'Close', 'TatDoc.do?event=read_close&trxId=');
INSERT INTO CMS_STATEMATRIX_ACTION (STATE_ID, TEAM_MEMBERSHIP_TYPE_ID, USER_ACTION, URL) VALUES 
(8502, 10, 'Process', 'TatDoc.do?event=read_edit_todo&trxId=');
INSERT INTO CMS_STATEMATRIX_ACTION (STATE_ID, TEAM_MEMBERSHIP_TYPE_ID, USER_ACTION, URL) VALUES 
(8502, 10, 'Close', 'TatDoc.do?event=read_close&trxId=');
INSERT INTO CMS_STATEMATRIX_ACTION (STATE_ID, TEAM_MEMBERSHIP_TYPE_ID, USER_ACTION, URL) VALUES 
(8511, 11, 'Process', 'TatDoc.do?event=checker_read&trxId=');


----------------------------------------------------------------------
-- CMS_TRX_TOTRACK
----------------------------------------------------------------------	
INSERT INTO CMS_TRX_TOTRACK (TRANSACTION_TYPE, TOTRACK_URL, CURR_STATE, USER_STATE, USER_TRX_TYPE) VALUES 
('TAT_DOC', 'TatDoc.do?event=view&trxId=', 'PENDING_CREATE', 'Pending Create', 'Maintain TAT');
INSERT INTO CMS_TRX_TOTRACK (TRANSACTION_TYPE, TOTRACK_URL, CURR_STATE, USER_STATE, USER_TRX_TYPE) VALUES 
('TAT_DOC', 'TatDoc.do?event=view&trxId=', 'REJECTED', 'Rejected', 'Maintain TAT');
INSERT INTO CMS_TRX_TOTRACK (TRANSACTION_TYPE, TOTRACK_URL, CURR_STATE, USER_STATE, USER_TRX_TYPE) VALUES 
('TAT_DOC', 'TatDoc.do?event=view&trxId=', 'DRAFT', 'Draft', 'Maintain TAT');
INSERT INTO CMS_TRX_TOTRACK (TRANSACTION_TYPE, TOTRACK_URL, CURR_STATE, USER_STATE, USER_TRX_TYPE) VALUES 
('TAT_DOC', 'TatDoc.do?event=view&trxId=', 'PENDING_UPDATE', 'Pending Update', 'Maintain TAT');
insert into cms_trx_totrack (transaction_type, totrack_url, curr_state, user_state, user_trx_type,from_state) 
	values('TAT_DOC', 'TatDoc.do?event=view&trxId=', 'ACTIVE', 'Approved', 'Maintain TAT','PENDING_UPDATE');
insert into cms_trx_totrack (transaction_type, totrack_url, curr_state, user_state, user_trx_type,from_state)
    values('TAT_DOC', 'TatDoc.do?event=view&trxId=', 'ACTIVE', 'Approved', 'Maintain TAT','PENDING_CREATE');
	

-- Maintain TAT Parameter

DELETE FROM TR_STATE_MATRIX WHERE STATEINS = 'TAT_DURATION';

INSERT INTO TR_STATE_MATRIX (STATEID, STATEINS, OPERATION, FROMSTATE, TOSTATE, USERSTATE, ENABLEIND, FRONTENDOP) VALUES  
(8801, 'TAT_DURATION', 'MAKER_SUBMIT', 'ACTIVE', 'PENDING_UPDATE', 'PENDING_UPDATE', '1', '1');
INSERT INTO TR_STATE_MATRIX (STATEID, STATEINS, OPERATION, FROMSTATE, TOSTATE, USERSTATE, ENABLEIND, FRONTENDOP) VALUES  
(8802, 'TAT_DURATION', 'CHECKER_APPROVE', 'PENDING_UPDATE', 'ACTIVE', 'ACTIVE', '1', '1');
INSERT INTO TR_STATE_MATRIX (STATEID, STATEINS, OPERATION, FROMSTATE, TOSTATE, USERSTATE, ENABLEIND, FRONTENDOP) VALUES  
(8803, 'TAT_DURATION', 'CHECKER_REJECT', 'PENDING_UPDATE', 'REJECTED', 'REJECTED', '1', '1');
INSERT INTO TR_STATE_MATRIX (STATEID, STATEINS, OPERATION, FROMSTATE, TOSTATE, USERSTATE, ENABLEIND, FRONTENDOP) VALUES  
(8804, 'TAT_DURATION', 'MAKER_CLOSE', 'REJECTED', 'ACTIVE', 'ACTIVE', '1', '1');



DELETE FROM CMS_STATEMATRIX_ACTION WHERE STATE_ID > 8800 AND STATE_ID < 8899;
INSERT INTO CMS_STATEMATRIX_ACTION (STATE_ID, TEAM_MEMBERSHIP_TYPE_ID, USER_ACTION, URL, TOTRACK_URL) VALUES 
(8802, 7, 'Process', 'TatDuration.do?event=checker_process_submit&trxId=', 'TatDuration.do?event=to_track&trxId=');
INSERT INTO CMS_STATEMATRIX_ACTION (STATE_ID, TEAM_MEMBERSHIP_TYPE_ID, USER_ACTION, URL, TOTRACK_URL) VALUES 
(8804, 6, 'Close', 'TatDuration.do?event=maker_prepare_close&trxId=', 'TatDuration.do?event=to_track&trxId=');
--INSERT INTO CMS_STATEMATRIX_ACTION (STATE_ID, TEAM_MEMBERSHIP_TYPE_ID, USER_ACTION, URL) VALUES 
--(8803, 2, 'Close', 'TatDuration.do?event=read_close&trxId=');
--INSERT INTO CMS_STATEMATRIX_ACTION (STATE_ID, TEAM_MEMBERSHIP_TYPE_ID, USER_ACTION, URL) VALUES 
--(8802, 6, 'Process', 'TatDuration.do?event=read_edit_todo&trxId=');
--INSERT INTO CMS_STATEMATRIX_ACTION (STATE_ID, TEAM_MEMBERSHIP_TYPE_ID, USER_ACTION, URL) VALUES 
--(8802, 6, 'Close', 'TatDuration.do?event=read_close&trxId=');
--INSERT INTO CMS_STATEMATRIX_ACTION (STATE_ID, TEAM_MEMBERSHIP_TYPE_ID, USER_ACTION, URL) VALUES 
--(8802, 7, 'Process', 'TatDuration.do?event=checker_read&trxId=');


DELETE FROM CMS_TRX_TOTRACK WHERE TRANSACTION_TYPE = 'TAT_DURATION';

INSERT INTO CMS_TRX_TOTRACK (TRANSACTION_TYPE, TOTRACK_URL, CURR_STATE, USER_STATE, USER_TRX_TYPE, FROM_STATE) VALUES 
('TAT_DURATION', 'TatDuration.do?event=to_track&trxId=', 'PENDING_UPDATE', 'Pending Update', 'Update TAT Duration', 'ACTIVE');
INSERT INTO CMS_TRX_TOTRACK (TRANSACTION_TYPE, TOTRACK_URL, CURR_STATE, USER_STATE, USER_TRX_TYPE, FROM_STATE) VALUES 
('TAT_DURATION', 'TatDuration.do?event=to_track&trxId=', 'REJECTED', 'Rejected', 'Close TAT Duration', 'PENDING_UPDATE');
INSERT INTO CMS_TRX_TOTRACK (TRANSACTION_TYPE, TOTRACK_URL, CURR_STATE, USER_STATE, USER_TRX_TYPE, FROM_STATE) VALUES 
('TAT_DURATION', 'TatDuration.do?event=to_track&trxId=', 'ACTIVE', 'Approved', 'Update TAT Duration','PENDING_UPDATE');
INSERT INTO CMS_TRX_TOTRACK (TRANSACTION_TYPE, TOTRACK_URL, CURR_STATE, USER_STATE, USER_TRX_TYPE, FROM_STATE) VALUES 
('TAT_DURATION', 'TatDuration.do?event=to_track&trxId=', 'ACTIVE', 'Close', 'Update TAT Duration','REJECTED');




DELETE FROM CMS_FUNCTION_ACCESS WHERE ACTION = 'TatDuration';
INSERT INTO CMS_FUNCTION_ACCESS (ID, ACTION, EVENT, ROLE_TYPE) VALUES
(59000001, 'TatDuration', 'view_app_list', 6);
INSERT INTO CMS_FUNCTION_ACCESS (ID, ACTION, EVENT, ROLE_TYPE) VALUES
(59000002, 'TatDuration', 'read_stage_list', 6);
INSERT INTO CMS_FUNCTION_ACCESS (ID, ACTION, EVENT, ROLE_TYPE) VALUES
(59000003, 'TatDuration', 'view_stage_list', 6);
INSERT INTO CMS_FUNCTION_ACCESS (ID, ACTION, EVENT, ROLE_TYPE) VALUES
(59000004, 'TatDuration', 'edit_stage_list', 6);
INSERT INTO CMS_FUNCTION_ACCESS (ID, ACTION, EVENT, ROLE_TYPE) VALUES
(59000005, 'TatDuration', 'submit_tat_duration', 6);
INSERT INTO CMS_FUNCTION_ACCESS (ID, ACTION, EVENT, ROLE_TYPE) VALUES
(59000006, 'TatDuration', 'checker_process_submit', 7);
INSERT INTO CMS_FUNCTION_ACCESS (ID, ACTION, EVENT, ROLE_TYPE) VALUES
(59000007, 'TatDuration', 'checker_confirm_approve_edit', 7);
INSERT INTO CMS_FUNCTION_ACCESS (ID, ACTION, EVENT, ROLE_TYPE) VALUES
(59000008, 'TatDuration', 'checker_confirm_reject_edit', 7);
INSERT INTO CMS_FUNCTION_ACCESS (ID, ACTION, EVENT, ROLE_TYPE) VALUES
(59000009, 'TatDuration', 'to_track', 6);
INSERT INTO CMS_FUNCTION_ACCESS (ID, ACTION, EVENT, ROLE_TYPE) VALUES
(59000010, 'TatDuration', 'to_track', 7);
INSERT INTO CMS_FUNCTION_ACCESS (ID, ACTION, EVENT, ROLE_TYPE) VALUES
(59000011, 'TatDuration', 'maker_prepare_close', 6);
INSERT INTO CMS_FUNCTION_ACCESS (ID, ACTION, EVENT, ROLE_TYPE) VALUES
(59000012, 'TatDuration', 'maker_confirm_close', 6);
INSERT INTO CMS_FUNCTION_ACCESS (ID, ACTION, EVENT, ROLE_TYPE) VALUES
(59000013, 'TatDuration', 'view_app_list', 7);
INSERT INTO CMS_FUNCTION_ACCESS (ID, ACTION, EVENT, ROLE_TYPE) VALUES
(59000014, 'TatDuration', 'read_stage_list', 7);


DELETE FROM common_code_category_entry WHERE CATEGORY_CODE = 'DURATION_TYPE';
DELETE FROM COMMON_CODE_CATEGORY WHERE CATEGORY_CODE = 'DURATION_TYPE';
INSERT INTO COMMON_CODE_CATEGORY (CATEGORY_ID, CATEGORY_CODE, CATEGORY_NAME, CATEGORY_TYPE, ACTIVE_STATUS)
VALUES (NEXT VALUE FOR COMMON_CODE_CATEGORY_SEQ, 'DURATION_TYPE', 'Duration Type', 1, 'A');
insert into common_code_category_entry (entry_id, entry_code, entry_name,  active_status, country, category_code, category_code_id) 
select next value for common_code_category_entry_seq, 'D', 'Day(s)',  '1', 'MY', category_code, 
category_id from common_code_category where category_code = 'DURATION_TYPE';
insert into common_code_category_entry (entry_id, entry_code, entry_name,  active_status, country, category_code, category_code_id) 
select next value for common_code_category_entry_seq, 'H', 'Hour(s)',  '1', 'MY', category_code, 
category_id from common_code_category where category_code = 'DURATION_TYPE';


SET CURRENT PATH = SYSIBM,SYSFUN,SYSPROC,SYSIBMADM,ABCLIMS;

DELETE FROM CMS_TAT_PARAM;
INSERT INTO CMS_TAT_PARAM (TAT_PARAM_ID, APPLICATION_TYPE, VERSION_TIME) 
(SELECT CAST((TS_FMT(CURRENT_TIMESTAMP, 'yyyymmdd') || SUBSTR(DIGITS(NEXT VALUE FOR CMS_TAT_PARAM_SEQ), 2)) as BIGINT), 'CO', BIGINT(CURRENT_TIMESTAMP) from dual);
INSERT INTO CMS_TAT_PARAM (TAT_PARAM_ID, APPLICATION_TYPE, VERSION_TIME)
(SELECT CAST((TS_FMT(CURRENT_TIMESTAMP, 'yyyymmdd') || SUBSTR(DIGITS(NEXT VALUE FOR CMS_TAT_PARAM_SEQ), 2)) as BIGINT), 'COM', BIGINT(CURRENT_TIMESTAMP) from dual);
INSERT INTO CMS_TAT_PARAM (TAT_PARAM_ID, APPLICATION_TYPE, VERSION_TIME)
(SELECT CAST((TS_FMT(CURRENT_TIMESTAMP, 'yyyymmdd') || SUBSTR(DIGITS(NEXT VALUE FOR CMS_TAT_PARAM_SEQ), 2)) as BIGINT), 'MG', BIGINT(CURRENT_TIMESTAMP) from dual);
INSERT INTO CMS_TAT_PARAM (TAT_PARAM_ID, APPLICATION_TYPE, VERSION_TIME)
(SELECT CAST((TS_FMT(CURRENT_TIMESTAMP, 'yyyymmdd') || SUBSTR(DIGITS(NEXT VALUE FOR CMS_TAT_PARAM_SEQ), 2)) as BIGINT), 'HP', BIGINT(CURRENT_TIMESTAMP) from dual);
INSERT INTO CMS_TAT_PARAM (TAT_PARAM_ID, APPLICATION_TYPE, VERSION_TIME)
(SELECT CAST((TS_FMT(CURRENT_TIMESTAMP, 'yyyymmdd') || SUBSTR(DIGITS(NEXT VALUE FOR CMS_TAT_PARAM_SEQ), 2)) as BIGINT), 'PL', BIGINT(CURRENT_TIMESTAMP) from dual);


DELETE FROM CMS_STAGE_TAT_PARAM;
INSERT INTO CMS_STAGE_TAT_PARAM (TAT_PARAM_ID, APPLICATION_TYPE, VERSION_TIME)
(SELECT CAST((TS_FMT(CURRENT_TIMESTAMP, 'yyyymmdd') || SUBSTR(DIGITS(NEXT VALUE FOR CMS_STAGE_TAT_PARAM_SEQ), 2)) as BIGINT), 'CO', BIGINT(CURRENT_TIMESTAMP) from dual);
INSERT INTO CMS_STAGE_TAT_PARAM (TAT_PARAM_ID, APPLICATION_TYPE, VERSION_TIME)
(SELECT CAST((TS_FMT(CURRENT_TIMESTAMP, 'yyyymmdd') || SUBSTR(DIGITS(NEXT VALUE FOR CMS_STAGE_TAT_PARAM_SEQ), 2)) as BIGINT), 'COM', BIGINT(CURRENT_TIMESTAMP) from dual);
INSERT INTO CMS_STAGE_TAT_PARAM (TAT_PARAM_ID, APPLICATION_TYPE, VERSION_TIME)
(SELECT CAST((TS_FMT(CURRENT_TIMESTAMP, 'yyyymmdd') || SUBSTR(DIGITS(NEXT VALUE FOR CMS_STAGE_TAT_PARAM_SEQ), 2)) as BIGINT), 'MG', BIGINT(CURRENT_TIMESTAMP) from dual);
INSERT INTO CMS_STAGE_TAT_PARAM (TAT_PARAM_ID, APPLICATION_TYPE, VERSION_TIME)
(SELECT CAST((TS_FMT(CURRENT_TIMESTAMP, 'yyyymmdd') || SUBSTR(DIGITS(NEXT VALUE FOR CMS_STAGE_TAT_PARAM_SEQ), 2)) as BIGINT), 'HP', BIGINT(CURRENT_TIMESTAMP) from dual);
INSERT INTO CMS_STAGE_TAT_PARAM (TAT_PARAM_ID, APPLICATION_TYPE, VERSION_TIME)
(SELECT CAST((TS_FMT(CURRENT_TIMESTAMP, 'yyyymmdd') || SUBSTR(DIGITS(NEXT VALUE FOR CMS_STAGE_TAT_PARAM_SEQ), 2)) as BIGINT), 'PL', BIGINT(CURRENT_TIMESTAMP) from dual);


DELETE FROM TRANSACTION WHERE TRANSACTION_TYPE = 'TAT_DURATION';
DELETE FROM TRANSACTION WHERE TRANSACTION_TYPE = 'MAINTAIN_TAT';

INSERT INTO TRANSACTION(TRANSACTION_ID, FROM_STATE, USER_ID, TRANSACTION_TYPE, CREATION_DATE, TRANSACTION_DATE, REFERENCE_ID, STATUS, STAGING_REFERENCE_ID, TEAM_ID, VERSION, REMARKS, TRX_REFERENCE_ID, OPSDESC, CUSTOMER_ID, TRX_ORIGIN_COUNTRY, TRX_ORIGIN_ORGANISATION, TRX_SEGMENT, TEAM_TYPE_ID, TO_GROUP_TYPE_ID, TO_GROUP_ID, TO_USER_ID)
(SELECT CHAR(CAST((TS_FMT(CURRENT_TIMESTAMP, 'yyyymmdd') || SUBSTR(DIGITS(NEXT VALUE FOR TRX_SEQ), 2)) as BIGINT)),
	'ACTIVE', -1, 'TAT_DURATION', current timestamp, current timestamp,
	(SELECT TAT_PARAM_ID FROM CMS_TAT_PARAM WHERE APPLICATION_TYPE = 'CO'),
	'ACTIVE',
	(SELECT TAT_PARAM_ID FROM CMS_STAGE_TAT_PARAM WHERE APPLICATION_TYPE = 'CO'),
	0, 1, 'TAT STAGE', -999999999, 'SYSTEM_CREATE', -999999999, '--', '--', '--', 2, '-999999999', -999999999, -999999999 from dual);


INSERT INTO TRANSACTION(TRANSACTION_ID, FROM_STATE, USER_ID, TRANSACTION_TYPE, CREATION_DATE, TRANSACTION_DATE, REFERENCE_ID, STATUS, STAGING_REFERENCE_ID, TEAM_ID, VERSION, REMARKS, TRX_REFERENCE_ID, OPSDESC, CUSTOMER_ID, TRX_ORIGIN_COUNTRY, TRX_ORIGIN_ORGANISATION, TRX_SEGMENT, TEAM_TYPE_ID, TO_GROUP_TYPE_ID, TO_GROUP_ID, TO_USER_ID)
(SELECT CHAR(CAST((TS_FMT(CURRENT_TIMESTAMP, 'yyyymmdd') || SUBSTR(DIGITS(NEXT VALUE FOR TRX_SEQ), 2)) as BIGINT)),
	'ACTIVE', -1, 'TAT_DURATION', current timestamp, current timestamp,
	(SELECT TAT_PARAM_ID FROM CMS_TAT_PARAM WHERE APPLICATION_TYPE = 'COM'),
	'ACTIVE',
	(SELECT TAT_PARAM_ID FROM CMS_STAGE_TAT_PARAM WHERE APPLICATION_TYPE = 'COM'),
	0, 1, 'TAT STAGE', -999999999, 'SYSTEM_CREATE', -999999999, '--', '--', '--', 2, '-999999999', -999999999, -999999999 from dual);


INSERT INTO TRANSACTION(TRANSACTION_ID, FROM_STATE, USER_ID, TRANSACTION_TYPE, CREATION_DATE, TRANSACTION_DATE, REFERENCE_ID, STATUS, STAGING_REFERENCE_ID, TEAM_ID, VERSION, REMARKS, TRX_REFERENCE_ID, OPSDESC, CUSTOMER_ID, TRX_ORIGIN_COUNTRY, TRX_ORIGIN_ORGANISATION, TRX_SEGMENT, TEAM_TYPE_ID, TO_GROUP_TYPE_ID, TO_GROUP_ID, TO_USER_ID)
(SELECT CHAR(CAST((TS_FMT(CURRENT_TIMESTAMP, 'yyyymmdd') || SUBSTR(DIGITS(NEXT VALUE FOR TRX_SEQ), 2)) as BIGINT)),
	'ACTIVE', -1, 'TAT_DURATION', current timestamp, current timestamp,
	(SELECT TAT_PARAM_ID FROM CMS_TAT_PARAM WHERE APPLICATION_TYPE = 'MG'),
	'ACTIVE',
	(SELECT TAT_PARAM_ID FROM CMS_STAGE_TAT_PARAM WHERE APPLICATION_TYPE = 'MG'),
	0, 1, 'TAT STAGE', -999999999, 'SYSTEM_CREATE', -999999999, '--', '--', '--', 2, '-999999999', -999999999, -999999999 from dual);


INSERT INTO TRANSACTION(TRANSACTION_ID, FROM_STATE, USER_ID, TRANSACTION_TYPE, CREATION_DATE, TRANSACTION_DATE, REFERENCE_ID, STATUS, STAGING_REFERENCE_ID, TEAM_ID, VERSION, REMARKS, TRX_REFERENCE_ID, OPSDESC, CUSTOMER_ID, TRX_ORIGIN_COUNTRY, TRX_ORIGIN_ORGANISATION, TRX_SEGMENT, TEAM_TYPE_ID, TO_GROUP_TYPE_ID, TO_GROUP_ID, TO_USER_ID)
(SELECT CHAR(CAST((TS_FMT(CURRENT_TIMESTAMP, 'yyyymmdd') || SUBSTR(DIGITS(NEXT VALUE FOR TRX_SEQ), 2)) as BIGINT)),
	'ACTIVE', -1, 'TAT_DURATION', current timestamp, current timestamp,
	(SELECT TAT_PARAM_ID FROM CMS_TAT_PARAM WHERE APPLICATION_TYPE = 'HP'),
	'ACTIVE',
	(SELECT TAT_PARAM_ID FROM CMS_STAGE_TAT_PARAM WHERE APPLICATION_TYPE = 'HP'),
	0, 1, 'TAT STAGE', -999999999, 'SYSTEM_CREATE', -999999999, '--', '--', '--', 2, '-999999999', -999999999, -999999999 from dual);



INSERT INTO TRANSACTION(TRANSACTION_ID, FROM_STATE, USER_ID, TRANSACTION_TYPE, CREATION_DATE, TRANSACTION_DATE, REFERENCE_ID, STATUS, STAGING_REFERENCE_ID, TEAM_ID, VERSION, REMARKS, TRX_REFERENCE_ID, OPSDESC, CUSTOMER_ID, TRX_ORIGIN_COUNTRY, TRX_ORIGIN_ORGANISATION, TRX_SEGMENT, TEAM_TYPE_ID, TO_GROUP_TYPE_ID, TO_GROUP_ID, TO_USER_ID)
(SELECT CHAR(CAST((TS_FMT(CURRENT_TIMESTAMP, 'yyyymmdd') || SUBSTR(DIGITS(NEXT VALUE FOR TRX_SEQ), 2)) as BIGINT)),
	'ACTIVE', -1, 'TAT_DURATION', current timestamp, current timestamp,
	(SELECT TAT_PARAM_ID FROM CMS_TAT_PARAM WHERE APPLICATION_TYPE = 'PL'),
	'ACTIVE',
	(SELECT TAT_PARAM_ID FROM CMS_STAGE_TAT_PARAM WHERE APPLICATION_TYPE = 'PL'),
	0, 1, 'TAT STAGE', -999999999, 'SYSTEM_CREATE', -999999999, '--', '--', '--', 2, '-999999999', -999999999, -999999999 from dual);





--- Inserting CMS_TAT_PARAM_ITEM and CMS_STAGE_TAT_PARAM_ITEM and TRANSACTION

DELETE FROM CMS_TAT_PARAM_ITEM;
DELETE FROM CMS_STAGE_TAT_PARAM_ITEM;


---------------------  General Corperate   -----------------------

INSERT INTO CMS_TAT_PARAM_ITEM
(TAT_PARAM_ITEM_ID, TAT_PARAM_ID, STAGE_TYPE, STAGE_CODE, PRE_STAGE, POST_STAGE, DURATION, DURATION_TYPE, SEQUENCE_ORDER, CMS_REF_ID, VERSION_TIME, STATUS)
(SELECT CAST((TS_FMT(CURRENT_TIMESTAMP, 'yyyymmdd') || SUBSTR(DIGITS(NEXT VALUE FOR CMS_TAT_PARAM_ITEM_SEQ), 2)) as BIGINT),
(SELECT TAT_PARAM_ID FROM CMS_TAT_PARAM WHERE APPLICATION_TYPE = 'CO'), '1', '1', 'Acceptance of LO received', 'Letter of Instruction (LI) to solicitor/ valuer/ insurance/ QS [or customer/RM if no solicitor involved]', 1, '1', 1, 0, 0, 'ACTIVE' from dual);

INSERT INTO CMS_STAGE_TAT_PARAM_ITEM
(TAT_PARAM_ITEM_ID, TAT_PARAM_ID, STAGE_TYPE, STAGE_CODE, PRE_STAGE, POST_STAGE, DURATION, DURATION_TYPE, SEQUENCE_ORDER, CMS_REF_ID, VERSION_TIME, STATUS)
(SELECT CAST((TS_FMT(CURRENT_TIMESTAMP, 'yyyymmdd') || SUBSTR(DIGITS(NEXT VALUE FOR CMS_STAGE_TAT_PARAM_ITEM_SEQ), 2)) as BIGINT),
(SELECT TAT_PARAM_ID FROM CMS_STAGE_TAT_PARAM WHERE APPLICATION_TYPE = 'CO'), '1', '1', 'Acceptance of LO received', 'Letter of Instruction (LI) to solicitor/ valuer/ insurance/ QS [or customer/RM if no solicitor involved]', 1, '1', 1, 0, 0, 'ACTIVE' from dual);

UPDATE CMS_TAT_PARAM_ITEM SET CMS_REF_ID = (SELECT TAT_PARAM_ITEM_ID FROM CMS_STAGE_TAT_PARAM_ITEM WHERE
TAT_PARAM_ID = (SELECT TAT_PARAM_ID FROM CMS_STAGE_TAT_PARAM WHERE APPLICATION_TYPE = 'CO') AND
PRE_STAGE = 'Acceptance of LO received' AND POST_STAGE = 'Letter of Instruction (LI) to solicitor/ valuer/ insurance/ QS [or customer/RM if no solicitor involved]')
WHERE TAT_PARAM_ITEM_ID = (SELECT TAT_PARAM_ITEM_ID FROM CMS_TAT_PARAM_ITEM WHERE
TAT_PARAM_ID = (SELECT TAT_PARAM_ID FROM CMS_TAT_PARAM WHERE APPLICATION_TYPE = 'CO') AND
PRE_STAGE = 'Acceptance of LO received' AND POST_STAGE = 'Letter of Instruction (LI) to solicitor/ valuer/ insurance/ QS [or customer/RM if no solicitor involved]');

UPDATE CMS_STAGE_TAT_PARAM_ITEM SET CMS_REF_ID = (SELECT TAT_PARAM_ITEM_ID FROM CMS_STAGE_TAT_PARAM_ITEM WHERE
TAT_PARAM_ID = (SELECT TAT_PARAM_ID FROM CMS_STAGE_TAT_PARAM WHERE APPLICATION_TYPE = 'CO') AND
PRE_STAGE = 'Acceptance of LO received' AND POST_STAGE = 'Letter of Instruction (LI) to solicitor/ valuer/ insurance/ QS [or customer/RM if no solicitor involved]')
WHERE TAT_PARAM_ITEM_ID = (SELECT TAT_PARAM_ITEM_ID FROM CMS_STAGE_TAT_PARAM_ITEM WHERE
TAT_PARAM_ID = (SELECT TAT_PARAM_ID FROM CMS_STAGE_TAT_PARAM WHERE APPLICATION_TYPE = 'CO') AND PRE_STAGE
= 'Acceptance of LO received' AND POST_STAGE = 'Letter of Instruction (LI) to solicitor/ valuer/ insurance/ QS [or customer/RM if no solicitor involved]');



INSERT INTO CMS_TAT_PARAM_ITEM
(TAT_PARAM_ITEM_ID, TAT_PARAM_ID, STAGE_TYPE, STAGE_CODE, PRE_STAGE, POST_STAGE, DURATION, DURATION_TYPE, SEQUENCE_ORDER, CMS_REF_ID, VERSION_TIME, STATUS)
(SELECT CAST((TS_FMT(CURRENT_TIMESTAMP, 'yyyymmdd') || SUBSTR(DIGITS(NEXT VALUE FOR CMS_TAT_PARAM_ITEM_SEQ), 2)) as BIGINT),
(SELECT TAT_PARAM_ID FROM CMS_TAT_PARAM WHERE APPLICATION_TYPE = 'CO'), '1', '1', 'Date of LI to solicitor', 'Receipt of draft security documents from solicitor', 0, '1', 2, 0, 0, 'ACTIVE' from dual);

INSERT INTO CMS_STAGE_TAT_PARAM_ITEM
(TAT_PARAM_ITEM_ID, TAT_PARAM_ID, STAGE_TYPE, STAGE_CODE, PRE_STAGE, POST_STAGE, DURATION, DURATION_TYPE, SEQUENCE_ORDER, CMS_REF_ID, VERSION_TIME, STATUS)
(SELECT CAST((TS_FMT(CURRENT_TIMESTAMP, 'yyyymmdd') || SUBSTR(DIGITS(NEXT VALUE FOR CMS_STAGE_TAT_PARAM_ITEM_SEQ), 2)) as BIGINT),
(SELECT TAT_PARAM_ID FROM CMS_STAGE_TAT_PARAM WHERE APPLICATION_TYPE = 'CO'), '1', '1', 'Date of LI to solicitor', 'Receipt of draft security documents from solicitor', 0, '1', 2, 0, 0, 'ACTIVE' from dual);

UPDATE CMS_TAT_PARAM_ITEM SET CMS_REF_ID = (SELECT TAT_PARAM_ITEM_ID FROM CMS_STAGE_TAT_PARAM_ITEM WHERE
TAT_PARAM_ID = (SELECT TAT_PARAM_ID FROM CMS_STAGE_TAT_PARAM WHERE APPLICATION_TYPE = 'CO') AND
PRE_STAGE  = 'Date of LI to solicitor' AND POST_STAGE = 'Receipt of draft security documents from solicitor')
WHERE TAT_PARAM_ITEM_ID = (SELECT TAT_PARAM_ITEM_ID FROM CMS_TAT_PARAM_ITEM WHERE
TAT_PARAM_ID = (SELECT TAT_PARAM_ID FROM CMS_TAT_PARAM WHERE APPLICATION_TYPE = 'CO') AND
PRE_STAGE  = 'Date of LI to solicitor' AND POST_STAGE = 'Receipt of draft security documents from solicitor');

UPDATE CMS_STAGE_TAT_PARAM_ITEM SET CMS_REF_ID = (SELECT TAT_PARAM_ITEM_ID FROM CMS_STAGE_TAT_PARAM_ITEM WHERE
TAT_PARAM_ID = (SELECT TAT_PARAM_ID FROM CMS_STAGE_TAT_PARAM WHERE APPLICATION_TYPE = 'CO')
AND PRE_STAGE  = 'Date of LI to solicitor' AND POST_STAGE = 'Receipt of draft security documents from solicitor')
WHERE TAT_PARAM_ITEM_ID = (SELECT TAT_PARAM_ITEM_ID FROM CMS_STAGE_TAT_PARAM_ITEM WHERE
TAT_PARAM_ID = (SELECT TAT_PARAM_ID FROM CMS_STAGE_TAT_PARAM WHERE APPLICATION_TYPE = 'CO') AND
PRE_STAGE  = 'Date of LI to solicitor' AND POST_STAGE = 'Receipt of draft security documents from solicitor');



INSERT INTO CMS_TAT_PARAM_ITEM
(TAT_PARAM_ITEM_ID, TAT_PARAM_ID, STAGE_TYPE, STAGE_CODE, PRE_STAGE, POST_STAGE, DURATION, DURATION_TYPE, SEQUENCE_ORDER, CMS_REF_ID, VERSION_TIME, STATUS)
(SELECT CAST((TS_FMT(CURRENT_TIMESTAMP, 'yyyymmdd') || SUBSTR(DIGITS(NEXT VALUE FOR CMS_TAT_PARAM_ITEM_SEQ), 2)) as BIGINT),
(SELECT TAT_PARAM_ID FROM CMS_TAT_PARAM WHERE APPLICATION_TYPE = 'CO'), '1', '1', 'Receipt of draft security documents from solicitor', 'Checking of draft security documents by Officer completed & returned to solicitor', 2, '1', 3, 0, 0, 'ACTIVE' from dual);

INSERT INTO CMS_STAGE_TAT_PARAM_ITEM
(TAT_PARAM_ITEM_ID, TAT_PARAM_ID, STAGE_TYPE, STAGE_CODE, PRE_STAGE, POST_STAGE, DURATION, DURATION_TYPE, SEQUENCE_ORDER, CMS_REF_ID, VERSION_TIME, STATUS)
(SELECT CAST((TS_FMT(CURRENT_TIMESTAMP, 'yyyymmdd') || SUBSTR(DIGITS(NEXT VALUE FOR CMS_STAGE_TAT_PARAM_ITEM_SEQ), 2)) as BIGINT),
(SELECT TAT_PARAM_ID FROM CMS_STAGE_TAT_PARAM WHERE APPLICATION_TYPE = 'CO'), '1', '1', 'Receipt of draft security documents from solicitor', 'Checking of draft security documents by Officer completed & returned to solicitor', 2, '1', 3, 0, 0, 'ACTIVE' from dual);

UPDATE CMS_TAT_PARAM_ITEM SET CMS_REF_ID = (SELECT TAT_PARAM_ITEM_ID FROM CMS_STAGE_TAT_PARAM_ITEM WHERE
TAT_PARAM_ID = (SELECT TAT_PARAM_ID FROM CMS_STAGE_TAT_PARAM WHERE APPLICATION_TYPE = 'CO') AND
PRE_STAGE  = 'Receipt of draft security documents from solicitor' AND POST_STAGE = 'Checking of draft security documents by Officer completed & returned to solicitor')
WHERE TAT_PARAM_ITEM_ID = (SELECT TAT_PARAM_ITEM_ID FROM CMS_TAT_PARAM_ITEM WHERE
TAT_PARAM_ID = (SELECT TAT_PARAM_ID FROM CMS_TAT_PARAM WHERE APPLICATION_TYPE = 'CO') AND
PRE_STAGE  = 'Receipt of draft security documents from solicitor' AND POST_STAGE = 'Checking of draft security documents by Officer completed & returned to solicitor');

UPDATE CMS_STAGE_TAT_PARAM_ITEM SET CMS_REF_ID = (SELECT TAT_PARAM_ITEM_ID FROM CMS_STAGE_TAT_PARAM_ITEM WHERE
TAT_PARAM_ID = (SELECT TAT_PARAM_ID FROM CMS_STAGE_TAT_PARAM WHERE APPLICATION_TYPE = 'CO') AND
PRE_STAGE  = 'Receipt of draft security documents from solicitor' AND POST_STAGE = 'Checking of draft security documents by Officer completed & returned to solicitor')
WHERE TAT_PARAM_ITEM_ID = (SELECT TAT_PARAM_ITEM_ID FROM CMS_STAGE_TAT_PARAM_ITEM WHERE
TAT_PARAM_ID = (SELECT TAT_PARAM_ID FROM CMS_STAGE_TAT_PARAM WHERE APPLICATION_TYPE = 'CO') AND
PRE_STAGE  = 'Receipt of draft security documents from solicitor' AND POST_STAGE = 'Checking of draft security documents by Officer completed & returned to solicitor');



INSERT INTO CMS_TAT_PARAM_ITEM
(TAT_PARAM_ITEM_ID, TAT_PARAM_ID, STAGE_TYPE, STAGE_CODE, PRE_STAGE, POST_STAGE, DURATION, DURATION_TYPE, SEQUENCE_ORDER, CMS_REF_ID, VERSION_TIME, STATUS)
(SELECT CAST((TS_FMT(CURRENT_TIMESTAMP, 'yyyymmdd') || SUBSTR(DIGITS(NEXT VALUE FOR CMS_TAT_PARAM_ITEM_SEQ), 2)) as BIGINT),
(SELECT TAT_PARAM_ID FROM CMS_TAT_PARAM WHERE APPLICATION_TYPE = 'CO'), '1', '1', 'Where checking involves Legal Dept:- Receipt of draft sec docs from solicitor', 'Checking of draft security documents by Officer & Legal Dept completed & returned to solicitor', 5, '1', 4, 0, 0, 'ACTIVE' from dual);

INSERT INTO CMS_STAGE_TAT_PARAM_ITEM
(TAT_PARAM_ITEM_ID, TAT_PARAM_ID, STAGE_TYPE, STAGE_CODE, PRE_STAGE, POST_STAGE, DURATION, DURATION_TYPE, SEQUENCE_ORDER, CMS_REF_ID, VERSION_TIME, STATUS)
(SELECT CAST((TS_FMT(CURRENT_TIMESTAMP, 'yyyymmdd') || SUBSTR(DIGITS(NEXT VALUE FOR CMS_STAGE_TAT_PARAM_ITEM_SEQ), 2)) as BIGINT),
(SELECT TAT_PARAM_ID FROM CMS_STAGE_TAT_PARAM WHERE APPLICATION_TYPE = 'CO'), '1', '1', 'Where checking involves Legal Dept:- Receipt of draft sec docs from solicitor', 'Checking of draft security documents by Officer & Legal Dept completed & returned to solicitor', 5, '1', 4, 0, 0, 'ACTIVE' from dual);

UPDATE CMS_TAT_PARAM_ITEM SET CMS_REF_ID = (SELECT TAT_PARAM_ITEM_ID FROM CMS_STAGE_TAT_PARAM_ITEM WHERE
TAT_PARAM_ID = (SELECT TAT_PARAM_ID FROM CMS_STAGE_TAT_PARAM WHERE APPLICATION_TYPE = 'CO') AND
PRE_STAGE  = 'Where checking involves Legal Dept:- Receipt of draft sec docs from solicitor' AND POST_STAGE = 'Checking of draft security documents by Officer & Legal Dept completed & returned to solicitor')
WHERE TAT_PARAM_ITEM_ID = (SELECT TAT_PARAM_ITEM_ID FROM CMS_TAT_PARAM_ITEM WHERE
TAT_PARAM_ID = (SELECT TAT_PARAM_ID FROM CMS_TAT_PARAM WHERE APPLICATION_TYPE = 'CO') AND
PRE_STAGE  = 'Where checking involves Legal Dept:- Receipt of draft sec docs from solicitor' AND POST_STAGE = 'Checking of draft security documents by Officer & Legal Dept completed & returned to solicitor');

UPDATE CMS_STAGE_TAT_PARAM_ITEM SET CMS_REF_ID = (SELECT TAT_PARAM_ITEM_ID FROM CMS_STAGE_TAT_PARAM_ITEM WHERE
TAT_PARAM_ID = (SELECT TAT_PARAM_ID FROM CMS_STAGE_TAT_PARAM WHERE APPLICATION_TYPE = 'CO') AND
PRE_STAGE  = 'Where checking involves Legal Dept:- Receipt of draft sec docs from solicitor' AND POST_STAGE = 'Checking of draft security documents by Officer & Legal Dept completed & returned to solicitor')
WHERE TAT_PARAM_ITEM_ID = (SELECT TAT_PARAM_ITEM_ID FROM CMS_STAGE_TAT_PARAM_ITEM WHERE
TAT_PARAM_ID = (SELECT TAT_PARAM_ID FROM CMS_STAGE_TAT_PARAM WHERE APPLICATION_TYPE = 'CO') AND
PRE_STAGE  = 'Where checking involves Legal Dept:- Receipt of draft sec docs from solicitor' AND POST_STAGE = 'Checking of draft security documents by Officer & Legal Dept completed & returned to solicitor');



INSERT INTO CMS_TAT_PARAM_ITEM
(TAT_PARAM_ITEM_ID, TAT_PARAM_ID, STAGE_TYPE, STAGE_CODE, PRE_STAGE, POST_STAGE, DURATION, DURATION_TYPE, SEQUENCE_ORDER, CMS_REF_ID, VERSION_TIME, STATUS)
(SELECT CAST((TS_FMT(CURRENT_TIMESTAMP, 'yyyymmdd') || SUBSTR(DIGITS(NEXT VALUE FOR CMS_TAT_PARAM_ITEM_SEQ), 2)) as BIGINT),
(SELECT TAT_PARAM_ID FROM CMS_TAT_PARAM WHERE APPLICATION_TYPE = 'CO'), '1', '1', 'Draft documents returned to solicitor after checking', 'Receipt of final security documents from solicitor for signing', 0, '1', 5, 0, 0, 'ACTIVE' from dual);

INSERT INTO CMS_STAGE_TAT_PARAM_ITEM
(TAT_PARAM_ITEM_ID, TAT_PARAM_ID, STAGE_TYPE, STAGE_CODE, PRE_STAGE, POST_STAGE, DURATION, DURATION_TYPE, SEQUENCE_ORDER, CMS_REF_ID, VERSION_TIME, STATUS)
(SELECT CAST((TS_FMT(CURRENT_TIMESTAMP, 'yyyymmdd') || SUBSTR(DIGITS(NEXT VALUE FOR CMS_STAGE_TAT_PARAM_ITEM_SEQ), 2)) as BIGINT),
(SELECT TAT_PARAM_ID FROM CMS_STAGE_TAT_PARAM WHERE APPLICATION_TYPE = 'CO'), '1', '1', 'Draft documents returned to solicitor after checking', 'Receipt of final security documents from solicitor for signing', 0, '1', 5, 0, 0, 'ACTIVE' from dual);

UPDATE CMS_TAT_PARAM_ITEM SET CMS_REF_ID = (SELECT TAT_PARAM_ITEM_ID FROM CMS_STAGE_TAT_PARAM_ITEM WHERE
TAT_PARAM_ID = (SELECT TAT_PARAM_ID FROM CMS_STAGE_TAT_PARAM WHERE APPLICATION_TYPE = 'CO') AND
PRE_STAGE  = 'Draft documents returned to solicitor after checking' AND POST_STAGE = 'Receipt of final security documents from solicitor for signing')
WHERE TAT_PARAM_ITEM_ID = (SELECT TAT_PARAM_ITEM_ID FROM CMS_TAT_PARAM_ITEM WHERE
TAT_PARAM_ID = (SELECT TAT_PARAM_ID FROM CMS_TAT_PARAM WHERE APPLICATION_TYPE = 'CO') AND
PRE_STAGE  = 'Draft documents returned to solicitor after checking' AND POST_STAGE = 'Receipt of final security documents from solicitor for signing');

UPDATE CMS_STAGE_TAT_PARAM_ITEM SET CMS_REF_ID = (SELECT TAT_PARAM_ITEM_ID FROM CMS_STAGE_TAT_PARAM_ITEM WHERE
TAT_PARAM_ID = (SELECT TAT_PARAM_ID FROM CMS_STAGE_TAT_PARAM WHERE APPLICATION_TYPE = 'CO') AND
PRE_STAGE  = 'Draft documents returned to solicitor after checking' AND POST_STAGE = 'Receipt of final security documents from solicitor for signing')
WHERE TAT_PARAM_ITEM_ID = (SELECT TAT_PARAM_ITEM_ID FROM CMS_STAGE_TAT_PARAM_ITEM WHERE
TAT_PARAM_ID = (SELECT TAT_PARAM_ID FROM CMS_STAGE_TAT_PARAM WHERE APPLICATION_TYPE = 'CO') AND
PRE_STAGE  = 'Draft documents returned to solicitor after checking' AND POST_STAGE = 'Receipt of final security documents from solicitor for signing');



INSERT INTO CMS_TAT_PARAM_ITEM
(TAT_PARAM_ITEM_ID, TAT_PARAM_ID, STAGE_TYPE, STAGE_CODE, PRE_STAGE, POST_STAGE, DURATION, DURATION_TYPE, SEQUENCE_ORDER, CMS_REF_ID, VERSION_TIME, STATUS)
(SELECT CAST((TS_FMT(CURRENT_TIMESTAMP, 'yyyymmdd') || SUBSTR(DIGITS(NEXT VALUE FOR CMS_TAT_PARAM_ITEM_SEQ), 2)) as BIGINT),
(SELECT TAT_PARAM_ID FROM CMS_TAT_PARAM WHERE APPLICATION_TYPE = 'CO'), '1', '1', 'Receipt of final security documents from solicitor for signing', 'Security documents checked & signed by PA & returned to solicitor', 2, '1', 6, 0, 0, 'ACTIVE' from dual);

INSERT INTO CMS_STAGE_TAT_PARAM_ITEM
(TAT_PARAM_ITEM_ID, TAT_PARAM_ID, STAGE_TYPE, STAGE_CODE, PRE_STAGE, POST_STAGE, DURATION, DURATION_TYPE, SEQUENCE_ORDER, CMS_REF_ID, VERSION_TIME, STATUS)
(SELECT CAST((TS_FMT(CURRENT_TIMESTAMP, 'yyyymmdd') || SUBSTR(DIGITS(NEXT VALUE FOR CMS_STAGE_TAT_PARAM_ITEM_SEQ), 2)) as BIGINT),
(SELECT TAT_PARAM_ID FROM CMS_STAGE_TAT_PARAM WHERE APPLICATION_TYPE = 'CO'), '1', '1', 'Receipt of final security documents from solicitor for signing', 'Security documents checked & signed by PA & returned to solicitor', 2, '1', 6, 0, 0, 'ACTIVE' from dual);

UPDATE CMS_TAT_PARAM_ITEM SET CMS_REF_ID = (SELECT TAT_PARAM_ITEM_ID FROM CMS_STAGE_TAT_PARAM_ITEM WHERE
TAT_PARAM_ID = (SELECT TAT_PARAM_ID FROM CMS_STAGE_TAT_PARAM WHERE APPLICATION_TYPE = 'CO') AND
PRE_STAGE  = 'Receipt of final security documents from solicitor for signing' AND POST_STAGE = 'Security documents checked & signed by PA & returned to solicitor')
WHERE TAT_PARAM_ITEM_ID = (SELECT TAT_PARAM_ITEM_ID FROM CMS_TAT_PARAM_ITEM WHERE
TAT_PARAM_ID = (SELECT TAT_PARAM_ID FROM CMS_TAT_PARAM WHERE APPLICATION_TYPE = 'CO') AND
PRE_STAGE  = 'Receipt of final security documents from solicitor for signing' AND POST_STAGE = 'Security documents checked & signed by PA & returned to solicitor');

UPDATE CMS_STAGE_TAT_PARAM_ITEM SET CMS_REF_ID = (SELECT TAT_PARAM_ITEM_ID FROM CMS_STAGE_TAT_PARAM_ITEM WHERE
TAT_PARAM_ID = (SELECT TAT_PARAM_ID FROM CMS_STAGE_TAT_PARAM WHERE APPLICATION_TYPE = 'CO') AND
PRE_STAGE  = 'Receipt of final security documents from solicitor for signing' AND POST_STAGE = 'Security documents checked & signed by PA & returned to solicitor')
WHERE TAT_PARAM_ITEM_ID = (SELECT TAT_PARAM_ITEM_ID FROM CMS_STAGE_TAT_PARAM_ITEM WHERE
TAT_PARAM_ID = (SELECT TAT_PARAM_ID FROM CMS_STAGE_TAT_PARAM WHERE APPLICATION_TYPE = 'CO') AND
PRE_STAGE  = 'Receipt of final security documents from solicitor for signing' AND POST_STAGE = 'Security documents checked & signed by PA & returned to solicitor');



INSERT INTO CMS_TAT_PARAM_ITEM
(TAT_PARAM_ITEM_ID, TAT_PARAM_ID, STAGE_TYPE, STAGE_CODE, PRE_STAGE, POST_STAGE, DURATION, DURATION_TYPE, SEQUENCE_ORDER, CMS_REF_ID, VERSION_TIME, STATUS)
(SELECT CAST((TS_FMT(CURRENT_TIMESTAMP, 'yyyymmdd') || SUBSTR(DIGITS(NEXT VALUE FOR CMS_TAT_PARAM_ITEM_SEQ), 2)) as BIGINT),
(SELECT TAT_PARAM_ID FROM CMS_TAT_PARAM WHERE APPLICATION_TYPE = 'CO'), '1', '1', 'Security documents checked & signed by PA & returned to solicitor', 'Receipt of Letter of Advice & security documents from solicitor for release of loan', 0, '1', 7, 0, 0, 'ACTIVE' from dual);

INSERT INTO CMS_STAGE_TAT_PARAM_ITEM
(TAT_PARAM_ITEM_ID, TAT_PARAM_ID, STAGE_TYPE, STAGE_CODE, PRE_STAGE, POST_STAGE, DURATION, DURATION_TYPE, SEQUENCE_ORDER, CMS_REF_ID, VERSION_TIME, STATUS)
(SELECT CAST((TS_FMT(CURRENT_TIMESTAMP, 'yyyymmdd') || SUBSTR(DIGITS(NEXT VALUE FOR CMS_STAGE_TAT_PARAM_ITEM_SEQ), 2)) as BIGINT),
(SELECT TAT_PARAM_ID FROM CMS_STAGE_TAT_PARAM WHERE APPLICATION_TYPE = 'CO'), '1', '1', 'Security documents checked & signed by PA & returned to solicitor', 'Receipt of Letter of Advice & security documents from solicitor for release of loan', 0, '1', 7, 0, 0, 'ACTIVE' from dual);

UPDATE CMS_TAT_PARAM_ITEM SET CMS_REF_ID = (SELECT TAT_PARAM_ITEM_ID FROM CMS_STAGE_TAT_PARAM_ITEM WHERE
TAT_PARAM_ID = (SELECT TAT_PARAM_ID FROM CMS_STAGE_TAT_PARAM WHERE APPLICATION_TYPE = 'CO') AND
 PRE_STAGE  = 'Security documents checked & signed by PA & returned to solicitor' AND POST_STAGE = 'Receipt of Letter of Advice & security documents from solicitor for release of loan')
WHERE TAT_PARAM_ITEM_ID = (SELECT TAT_PARAM_ITEM_ID FROM CMS_TAT_PARAM_ITEM WHERE
TAT_PARAM_ID = (SELECT TAT_PARAM_ID FROM CMS_TAT_PARAM WHERE APPLICATION_TYPE = 'CO') AND
PRE_STAGE  = 'Security documents checked & signed by PA & returned to solicitor' AND POST_STAGE = 'Receipt of Letter of Advice & security documents from solicitor for release of loan');

UPDATE CMS_STAGE_TAT_PARAM_ITEM SET CMS_REF_ID = (SELECT TAT_PARAM_ITEM_ID FROM CMS_STAGE_TAT_PARAM_ITEM WHERE
TAT_PARAM_ID = (SELECT TAT_PARAM_ID FROM CMS_STAGE_TAT_PARAM WHERE APPLICATION_TYPE = 'CO') AND
PRE_STAGE  = 'Security documents checked & signed by PA & returned to solicitor' AND POST_STAGE = 'Receipt of Letter of Advice & security documents from solicitor for release of loan')
WHERE TAT_PARAM_ITEM_ID = (SELECT TAT_PARAM_ITEM_ID FROM CMS_STAGE_TAT_PARAM_ITEM WHERE
TAT_PARAM_ID = (SELECT TAT_PARAM_ID FROM CMS_STAGE_TAT_PARAM WHERE APPLICATION_TYPE = 'CO') AND
PRE_STAGE  = 'Security documents checked & signed by PA & returned to solicitor' AND POST_STAGE = 'Receipt of Letter of Advice & security documents from solicitor for release of loan');



INSERT INTO CMS_TAT_PARAM_ITEM
(TAT_PARAM_ITEM_ID, TAT_PARAM_ID, STAGE_TYPE, STAGE_CODE, PRE_STAGE, POST_STAGE, DURATION, DURATION_TYPE, SEQUENCE_ORDER, CMS_REF_ID, VERSION_TIME, STATUS)
(SELECT CAST((TS_FMT(CURRENT_TIMESTAMP, 'yyyymmdd') || SUBSTR(DIGITS(NEXT VALUE FOR CMS_TAT_PARAM_ITEM_SEQ), 2)) as BIGINT),
(SELECT TAT_PARAM_ID FROM CMS_TAT_PARAM WHERE APPLICATION_TYPE = 'CO'), '1', '1', 'Receipt of Letter of Advice & security documents from solicitor for release of loan', 'Completion & issuance of DCL to Enforcement Unit', 2, '1', 8, 0, 0, 'ACTIVE' from dual);

INSERT INTO CMS_STAGE_TAT_PARAM_ITEM
(TAT_PARAM_ITEM_ID, TAT_PARAM_ID, STAGE_TYPE, STAGE_CODE, PRE_STAGE, POST_STAGE, DURATION, DURATION_TYPE, SEQUENCE_ORDER, CMS_REF_ID, VERSION_TIME, STATUS)
(SELECT CAST((TS_FMT(CURRENT_TIMESTAMP, 'yyyymmdd') || SUBSTR(DIGITS(NEXT VALUE FOR CMS_STAGE_TAT_PARAM_ITEM_SEQ), 2)) as BIGINT),
(SELECT TAT_PARAM_ID FROM CMS_STAGE_TAT_PARAM WHERE APPLICATION_TYPE = 'CO'), '1', '1', 'Receipt of Letter of Advice & security documents from solicitor for release of loan', 'Completion & issuance of DCL to Enforcement Unit', 2, '1', 8, 0, 0, 'ACTIVE' from dual);

UPDATE CMS_TAT_PARAM_ITEM SET CMS_REF_ID = (SELECT TAT_PARAM_ITEM_ID FROM CMS_STAGE_TAT_PARAM_ITEM WHERE
TAT_PARAM_ID = (SELECT TAT_PARAM_ID FROM CMS_STAGE_TAT_PARAM WHERE APPLICATION_TYPE = 'CO') AND PRE_STAGE  = 'Receipt of Letter of Advice & security documents from solicitor for release of loan' AND POST_STAGE = 'Completion & issuance of DCL to Enforcement Unit')
WHERE TAT_PARAM_ITEM_ID = (SELECT TAT_PARAM_ITEM_ID FROM CMS_TAT_PARAM_ITEM WHERE
TAT_PARAM_ID = (SELECT TAT_PARAM_ID FROM CMS_TAT_PARAM WHERE APPLICATION_TYPE = 'CO') AND PRE_STAGE  = 'Receipt of Letter of Advice & security documents from solicitor for release of loan' AND POST_STAGE = 'Completion & issuance of DCL to Enforcement Unit');

UPDATE CMS_STAGE_TAT_PARAM_ITEM SET CMS_REF_ID = (SELECT TAT_PARAM_ITEM_ID FROM CMS_STAGE_TAT_PARAM_ITEM WHERE
TAT_PARAM_ID = (SELECT TAT_PARAM_ID FROM CMS_STAGE_TAT_PARAM WHERE APPLICATION_TYPE = 'CO') AND PRE_STAGE  = 'Receipt of Letter of Advice & security documents from solicitor for release of loan' AND POST_STAGE = 'Completion & issuance of DCL to Enforcement Unit')
WHERE TAT_PARAM_ITEM_ID = (SELECT TAT_PARAM_ITEM_ID FROM CMS_STAGE_TAT_PARAM_ITEM WHERE
TAT_PARAM_ID = (SELECT TAT_PARAM_ID FROM CMS_STAGE_TAT_PARAM WHERE APPLICATION_TYPE = 'CO') AND PRE_STAGE  = 'Receipt of Letter of Advice & security documents from solicitor for release of loan' AND POST_STAGE = 'Completion & issuance of DCL to Enforcement Unit');



INSERT INTO CMS_TAT_PARAM_ITEM
(TAT_PARAM_ITEM_ID, TAT_PARAM_ID, STAGE_TYPE, STAGE_CODE, PRE_STAGE, POST_STAGE, DURATION, DURATION_TYPE, SEQUENCE_ORDER, CMS_REF_ID, VERSION_TIME, STATUS)
(SELECT CAST((TS_FMT(CURRENT_TIMESTAMP, 'yyyymmdd') || SUBSTR(DIGITS(NEXT VALUE FOR CMS_TAT_PARAM_ITEM_SEQ), 2)) as BIGINT),
(SELECT TAT_PARAM_ID FROM CMS_TAT_PARAM WHERE APPLICATION_TYPE = 'CO'), '2', '1', 'For Existing A/C: Receipt of DCL from Documentation Unit', 'Disbursement of loan', 2, '1', 9, 0, 0, 'ACTIVE' from dual);

INSERT INTO CMS_STAGE_TAT_PARAM_ITEM
(TAT_PARAM_ITEM_ID, TAT_PARAM_ID, STAGE_TYPE, STAGE_CODE, PRE_STAGE, POST_STAGE, DURATION, DURATION_TYPE, SEQUENCE_ORDER, CMS_REF_ID, VERSION_TIME, STATUS)
(SELECT CAST((TS_FMT(CURRENT_TIMESTAMP, 'yyyymmdd') || SUBSTR(DIGITS(NEXT VALUE FOR CMS_STAGE_TAT_PARAM_ITEM_SEQ), 2)) as BIGINT),
(SELECT TAT_PARAM_ID FROM CMS_STAGE_TAT_PARAM WHERE APPLICATION_TYPE = 'CO'), '2', '1', 'For Existing A/C: Receipt of DCL from Documentation Unit', 'Disbursement of loan', 2, '1', 9, 0, 0, 'ACTIVE' from dual);

UPDATE CMS_TAT_PARAM_ITEM SET CMS_REF_ID = (SELECT TAT_PARAM_ITEM_ID FROM CMS_STAGE_TAT_PARAM_ITEM WHERE
TAT_PARAM_ID = (SELECT TAT_PARAM_ID FROM CMS_STAGE_TAT_PARAM WHERE APPLICATION_TYPE = 'CO') AND PRE_STAGE  = 'For Existing A/C: Receipt of DCL from Documentation Unit' AND POST_STAGE = 'Disbursement of loan')
WHERE TAT_PARAM_ITEM_ID = (SELECT TAT_PARAM_ITEM_ID FROM CMS_TAT_PARAM_ITEM WHERE
TAT_PARAM_ID = (SELECT TAT_PARAM_ID FROM CMS_TAT_PARAM WHERE APPLICATION_TYPE = 'CO') AND PRE_STAGE  = 'For Existing A/C: Receipt of DCL from Documentation Unit' AND POST_STAGE = 'Disbursement of loan');

UPDATE CMS_STAGE_TAT_PARAM_ITEM SET CMS_REF_ID = (SELECT TAT_PARAM_ITEM_ID FROM CMS_STAGE_TAT_PARAM_ITEM WHERE TAT_PARAM_ID = (SELECT TAT_PARAM_ID FROM CMS_STAGE_TAT_PARAM WHERE APPLICATION_TYPE = 'CO') AND PRE_STAGE  = 'For Existing A/C: Receipt of DCL from Documentation Unit' AND POST_STAGE = 'Disbursement of loan')
WHERE TAT_PARAM_ITEM_ID = (SELECT TAT_PARAM_ITEM_ID FROM CMS_STAGE_TAT_PARAM_ITEM WHERE TAT_PARAM_ID = (SELECT TAT_PARAM_ID FROM CMS_STAGE_TAT_PARAM WHERE APPLICATION_TYPE = 'CO') AND PRE_STAGE  = 'For Existing A/C: Receipt of DCL from Documentation Unit' AND POST_STAGE = 'Disbursement of loan');



INSERT INTO CMS_TAT_PARAM_ITEM
(TAT_PARAM_ITEM_ID, TAT_PARAM_ID, STAGE_TYPE, STAGE_CODE, PRE_STAGE, POST_STAGE, DURATION, DURATION_TYPE, SEQUENCE_ORDER, CMS_REF_ID, VERSION_TIME, STATUS)
(SELECT CAST((TS_FMT(CURRENT_TIMESTAMP, 'yyyymmdd') || SUBSTR(DIGITS(NEXT VALUE FOR CMS_TAT_PARAM_ITEM_SEQ), 2)) as BIGINT),
(SELECT TAT_PARAM_ID FROM CMS_TAT_PARAM WHERE APPLICATION_TYPE = 'CO'), '2', '1', 'For New A/C: Receipt of DCL from Documentation Unit', 'Disbursement of loan', 2, '1', 10, 0, 0, 'ACTIVE' from dual);

INSERT INTO CMS_STAGE_TAT_PARAM_ITEM
(TAT_PARAM_ITEM_ID, TAT_PARAM_ID, STAGE_TYPE, STAGE_CODE, PRE_STAGE, POST_STAGE, DURATION, DURATION_TYPE, SEQUENCE_ORDER, CMS_REF_ID, VERSION_TIME, STATUS)
(SELECT CAST((TS_FMT(CURRENT_TIMESTAMP, 'yyyymmdd') || SUBSTR(DIGITS(NEXT VALUE FOR CMS_STAGE_TAT_PARAM_ITEM_SEQ), 2)) as BIGINT),
(SELECT TAT_PARAM_ID FROM CMS_STAGE_TAT_PARAM WHERE APPLICATION_TYPE = 'CO'), '2', '1', 'For New A/C: Receipt of DCL from Documentation Unit', 'Disbursement of loan', 2, '1', 10, 0, 0, 'ACTIVE' from dual);

UPDATE CMS_TAT_PARAM_ITEM SET CMS_REF_ID = (SELECT TAT_PARAM_ITEM_ID FROM CMS_STAGE_TAT_PARAM_ITEM WHERE
TAT_PARAM_ID = (SELECT TAT_PARAM_ID FROM CMS_STAGE_TAT_PARAM WHERE APPLICATION_TYPE = 'CO') AND PRE_STAGE  = 'For New A/C: Receipt of DCL from Documentation Unit' AND POST_STAGE = 'Disbursement of loan')
WHERE TAT_PARAM_ITEM_ID = (SELECT TAT_PARAM_ITEM_ID FROM CMS_TAT_PARAM_ITEM WHERE
TAT_PARAM_ID = (SELECT TAT_PARAM_ID FROM CMS_TAT_PARAM WHERE APPLICATION_TYPE = 'CO') AND PRE_STAGE  = 'For New A/C: Receipt of DCL from Documentation Unit' AND POST_STAGE = 'Disbursement of loan');

UPDATE CMS_STAGE_TAT_PARAM_ITEM SET CMS_REF_ID = (SELECT TAT_PARAM_ITEM_ID FROM CMS_STAGE_TAT_PARAM_ITEM WHERE TAT_PARAM_ID = (SELECT TAT_PARAM_ID FROM CMS_STAGE_TAT_PARAM WHERE APPLICATION_TYPE = 'CO') AND PRE_STAGE  = 'For New A/C: Receipt of DCL from Documentation Unit' AND POST_STAGE = 'Disbursement of loan')
WHERE TAT_PARAM_ITEM_ID = (SELECT TAT_PARAM_ITEM_ID FROM CMS_STAGE_TAT_PARAM_ITEM WHERE TAT_PARAM_ID = (SELECT TAT_PARAM_ID FROM CMS_STAGE_TAT_PARAM WHERE APPLICATION_TYPE = 'CO') AND PRE_STAGE  = 'For New A/C: Receipt of DCL from Documentation Unit' AND POST_STAGE = 'Disbursement of loan');



INSERT INTO CMS_TAT_PARAM_ITEM
(TAT_PARAM_ITEM_ID, TAT_PARAM_ID, STAGE_TYPE, STAGE_CODE, PRE_STAGE, POST_STAGE, DURATION, DURATION_TYPE, SEQUENCE_ORDER, CMS_REF_ID, VERSION_TIME, STATUS)
(SELECT CAST((TS_FMT(CURRENT_TIMESTAMP, 'yyyymmdd') || SUBSTR(DIGITS(NEXT VALUE FOR CMS_TAT_PARAM_ITEM_SEQ), 2)) as BIGINT),
(SELECT TAT_PARAM_ID FROM CMS_TAT_PARAM WHERE APPLICATION_TYPE = 'CO'), '3', '1', 'Receipt of security documents by Custodian from Documentation Unit/ solicitor', 'Recording & lodgement of security', 7, '1', 11, 0, 0, 'ACTIVE' from dual);

INSERT INTO CMS_STAGE_TAT_PARAM_ITEM
(TAT_PARAM_ITEM_ID, TAT_PARAM_ID, STAGE_TYPE, STAGE_CODE, PRE_STAGE, POST_STAGE, DURATION, DURATION_TYPE, SEQUENCE_ORDER, CMS_REF_ID, VERSION_TIME, STATUS)
(SELECT CAST((TS_FMT(CURRENT_TIMESTAMP, 'yyyymmdd') || SUBSTR(DIGITS(NEXT VALUE FOR CMS_STAGE_TAT_PARAM_ITEM_SEQ), 2)) as BIGINT),
(SELECT TAT_PARAM_ID FROM CMS_STAGE_TAT_PARAM WHERE APPLICATION_TYPE = 'CO'), '3', '1', 'Receipt of security documents by Custodian from Documentation Unit/ solicitor', 'Recording & lodgement of security', 7, '1', 11, 0, 0, 'ACTIVE' from dual);

UPDATE CMS_TAT_PARAM_ITEM SET CMS_REF_ID = (SELECT TAT_PARAM_ITEM_ID FROM CMS_STAGE_TAT_PARAM_ITEM WHERE
TAT_PARAM_ID = (SELECT TAT_PARAM_ID FROM CMS_STAGE_TAT_PARAM WHERE APPLICATION_TYPE = 'CO') AND PRE_STAGE  = 'Receipt of security documents by Custodian from Documentation Unit/ solicitor' AND POST_STAGE = 'Recording & lodgement of security')
WHERE TAT_PARAM_ITEM_ID = (SELECT TAT_PARAM_ITEM_ID FROM CMS_TAT_PARAM_ITEM WHERE
TAT_PARAM_ID = (SELECT TAT_PARAM_ID FROM CMS_TAT_PARAM WHERE APPLICATION_TYPE = 'CO') AND PRE_STAGE  = 'Receipt of security documents by Custodian from Documentation Unit/ solicitor' AND POST_STAGE = 'Recording & lodgement of security');

UPDATE CMS_STAGE_TAT_PARAM_ITEM SET CMS_REF_ID = (SELECT TAT_PARAM_ITEM_ID FROM CMS_STAGE_TAT_PARAM_ITEM WHERE TAT_PARAM_ID = (SELECT TAT_PARAM_ID FROM CMS_STAGE_TAT_PARAM WHERE APPLICATION_TYPE = 'CO') AND PRE_STAGE  = 'Receipt of security documents by Custodian from Documentation Unit/ solicitor' AND POST_STAGE = 'Recording & lodgement of security')
WHERE TAT_PARAM_ITEM_ID = (SELECT TAT_PARAM_ITEM_ID FROM CMS_STAGE_TAT_PARAM_ITEM WHERE TAT_PARAM_ID = (SELECT TAT_PARAM_ID FROM CMS_STAGE_TAT_PARAM WHERE APPLICATION_TYPE = 'CO') AND PRE_STAGE  = 'Receipt of security documents by Custodian from Documentation Unit/ solicitor' AND POST_STAGE = 'Recording & lodgement of security');




------ 	General Commercial -----------

INSERT INTO CMS_TAT_PARAM_ITEM
(TAT_PARAM_ITEM_ID, TAT_PARAM_ID, STAGE_TYPE, STAGE_CODE, PRE_STAGE, POST_STAGE, DURATION, DURATION_TYPE, SEQUENCE_ORDER, CMS_REF_ID, VERSION_TIME, STATUS)
(SELECT CAST((TS_FMT(CURRENT_TIMESTAMP, 'yyyymmdd') || SUBSTR(DIGITS(NEXT VALUE FOR CMS_TAT_PARAM_ITEM_SEQ), 2)) as BIGINT),
(SELECT TAT_PARAM_ID FROM CMS_TAT_PARAM WHERE APPLICATION_TYPE = 'COM'), '1', '1', 'Acceptance of LO received', 'Letter of Instruction (LI) to solicitor [customer or RM if no solicitor involved] / valuer or QS / insurance company', 1, '1', 1, 0, 0, 'ACTIVE' from dual);

INSERT INTO CMS_STAGE_TAT_PARAM_ITEM
(TAT_PARAM_ITEM_ID, TAT_PARAM_ID, STAGE_TYPE, STAGE_CODE, PRE_STAGE, POST_STAGE, DURATION, DURATION_TYPE, SEQUENCE_ORDER, CMS_REF_ID, VERSION_TIME, STATUS)
(SELECT CAST((TS_FMT(CURRENT_TIMESTAMP, 'yyyymmdd') || SUBSTR(DIGITS(NEXT VALUE FOR CMS_STAGE_TAT_PARAM_ITEM_SEQ), 2)) as BIGINT),
(SELECT TAT_PARAM_ID FROM CMS_STAGE_TAT_PARAM WHERE APPLICATION_TYPE = 'COM'), '1', '1', 'Acceptance of LO received', 'Letter of Instruction (LI) to solicitor [customer or RM if no solicitor involved] / valuer or QS / insurance company', 1, '1', 1, 0, 0, 'ACTIVE' from dual);

UPDATE CMS_TAT_PARAM_ITEM SET CMS_REF_ID = (SELECT TAT_PARAM_ITEM_ID FROM CMS_STAGE_TAT_PARAM_ITEM WHERE
TAT_PARAM_ID = (SELECT TAT_PARAM_ID FROM CMS_STAGE_TAT_PARAM WHERE APPLICATION_TYPE = 'COM') AND
PRE_STAGE  = 'Acceptance of LO received' AND POST_STAGE = 'Letter of Instruction (LI) to solicitor [customer or RM if no solicitor involved] / valuer or QS / insurance company')
WHERE TAT_PARAM_ITEM_ID = (SELECT TAT_PARAM_ITEM_ID FROM CMS_TAT_PARAM_ITEM WHERE
TAT_PARAM_ID = (SELECT TAT_PARAM_ID FROM CMS_TAT_PARAM WHERE APPLICATION_TYPE = 'COM') AND
PRE_STAGE  = 'Acceptance of LO received' AND POST_STAGE = 'Letter of Instruction (LI) to solicitor [customer or RM if no solicitor involved] / valuer or QS / insurance company');

UPDATE CMS_STAGE_TAT_PARAM_ITEM SET CMS_REF_ID = (SELECT TAT_PARAM_ITEM_ID FROM CMS_STAGE_TAT_PARAM_ITEM WHERE
TAT_PARAM_ID = (SELECT TAT_PARAM_ID FROM CMS_STAGE_TAT_PARAM WHERE APPLICATION_TYPE = 'COM') AND
PRE_STAGE  = 'Acceptance of LO received' AND POST_STAGE = 'Letter of Instruction (LI) to solicitor [customer or RM if no solicitor involved] / valuer or QS / insurance company')
WHERE TAT_PARAM_ITEM_ID = (SELECT TAT_PARAM_ITEM_ID FROM CMS_STAGE_TAT_PARAM_ITEM WHERE
TAT_PARAM_ID = (SELECT TAT_PARAM_ID FROM CMS_STAGE_TAT_PARAM WHERE APPLICATION_TYPE = 'COM') AND
PRE_STAGE  = 'Acceptance of LO received' AND POST_STAGE = 'Letter of Instruction (LI) to solicitor [customer or RM if no solicitor involved] / valuer or QS / insurance company');



INSERT INTO CMS_TAT_PARAM_ITEM
(TAT_PARAM_ITEM_ID, TAT_PARAM_ID, STAGE_TYPE, STAGE_CODE, PRE_STAGE, POST_STAGE, DURATION, DURATION_TYPE, SEQUENCE_ORDER, CMS_REF_ID, VERSION_TIME, STATUS)
(SELECT CAST((TS_FMT(CURRENT_TIMESTAMP, 'yyyymmdd') || SUBSTR(DIGITS(NEXT VALUE FOR CMS_TAT_PARAM_ITEM_SEQ), 2)) as BIGINT),
(SELECT TAT_PARAM_ID FROM CMS_TAT_PARAM WHERE APPLICATION_TYPE = 'COM'), '1', '1', 'Date of LI to solicitor', 'Receipt of draft security documents from solicitor', 0, '1', 2, 0, 0, 'ACTIVE' from dual);

INSERT INTO CMS_STAGE_TAT_PARAM_ITEM
(TAT_PARAM_ITEM_ID, TAT_PARAM_ID, STAGE_TYPE, STAGE_CODE, PRE_STAGE, POST_STAGE, DURATION, DURATION_TYPE, SEQUENCE_ORDER, CMS_REF_ID, VERSION_TIME, STATUS)
(SELECT CAST((TS_FMT(CURRENT_TIMESTAMP, 'yyyymmdd') || SUBSTR(DIGITS(NEXT VALUE FOR CMS_STAGE_TAT_PARAM_ITEM_SEQ), 2)) as BIGINT),
(SELECT TAT_PARAM_ID FROM CMS_STAGE_TAT_PARAM WHERE APPLICATION_TYPE = 'COM'), '1', '1', 'Date of LI to solicitor', 'Receipt of draft security documents from solicitor', 0, '1', 2, 0, 0, 'ACTIVE' from dual);

UPDATE CMS_TAT_PARAM_ITEM SET CMS_REF_ID = (SELECT TAT_PARAM_ITEM_ID FROM CMS_STAGE_TAT_PARAM_ITEM WHERE TAT_PARAM_ID = (SELECT TAT_PARAM_ID FROM CMS_STAGE_TAT_PARAM WHERE APPLICATION_TYPE = 'COM') AND PRE_STAGE  = 'Date of LI to solicitor' AND POST_STAGE = 'Receipt of draft security documents from solicitor')
WHERE TAT_PARAM_ITEM_ID = (SELECT TAT_PARAM_ITEM_ID FROM CMS_TAT_PARAM_ITEM WHERE
TAT_PARAM_ID = (SELECT TAT_PARAM_ID FROM CMS_TAT_PARAM WHERE APPLICATION_TYPE = 'COM') AND PRE_STAGE  = 'Date of LI to solicitor' AND POST_STAGE = 'Receipt of draft security documents from solicitor');

UPDATE CMS_STAGE_TAT_PARAM_ITEM SET CMS_REF_ID = (SELECT TAT_PARAM_ITEM_ID FROM CMS_STAGE_TAT_PARAM_ITEM WHERE TAT_PARAM_ID = (SELECT TAT_PARAM_ID FROM CMS_STAGE_TAT_PARAM WHERE APPLICATION_TYPE = 'COM') AND PRE_STAGE  = 'Date of LI to solicitor' AND POST_STAGE = 'Receipt of draft security documents from solicitor')
WHERE TAT_PARAM_ITEM_ID = (SELECT TAT_PARAM_ITEM_ID FROM CMS_STAGE_TAT_PARAM_ITEM WHERE TAT_PARAM_ID = (SELECT TAT_PARAM_ID FROM CMS_STAGE_TAT_PARAM WHERE APPLICATION_TYPE = 'COM') AND PRE_STAGE  = 'Date of LI to solicitor' AND POST_STAGE = 'Receipt of draft security documents from solicitor');



INSERT INTO CMS_TAT_PARAM_ITEM
(TAT_PARAM_ITEM_ID, TAT_PARAM_ID, STAGE_TYPE, STAGE_CODE, PRE_STAGE, POST_STAGE, DURATION, DURATION_TYPE, SEQUENCE_ORDER, CMS_REF_ID, VERSION_TIME, STATUS)
(SELECT CAST((TS_FMT(CURRENT_TIMESTAMP, 'yyyymmdd') || SUBSTR(DIGITS(NEXT VALUE FOR CMS_TAT_PARAM_ITEM_SEQ), 2)) as BIGINT),
(SELECT TAT_PARAM_ID FROM CMS_TAT_PARAM WHERE APPLICATION_TYPE = 'COM'), '1', '1', 'Receipt of draft security documents from solicitor', 'Checking of draft security documents by Officer & Legal Dept completed & returned to solicitor', 2, '1', 3, 0, 0, 'ACTIVE' from dual);

INSERT INTO CMS_STAGE_TAT_PARAM_ITEM
(TAT_PARAM_ITEM_ID, TAT_PARAM_ID, STAGE_TYPE, STAGE_CODE, PRE_STAGE, POST_STAGE, DURATION, DURATION_TYPE, SEQUENCE_ORDER, CMS_REF_ID, VERSION_TIME, STATUS)
(SELECT CAST((TS_FMT(CURRENT_TIMESTAMP, 'yyyymmdd') || SUBSTR(DIGITS(NEXT VALUE FOR CMS_STAGE_TAT_PARAM_ITEM_SEQ), 2)) as BIGINT),
(SELECT TAT_PARAM_ID FROM CMS_STAGE_TAT_PARAM WHERE APPLICATION_TYPE = 'COM'), '1', '1', 'Receipt of draft security documents from solicitor', 'Checking of draft security documents by Officer & Legal Dept completed & returned to solicitor', 2, '1', 3, 0, 0, 'ACTIVE' from dual);

UPDATE CMS_TAT_PARAM_ITEM SET CMS_REF_ID = (SELECT TAT_PARAM_ITEM_ID FROM CMS_STAGE_TAT_PARAM_ITEM WHERE TAT_PARAM_ID = (SELECT TAT_PARAM_ID FROM CMS_STAGE_TAT_PARAM WHERE APPLICATION_TYPE = 'COM') AND PRE_STAGE  = 'Receipt of draft security documents from solicitor' AND POST_STAGE = 'Checking of draft security documents by Officer & Legal Dept completed & returned to solicitor')
WHERE TAT_PARAM_ITEM_ID = (SELECT TAT_PARAM_ITEM_ID FROM CMS_TAT_PARAM_ITEM WHERE
TAT_PARAM_ID = (SELECT TAT_PARAM_ID FROM CMS_TAT_PARAM WHERE APPLICATION_TYPE = 'COM') AND PRE_STAGE  = 'Receipt of draft security documents from solicitor' AND POST_STAGE = 'Checking of draft security documents by Officer & Legal Dept completed & returned to solicitor');

UPDATE CMS_STAGE_TAT_PARAM_ITEM SET CMS_REF_ID = (SELECT TAT_PARAM_ITEM_ID FROM CMS_STAGE_TAT_PARAM_ITEM WHERE TAT_PARAM_ID = (SELECT TAT_PARAM_ID FROM CMS_STAGE_TAT_PARAM WHERE APPLICATION_TYPE = 'COM') AND PRE_STAGE  = 'Receipt of draft security documents from solicitor' AND POST_STAGE = 'Checking of draft security documents by Officer & Legal Dept completed & returned to solicitor')
WHERE TAT_PARAM_ITEM_ID = (SELECT TAT_PARAM_ITEM_ID FROM CMS_STAGE_TAT_PARAM_ITEM WHERE
TAT_PARAM_ID = (SELECT TAT_PARAM_ID FROM CMS_STAGE_TAT_PARAM WHERE APPLICATION_TYPE = 'COM') AND PRE_STAGE  = 'Receipt of draft security documents from solicitor' AND POST_STAGE = 'Checking of draft security documents by Officer & Legal Dept completed & returned to solicitor');



INSERT INTO CMS_TAT_PARAM_ITEM
(TAT_PARAM_ITEM_ID, TAT_PARAM_ID, STAGE_TYPE, STAGE_CODE, PRE_STAGE, POST_STAGE, DURATION, DURATION_TYPE, SEQUENCE_ORDER, CMS_REF_ID, VERSION_TIME, STATUS)
(SELECT CAST((TS_FMT(CURRENT_TIMESTAMP, 'yyyymmdd') || SUBSTR(DIGITS(NEXT VALUE FOR CMS_TAT_PARAM_ITEM_SEQ), 2)) as BIGINT),
(SELECT TAT_PARAM_ID FROM CMS_TAT_PARAM WHERE APPLICATION_TYPE = 'COM'), '1', '1', 'Where checking involves Legal Dept:- Receipt of draft sec docs from solicitor', 'Checking of draft security documents by Officer & Legal Dept completed & returned to solicitor', 5, '1', 4, 0, 0, 'ACTIVE' from dual);

INSERT INTO CMS_STAGE_TAT_PARAM_ITEM
(TAT_PARAM_ITEM_ID, TAT_PARAM_ID, STAGE_TYPE, STAGE_CODE, PRE_STAGE, POST_STAGE, DURATION, DURATION_TYPE, SEQUENCE_ORDER, CMS_REF_ID, VERSION_TIME, STATUS)
(SELECT CAST((TS_FMT(CURRENT_TIMESTAMP, 'yyyymmdd') || SUBSTR(DIGITS(NEXT VALUE FOR CMS_STAGE_TAT_PARAM_ITEM_SEQ), 2)) as BIGINT),
(SELECT TAT_PARAM_ID FROM CMS_STAGE_TAT_PARAM WHERE APPLICATION_TYPE = 'COM'), '1', '1', 'Where checking involves Legal Dept:- Receipt of draft sec docs from solicitor', 'Checking of draft security documents by Officer & Legal Dept completed & returned to solicitor', 5, '1', 4, 0, 0, 'ACTIVE' from dual);

UPDATE CMS_TAT_PARAM_ITEM SET CMS_REF_ID = (SELECT TAT_PARAM_ITEM_ID FROM CMS_STAGE_TAT_PARAM_ITEM WHERE TAT_PARAM_ID = (SELECT TAT_PARAM_ID FROM CMS_STAGE_TAT_PARAM WHERE APPLICATION_TYPE = 'COM') AND PRE_STAGE  = 'Where checking involves Legal Dept:- Receipt of draft sec docs from solicitor' AND POST_STAGE = 'Checking of draft security documents by Officer & Legal Dept completed & returned to solicitor')
WHERE TAT_PARAM_ITEM_ID = (SELECT TAT_PARAM_ITEM_ID FROM CMS_TAT_PARAM_ITEM WHERE TAT_PARAM_ID = (SELECT TAT_PARAM_ID FROM CMS_TAT_PARAM WHERE APPLICATION_TYPE = 'COM') AND PRE_STAGE  = 'Where checking involves Legal Dept:- Receipt of draft sec docs from solicitor' AND POST_STAGE = 'Checking of draft security documents by Officer & Legal Dept completed & returned to solicitor');

UPDATE CMS_STAGE_TAT_PARAM_ITEM SET CMS_REF_ID = (SELECT TAT_PARAM_ITEM_ID FROM CMS_STAGE_TAT_PARAM_ITEM WHERE TAT_PARAM_ID = (SELECT TAT_PARAM_ID FROM CMS_STAGE_TAT_PARAM WHERE APPLICATION_TYPE = 'COM') AND PRE_STAGE  = 'Where checking involves Legal Dept:- Receipt of draft sec docs from solicitor' AND POST_STAGE = 'Checking of draft security documents by Officer & Legal Dept completed & returned to solicitor')
WHERE TAT_PARAM_ITEM_ID = (SELECT TAT_PARAM_ITEM_ID FROM CMS_STAGE_TAT_PARAM_ITEM WHERE TAT_PARAM_ID = (SELECT TAT_PARAM_ID FROM CMS_STAGE_TAT_PARAM WHERE APPLICATION_TYPE = 'COM') AND PRE_STAGE  = 'Where checking involves Legal Dept:- Receipt of draft sec docs from solicitor' AND POST_STAGE = 'Checking of draft security documents by Officer & Legal Dept completed & returned to solicitor');



INSERT INTO CMS_TAT_PARAM_ITEM
(TAT_PARAM_ITEM_ID, TAT_PARAM_ID, STAGE_TYPE, STAGE_CODE, PRE_STAGE, POST_STAGE, DURATION, DURATION_TYPE, SEQUENCE_ORDER, CMS_REF_ID, VERSION_TIME, STATUS)
(SELECT CAST((TS_FMT(CURRENT_TIMESTAMP, 'yyyymmdd') || SUBSTR(DIGITS(NEXT VALUE FOR CMS_TAT_PARAM_ITEM_SEQ), 2)) as BIGINT),
(SELECT TAT_PARAM_ID FROM CMS_TAT_PARAM WHERE APPLICATION_TYPE = 'COM'), '1', '1', 'Draft documents returned to solicitor after checking', 'Receipt of final security documents from solicitor for signing', 0, '1', 5, 0, 0, 'ACTIVE' from dual);

INSERT INTO CMS_STAGE_TAT_PARAM_ITEM
(TAT_PARAM_ITEM_ID, TAT_PARAM_ID, STAGE_TYPE, STAGE_CODE, PRE_STAGE, POST_STAGE, DURATION, DURATION_TYPE, SEQUENCE_ORDER, CMS_REF_ID, VERSION_TIME, STATUS)
(SELECT CAST((TS_FMT(CURRENT_TIMESTAMP, 'yyyymmdd') || SUBSTR(DIGITS(NEXT VALUE FOR CMS_STAGE_TAT_PARAM_ITEM_SEQ), 2)) as BIGINT),
(SELECT TAT_PARAM_ID FROM CMS_STAGE_TAT_PARAM WHERE APPLICATION_TYPE = 'COM'), '1', '1', 'Draft documents returned to solicitor after checking', 'Receipt of final security documents from solicitor for signing', 0, '1', 5, 0, 0, 'ACTIVE' from dual);

UPDATE CMS_TAT_PARAM_ITEM SET CMS_REF_ID = (SELECT TAT_PARAM_ITEM_ID FROM CMS_STAGE_TAT_PARAM_ITEM WHERE TAT_PARAM_ID = (SELECT TAT_PARAM_ID FROM CMS_STAGE_TAT_PARAM WHERE APPLICATION_TYPE = 'COM') AND PRE_STAGE  = 'Draft documents returned to solicitor after checking' AND POST_STAGE = 'Receipt of final security documents from solicitor for signing')
WHERE TAT_PARAM_ITEM_ID = (SELECT TAT_PARAM_ITEM_ID FROM CMS_TAT_PARAM_ITEM WHERE TAT_PARAM_ID = (SELECT TAT_PARAM_ID FROM CMS_TAT_PARAM WHERE APPLICATION_TYPE = 'COM') AND PRE_STAGE  = 'Draft documents returned to solicitor after checking' AND POST_STAGE = 'Receipt of final security documents from solicitor for signing');

UPDATE CMS_STAGE_TAT_PARAM_ITEM SET CMS_REF_ID = (SELECT TAT_PARAM_ITEM_ID FROM CMS_STAGE_TAT_PARAM_ITEM WHERE TAT_PARAM_ID = (SELECT TAT_PARAM_ID FROM CMS_STAGE_TAT_PARAM WHERE APPLICATION_TYPE = 'COM') AND PRE_STAGE  = 'Draft documents returned to solicitor after checking' AND POST_STAGE = 'Receipt of final security documents from solicitor for signing')
WHERE TAT_PARAM_ITEM_ID = (SELECT TAT_PARAM_ITEM_ID FROM CMS_STAGE_TAT_PARAM_ITEM WHERE TAT_PARAM_ID = (SELECT TAT_PARAM_ID FROM CMS_STAGE_TAT_PARAM WHERE APPLICATION_TYPE = 'COM') AND PRE_STAGE  = 'Draft documents returned to solicitor after checking' AND POST_STAGE = 'Receipt of final security documents from solicitor for signing');



INSERT INTO CMS_TAT_PARAM_ITEM
(TAT_PARAM_ITEM_ID, TAT_PARAM_ID, STAGE_TYPE, STAGE_CODE, PRE_STAGE, POST_STAGE, DURATION, DURATION_TYPE, SEQUENCE_ORDER, CMS_REF_ID, VERSION_TIME, STATUS)
(SELECT CAST((TS_FMT(CURRENT_TIMESTAMP, 'yyyymmdd') || SUBSTR(DIGITS(NEXT VALUE FOR CMS_TAT_PARAM_ITEM_SEQ), 2)) as BIGINT),
(SELECT TAT_PARAM_ID FROM CMS_TAT_PARAM WHERE APPLICATION_TYPE = 'COM'), '1', '1', 'Receipt of final security documents from solicitor for signing', 'Security documents checked & signed by PA & returned to solicitor', 2, '1', 6, 0, 0, 'ACTIVE' from dual);

INSERT INTO CMS_STAGE_TAT_PARAM_ITEM
(TAT_PARAM_ITEM_ID, TAT_PARAM_ID, STAGE_TYPE, STAGE_CODE, PRE_STAGE, POST_STAGE, DURATION, DURATION_TYPE, SEQUENCE_ORDER, CMS_REF_ID, VERSION_TIME, STATUS)
(SELECT CAST((TS_FMT(CURRENT_TIMESTAMP, 'yyyymmdd') || SUBSTR(DIGITS(NEXT VALUE FOR CMS_STAGE_TAT_PARAM_ITEM_SEQ), 2)) as BIGINT),
(SELECT TAT_PARAM_ID FROM CMS_STAGE_TAT_PARAM WHERE APPLICATION_TYPE = 'COM'), '1', '1', 'Receipt of final security documents from solicitor for signing', 'Security documents checked & signed by PA & returned to solicitor', 2, '1', 6, 0, 0, 'ACTIVE' from dual);

UPDATE CMS_TAT_PARAM_ITEM SET CMS_REF_ID = (SELECT TAT_PARAM_ITEM_ID FROM CMS_STAGE_TAT_PARAM_ITEM WHERE TAT_PARAM_ID = (SELECT TAT_PARAM_ID FROM CMS_STAGE_TAT_PARAM WHERE APPLICATION_TYPE = 'COM') AND PRE_STAGE  = 'Receipt of final security documents from solicitor for signing' AND POST_STAGE = 'Security documents checked & signed by PA & returned to solicitor')
WHERE TAT_PARAM_ITEM_ID = (SELECT TAT_PARAM_ITEM_ID FROM CMS_TAT_PARAM_ITEM WHERE TAT_PARAM_ID = (SELECT TAT_PARAM_ID FROM CMS_TAT_PARAM WHERE APPLICATION_TYPE = 'COM') AND PRE_STAGE  = 'Receipt of final security documents from solicitor for signing' AND POST_STAGE = 'Security documents checked & signed by PA & returned to solicitor');

UPDATE CMS_STAGE_TAT_PARAM_ITEM SET CMS_REF_ID = (SELECT TAT_PARAM_ITEM_ID FROM CMS_STAGE_TAT_PARAM_ITEM WHERE TAT_PARAM_ID = (SELECT TAT_PARAM_ID FROM CMS_STAGE_TAT_PARAM WHERE APPLICATION_TYPE = 'COM') AND PRE_STAGE  = 'Receipt of final security documents from solicitor for signing' AND POST_STAGE = 'Security documents checked & signed by PA & returned to solicitor')
WHERE TAT_PARAM_ITEM_ID = (SELECT TAT_PARAM_ITEM_ID FROM CMS_STAGE_TAT_PARAM_ITEM WHERE TAT_PARAM_ID = (SELECT TAT_PARAM_ID FROM CMS_STAGE_TAT_PARAM WHERE APPLICATION_TYPE = 'COM') AND PRE_STAGE  = 'Receipt of final security documents from solicitor for signing' AND POST_STAGE = 'Security documents checked & signed by PA & returned to solicitor');



INSERT INTO CMS_TAT_PARAM_ITEM
(TAT_PARAM_ITEM_ID, TAT_PARAM_ID, STAGE_TYPE, STAGE_CODE, PRE_STAGE, POST_STAGE, DURATION, DURATION_TYPE, SEQUENCE_ORDER, CMS_REF_ID, VERSION_TIME, STATUS)
(SELECT CAST((TS_FMT(CURRENT_TIMESTAMP, 'yyyymmdd') || SUBSTR(DIGITS(NEXT VALUE FOR CMS_TAT_PARAM_ITEM_SEQ), 2)) as BIGINT),
(SELECT TAT_PARAM_ID FROM CMS_TAT_PARAM WHERE APPLICATION_TYPE = 'COM'), '1', '1', 'Security documents checked & signed by PA & returned to solicitor', 'Receipt of Letter of Advice & security documents from solicitor for release of loan', 0, '1', 7, 0, 0, 'ACTIVE' from dual);

INSERT INTO CMS_STAGE_TAT_PARAM_ITEM
(TAT_PARAM_ITEM_ID, TAT_PARAM_ID, STAGE_TYPE, STAGE_CODE, PRE_STAGE, POST_STAGE, DURATION, DURATION_TYPE, SEQUENCE_ORDER, CMS_REF_ID, VERSION_TIME, STATUS)
(SELECT CAST((TS_FMT(CURRENT_TIMESTAMP, 'yyyymmdd') || SUBSTR(DIGITS(NEXT VALUE FOR CMS_STAGE_TAT_PARAM_ITEM_SEQ), 2)) as BIGINT),
(SELECT TAT_PARAM_ID FROM CMS_STAGE_TAT_PARAM WHERE APPLICATION_TYPE = 'COM'), '1', '1', 'Security documents checked & signed by PA & returned to solicitor', 'Receipt of Letter of Advice & security documents from solicitor for release of loan', 0, '1', 7, 0, 0, 'ACTIVE' from dual);

UPDATE CMS_TAT_PARAM_ITEM SET CMS_REF_ID = (SELECT TAT_PARAM_ITEM_ID FROM CMS_STAGE_TAT_PARAM_ITEM WHERE TAT_PARAM_ID = (SELECT TAT_PARAM_ID FROM CMS_STAGE_TAT_PARAM WHERE APPLICATION_TYPE = 'COM') AND PRE_STAGE  = 'Security documents checked & signed by PA & returned to solicitor' AND POST_STAGE = 'Receipt of Letter of Advice & security documents from solicitor for release of loan')
WHERE TAT_PARAM_ITEM_ID = (SELECT TAT_PARAM_ITEM_ID FROM CMS_TAT_PARAM_ITEM WHERE TAT_PARAM_ID = (SELECT TAT_PARAM_ID FROM CMS_TAT_PARAM WHERE APPLICATION_TYPE = 'COM') AND PRE_STAGE  = 'Security documents checked & signed by PA & returned to solicitor' AND POST_STAGE = 'Receipt of Letter of Advice & security documents from solicitor for release of loan');

UPDATE CMS_STAGE_TAT_PARAM_ITEM SET CMS_REF_ID = (SELECT TAT_PARAM_ITEM_ID FROM CMS_STAGE_TAT_PARAM_ITEM WHERE TAT_PARAM_ID = (SELECT TAT_PARAM_ID FROM CMS_STAGE_TAT_PARAM WHERE APPLICATION_TYPE = 'COM') AND PRE_STAGE  = 'Security documents checked & signed by PA & returned to solicitor' AND POST_STAGE = 'Receipt of Letter of Advice & security documents from solicitor for release of loan')
WHERE TAT_PARAM_ITEM_ID = (SELECT TAT_PARAM_ITEM_ID FROM CMS_STAGE_TAT_PARAM_ITEM WHERE TAT_PARAM_ID = (SELECT TAT_PARAM_ID FROM CMS_STAGE_TAT_PARAM WHERE APPLICATION_TYPE = 'COM') AND PRE_STAGE  = 'Security documents checked & signed by PA & returned to solicitor' AND POST_STAGE = 'Receipt of Letter of Advice & security documents from solicitor for release of loan');



INSERT INTO CMS_TAT_PARAM_ITEM
(TAT_PARAM_ITEM_ID, TAT_PARAM_ID, STAGE_TYPE, STAGE_CODE, PRE_STAGE, POST_STAGE, DURATION, DURATION_TYPE, SEQUENCE_ORDER, CMS_REF_ID, VERSION_TIME, STATUS)
(SELECT CAST((TS_FMT(CURRENT_TIMESTAMP, 'yyyymmdd') || SUBSTR(DIGITS(NEXT VALUE FOR CMS_TAT_PARAM_ITEM_SEQ), 2)) as BIGINT),
(SELECT TAT_PARAM_ID FROM CMS_TAT_PARAM WHERE APPLICATION_TYPE = 'COM'), '1', '1', 'Inspection / Site Visit of Property / Construction Area', 'Follow-up - Property & Verification of the construction cost', 14, '1', 8, 0, 0, 'ACTIVE' from dual);

INSERT INTO CMS_STAGE_TAT_PARAM_ITEM 
(TAT_PARAM_ITEM_ID, TAT_PARAM_ID, STAGE_TYPE, STAGE_CODE, PRE_STAGE, POST_STAGE, DURATION, DURATION_TYPE, SEQUENCE_ORDER, CMS_REF_ID, VERSION_TIME, STATUS)
(SELECT CAST((TS_FMT(CURRENT_TIMESTAMP, 'yyyymmdd') || SUBSTR(DIGITS(NEXT VALUE FOR CMS_STAGE_TAT_PARAM_ITEM_SEQ), 2)) as BIGINT), 
(SELECT TAT_PARAM_ID FROM CMS_STAGE_TAT_PARAM WHERE APPLICATION_TYPE = 'COM'), '1', '1', 'Inspection / Site Visit of Property / Construction Area', 'Follow-up - Property & Verification of the construction cost', 14, '1', 8, 0, 0, 'ACTIVE' from dual);

UPDATE CMS_TAT_PARAM_ITEM SET CMS_REF_ID = (SELECT TAT_PARAM_ITEM_ID FROM CMS_STAGE_TAT_PARAM_ITEM WHERE TAT_PARAM_ID = (SELECT TAT_PARAM_ID FROM CMS_STAGE_TAT_PARAM WHERE APPLICATION_TYPE = 'COM') AND PRE_STAGE  = 'Inspection / Site Visit of Property / Construction Area' AND POST_STAGE = 'Follow-up - Property & Verification of the construction cost')
WHERE TAT_PARAM_ITEM_ID = (SELECT TAT_PARAM_ITEM_ID FROM CMS_TAT_PARAM_ITEM WHERE TAT_PARAM_ID = (SELECT TAT_PARAM_ID FROM CMS_TAT_PARAM WHERE APPLICATION_TYPE = 'COM') AND PRE_STAGE  = 'Inspection / Site Visit of Property / Construction Area' AND POST_STAGE = 'Follow-up - Property & Verification of the construction cost');

UPDATE CMS_STAGE_TAT_PARAM_ITEM SET CMS_REF_ID = (SELECT TAT_PARAM_ITEM_ID FROM CMS_STAGE_TAT_PARAM_ITEM WHERE TAT_PARAM_ID = (SELECT TAT_PARAM_ID FROM CMS_STAGE_TAT_PARAM WHERE APPLICATION_TYPE = 'COM') AND PRE_STAGE  = 'Inspection / Site Visit of Property / Construction Area' AND POST_STAGE = 'Follow-up - Property & Verification of the construction cost')
WHERE TAT_PARAM_ITEM_ID = (SELECT TAT_PARAM_ITEM_ID FROM CMS_STAGE_TAT_PARAM_ITEM WHERE TAT_PARAM_ID = (SELECT TAT_PARAM_ID FROM CMS_STAGE_TAT_PARAM WHERE APPLICATION_TYPE = 'COM') AND PRE_STAGE  = 'Inspection / Site Visit of Property / Construction Area' AND POST_STAGE = 'Follow-up - Property & Verification of the construction cost');

	
	
INSERT INTO CMS_TAT_PARAM_ITEM 
(TAT_PARAM_ITEM_ID, TAT_PARAM_ID, STAGE_TYPE, STAGE_CODE, PRE_STAGE, POST_STAGE, DURATION, DURATION_TYPE, SEQUENCE_ORDER, CMS_REF_ID, VERSION_TIME, STATUS)
(SELECT CAST((TS_FMT(CURRENT_TIMESTAMP, 'yyyymmdd') || SUBSTR(DIGITS(NEXT VALUE FOR CMS_TAT_PARAM_ITEM_SEQ), 2)) as BIGINT), 
(SELECT TAT_PARAM_ID FROM CMS_TAT_PARAM WHERE APPLICATION_TYPE = 'COM'), '1', '1', 'Approval Process by MRTA Insurance', 'Follow-up - Letter of Acceptance', 14, '1', 9, 0, 0, 'ACTIVE' from dual);

INSERT INTO CMS_STAGE_TAT_PARAM_ITEM 
(TAT_PARAM_ITEM_ID, TAT_PARAM_ID, STAGE_TYPE, STAGE_CODE, PRE_STAGE, POST_STAGE, DURATION, DURATION_TYPE, SEQUENCE_ORDER, CMS_REF_ID, VERSION_TIME, STATUS)
(SELECT CAST((TS_FMT(CURRENT_TIMESTAMP, 'yyyymmdd') || SUBSTR(DIGITS(NEXT VALUE FOR CMS_STAGE_TAT_PARAM_ITEM_SEQ), 2)) as BIGINT), 
(SELECT TAT_PARAM_ID FROM CMS_STAGE_TAT_PARAM WHERE APPLICATION_TYPE = 'COM'), '1', '1', 'Approval Process by MRTA Insurance', 'Follow-up - Letter of Acceptance', 14, '1', 9, 0, 0, 'ACTIVE' from dual);

UPDATE CMS_TAT_PARAM_ITEM SET CMS_REF_ID = (SELECT TAT_PARAM_ITEM_ID FROM CMS_STAGE_TAT_PARAM_ITEM WHERE TAT_PARAM_ID = (SELECT TAT_PARAM_ID FROM CMS_STAGE_TAT_PARAM WHERE APPLICATION_TYPE = 'COM') AND PRE_STAGE  = 'Approval Process by MRTA Insurance' AND POST_STAGE = 'Follow-up - Letter of Acceptance')
WHERE TAT_PARAM_ITEM_ID = (SELECT TAT_PARAM_ITEM_ID FROM CMS_TAT_PARAM_ITEM WHERE TAT_PARAM_ID = (SELECT TAT_PARAM_ID FROM CMS_TAT_PARAM WHERE APPLICATION_TYPE = 'COM') AND PRE_STAGE  = 'Approval Process by MRTA Insurance' AND POST_STAGE = 'Follow-up - Letter of Acceptance');

UPDATE CMS_STAGE_TAT_PARAM_ITEM SET CMS_REF_ID = (SELECT TAT_PARAM_ITEM_ID FROM CMS_STAGE_TAT_PARAM_ITEM WHERE TAT_PARAM_ID = (SELECT TAT_PARAM_ID FROM CMS_STAGE_TAT_PARAM WHERE APPLICATION_TYPE = 'COM') AND PRE_STAGE  = 'Approval Process by MRTA Insurance' AND POST_STAGE = 'Follow-up - Letter of Acceptance')
WHERE TAT_PARAM_ITEM_ID = (SELECT TAT_PARAM_ITEM_ID FROM CMS_STAGE_TAT_PARAM_ITEM WHERE TAT_PARAM_ID = (SELECT TAT_PARAM_ID FROM CMS_STAGE_TAT_PARAM WHERE APPLICATION_TYPE = 'COM') AND PRE_STAGE  = 'Approval Process by MRTA Insurance' AND POST_STAGE = 'Follow-up - Letter of Acceptance');


	
INSERT INTO CMS_TAT_PARAM_ITEM 
(TAT_PARAM_ITEM_ID, TAT_PARAM_ID, STAGE_TYPE, STAGE_CODE, PRE_STAGE, POST_STAGE, DURATION, DURATION_TYPE, SEQUENCE_ORDER, CMS_REF_ID, VERSION_TIME, STATUS)
(SELECT CAST((TS_FMT(CURRENT_TIMESTAMP, 'yyyymmdd') || SUBSTR(DIGITS(NEXT VALUE FOR CMS_TAT_PARAM_ITEM_SEQ), 2)) as BIGINT), 
(SELECT TAT_PARAM_ID FROM CMS_TAT_PARAM WHERE APPLICATION_TYPE = 'COM'), '1', '1', 'Receipt of Letter of Advice & security documents from solicitor / valuation report from valuer / Letter of Acceptance from insurer for release of loan', 'Completion & issuance of Valuation Report Quality check & issuance of DCL to Enforcement Unit', 2, '1', 10, 0, 0, 'ACTIVE' from dual);

INSERT INTO CMS_STAGE_TAT_PARAM_ITEM 
(TAT_PARAM_ITEM_ID, TAT_PARAM_ID, STAGE_TYPE, STAGE_CODE, PRE_STAGE, POST_STAGE, DURATION, DURATION_TYPE, SEQUENCE_ORDER, CMS_REF_ID, VERSION_TIME, STATUS)
(SELECT CAST((TS_FMT(CURRENT_TIMESTAMP, 'yyyymmdd') || SUBSTR(DIGITS(NEXT VALUE FOR CMS_STAGE_TAT_PARAM_ITEM_SEQ), 2)) as BIGINT), 
(SELECT TAT_PARAM_ID FROM CMS_STAGE_TAT_PARAM WHERE APPLICATION_TYPE = 'COM'), '1', '1', 'Receipt of Letter of Advice & security documents from solicitor / valuation report from valuer / Letter of Acceptance from insurer for release of loan', 'Completion & issuance of Valuation Report Quality check & issuance of DCL to Enforcement Unit', 2, '1', 10, 0, 0, 'ACTIVE' from dual);

UPDATE CMS_TAT_PARAM_ITEM SET CMS_REF_ID = (SELECT TAT_PARAM_ITEM_ID FROM CMS_STAGE_TAT_PARAM_ITEM WHERE TAT_PARAM_ID = (SELECT TAT_PARAM_ID FROM CMS_STAGE_TAT_PARAM WHERE APPLICATION_TYPE = 'COM') AND PRE_STAGE  = 'Receipt of Letter of Advice & security documents from solicitor / valuation report from valuer / Letter of Acceptance from insurer for release of loan' AND POST_STAGE = 'Completion & issuance of Valuation Report Quality check & issuance of DCL to Enforcement Unit')
WHERE TAT_PARAM_ITEM_ID = (SELECT TAT_PARAM_ITEM_ID FROM CMS_TAT_PARAM_ITEM WHERE TAT_PARAM_ID = (SELECT TAT_PARAM_ID FROM CMS_TAT_PARAM WHERE APPLICATION_TYPE = 'COM') AND PRE_STAGE  = 'Receipt of Letter of Advice & security documents from solicitor / valuation report from valuer / Letter of Acceptance from insurer for release of loan' AND POST_STAGE = 'Receipt of draft security documents from solicitor');

UPDATE CMS_STAGE_TAT_PARAM_ITEM SET CMS_REF_ID = (SELECT TAT_PARAM_ITEM_ID FROM CMS_STAGE_TAT_PARAM_ITEM WHERE TAT_PARAM_ID = (SELECT TAT_PARAM_ID FROM CMS_STAGE_TAT_PARAM WHERE APPLICATION_TYPE = 'COM') AND PRE_STAGE  = 'Receipt of Letter of Advice & security documents from solicitor / valuation report from valuer / Letter of Acceptance from insurer for release of loan' AND POST_STAGE = 'Receipt of draft security documents from solicitor')
WHERE TAT_PARAM_ITEM_ID = (SELECT TAT_PARAM_ITEM_ID FROM CMS_STAGE_TAT_PARAM_ITEM WHERE TAT_PARAM_ID = (SELECT TAT_PARAM_ID FROM CMS_STAGE_TAT_PARAM WHERE APPLICATION_TYPE = 'COM') AND PRE_STAGE  = 'Receipt of Letter of Advice & security documents from solicitor / valuation report from valuer / Letter of Acceptance from insurer for release of loan' AND POST_STAGE = 'Receipt of draft security documents from solicitor');

	

INSERT INTO CMS_TAT_PARAM_ITEM 
(TAT_PARAM_ITEM_ID, TAT_PARAM_ID, STAGE_TYPE, STAGE_CODE, PRE_STAGE, POST_STAGE, DURATION, DURATION_TYPE, SEQUENCE_ORDER, CMS_REF_ID, VERSION_TIME, STATUS)
(SELECT CAST((TS_FMT(CURRENT_TIMESTAMP, 'yyyymmdd') || SUBSTR(DIGITS(NEXT VALUE FOR CMS_TAT_PARAM_ITEM_SEQ), 2)) as BIGINT), 
(SELECT TAT_PARAM_ID FROM CMS_TAT_PARAM WHERE APPLICATION_TYPE = 'COM'), '2', '1', 'For Existing A/C: Receipt of DCL from Documentation Unit', 'Disbursement of loan', 2, '1', 11, 0, 0, 'ACTIVE' from dual);

INSERT INTO CMS_STAGE_TAT_PARAM_ITEM 
(TAT_PARAM_ITEM_ID, TAT_PARAM_ID, STAGE_TYPE, STAGE_CODE, PRE_STAGE, POST_STAGE, DURATION, DURATION_TYPE, SEQUENCE_ORDER, CMS_REF_ID, VERSION_TIME, STATUS)
(SELECT CAST((TS_FMT(CURRENT_TIMESTAMP, 'yyyymmdd') || SUBSTR(DIGITS(NEXT VALUE FOR CMS_STAGE_TAT_PARAM_ITEM_SEQ), 2)) as BIGINT), 
(SELECT TAT_PARAM_ID FROM CMS_STAGE_TAT_PARAM WHERE APPLICATION_TYPE = 'COM'), '2', '1', 'For Existing A/C: Receipt of DCL from Documentation Unit', 'Disbursement of loan', 2, '1', 11, 0, 0, 'ACTIVE' from dual);

UPDATE CMS_TAT_PARAM_ITEM SET CMS_REF_ID = (SELECT TAT_PARAM_ITEM_ID FROM CMS_STAGE_TAT_PARAM_ITEM WHERE TAT_PARAM_ID = (SELECT TAT_PARAM_ID FROM CMS_STAGE_TAT_PARAM WHERE APPLICATION_TYPE = 'COM') AND PRE_STAGE  = 'For Existing A/C: Receipt of DCL from Documentation Unit' AND POST_STAGE = 'Disbursement of loan')
WHERE TAT_PARAM_ITEM_ID = (SELECT TAT_PARAM_ITEM_ID FROM CMS_TAT_PARAM_ITEM WHERE TAT_PARAM_ID = (SELECT TAT_PARAM_ID FROM CMS_TAT_PARAM WHERE APPLICATION_TYPE = 'COM') AND PRE_STAGE  = 'For Existing A/C: Receipt of DCL from Documentation Unit' AND POST_STAGE = 'Disbursement of loan');

UPDATE CMS_STAGE_TAT_PARAM_ITEM SET CMS_REF_ID = (SELECT TAT_PARAM_ITEM_ID FROM CMS_STAGE_TAT_PARAM_ITEM WHERE TAT_PARAM_ID = (SELECT TAT_PARAM_ID FROM CMS_STAGE_TAT_PARAM WHERE APPLICATION_TYPE = 'COM') AND PRE_STAGE  = 'For Existing A/C: Receipt of DCL from Documentation Unit' AND POST_STAGE = 'Disbursement of loan')
WHERE TAT_PARAM_ITEM_ID = (SELECT TAT_PARAM_ITEM_ID FROM CMS_STAGE_TAT_PARAM_ITEM WHERE TAT_PARAM_ID = (SELECT TAT_PARAM_ID FROM CMS_STAGE_TAT_PARAM WHERE APPLICATION_TYPE = 'COM') AND PRE_STAGE  = 'For Existing A/C: Receipt of DCL from Documentation Unit' AND POST_STAGE = 'Disbursement of loan');

	
	
INSERT INTO CMS_TAT_PARAM_ITEM 
(TAT_PARAM_ITEM_ID, TAT_PARAM_ID, STAGE_TYPE, STAGE_CODE, PRE_STAGE, POST_STAGE, DURATION, DURATION_TYPE, SEQUENCE_ORDER, CMS_REF_ID, VERSION_TIME, STATUS)
(SELECT CAST((TS_FMT(CURRENT_TIMESTAMP, 'yyyymmdd') || SUBSTR(DIGITS(NEXT VALUE FOR CMS_TAT_PARAM_ITEM_SEQ), 2)) as BIGINT), 
(SELECT TAT_PARAM_ID FROM CMS_TAT_PARAM WHERE APPLICATION_TYPE = 'COM'), '2', '1', 'For New A/C: Receipt of DCL from Documentation Unit', 'Disbursement of loan', 2, '1', 12, 0, 0, 'ACTIVE' from dual);

INSERT INTO CMS_STAGE_TAT_PARAM_ITEM 
(TAT_PARAM_ITEM_ID, TAT_PARAM_ID, STAGE_TYPE, STAGE_CODE, PRE_STAGE, POST_STAGE, DURATION, DURATION_TYPE, SEQUENCE_ORDER, CMS_REF_ID, VERSION_TIME, STATUS)
(SELECT CAST((TS_FMT(CURRENT_TIMESTAMP, 'yyyymmdd') || SUBSTR(DIGITS(NEXT VALUE FOR CMS_STAGE_TAT_PARAM_ITEM_SEQ), 2)) as BIGINT), 
(SELECT TAT_PARAM_ID FROM CMS_STAGE_TAT_PARAM WHERE APPLICATION_TYPE = 'COM'), '2', '1', 'For New A/C: Receipt of DCL from Documentation Unit', 'Disbursement of loan', 2, '1', 12, 0, 0, 'ACTIVE' from dual);

UPDATE CMS_TAT_PARAM_ITEM SET CMS_REF_ID = (SELECT TAT_PARAM_ITEM_ID FROM CMS_STAGE_TAT_PARAM_ITEM WHERE TAT_PARAM_ID = (SELECT TAT_PARAM_ID FROM CMS_STAGE_TAT_PARAM WHERE APPLICATION_TYPE = 'COM') AND PRE_STAGE  = 'For New A/C: Receipt of DCL from Documentation Unit' AND POST_STAGE = 'Disbursement of loan')
WHERE TAT_PARAM_ITEM_ID = (SELECT TAT_PARAM_ITEM_ID FROM CMS_TAT_PARAM_ITEM WHERE TAT_PARAM_ID = (SELECT TAT_PARAM_ID FROM CMS_TAT_PARAM WHERE APPLICATION_TYPE = 'COM') AND PRE_STAGE  = 'For New A/C: Receipt of DCL from Documentation Unit' AND POST_STAGE = 'Disbursement of loan');

UPDATE CMS_STAGE_TAT_PARAM_ITEM SET CMS_REF_ID = (SELECT TAT_PARAM_ITEM_ID FROM CMS_STAGE_TAT_PARAM_ITEM WHERE TAT_PARAM_ID = (SELECT TAT_PARAM_ID FROM CMS_STAGE_TAT_PARAM WHERE APPLICATION_TYPE = 'COM') AND PRE_STAGE  = 'For New A/C: Receipt of DCL from Documentation Unit' AND POST_STAGE = 'Disbursement of loan')
WHERE TAT_PARAM_ITEM_ID = (SELECT TAT_PARAM_ITEM_ID FROM CMS_STAGE_TAT_PARAM_ITEM WHERE TAT_PARAM_ID = (SELECT TAT_PARAM_ID FROM CMS_STAGE_TAT_PARAM WHERE APPLICATION_TYPE = 'COM') AND PRE_STAGE  = 'For New A/C: Receipt of DCL from Documentation Unit' AND POST_STAGE = 'Disbursement of loan');



INSERT INTO CMS_TAT_PARAM_ITEM 
(TAT_PARAM_ITEM_ID, TAT_PARAM_ID, STAGE_TYPE, STAGE_CODE, PRE_STAGE, POST_STAGE, DURATION, DURATION_TYPE, SEQUENCE_ORDER, CMS_REF_ID, VERSION_TIME, STATUS)
(SELECT CAST((TS_FMT(CURRENT_TIMESTAMP, 'yyyymmdd') || SUBSTR(DIGITS(NEXT VALUE FOR CMS_TAT_PARAM_ITEM_SEQ), 2)) as BIGINT), 
(SELECT TAT_PARAM_ID FROM CMS_TAT_PARAM WHERE APPLICATION_TYPE = 'COM'), '3', '1', 'Receipt of security documents by Custodian from Documentation Unit/ solicitor', 'Recording & lodgement of security', 7, '1', 13, 0, 0, 'ACTIVE' from dual);

INSERT INTO CMS_STAGE_TAT_PARAM_ITEM 
(TAT_PARAM_ITEM_ID, TAT_PARAM_ID, STAGE_TYPE, STAGE_CODE, PRE_STAGE, POST_STAGE, DURATION, DURATION_TYPE, SEQUENCE_ORDER, CMS_REF_ID, VERSION_TIME, STATUS)
(SELECT CAST((TS_FMT(CURRENT_TIMESTAMP, 'yyyymmdd') || SUBSTR(DIGITS(NEXT VALUE FOR CMS_STAGE_TAT_PARAM_ITEM_SEQ), 2)) as BIGINT), 
(SELECT TAT_PARAM_ID FROM CMS_STAGE_TAT_PARAM WHERE APPLICATION_TYPE = 'COM'), '3', '1', 'Receipt of security documents by Custodian from Documentation Unit/ solicitor', 'Recording & lodgement of security', 7, '1', 13, 0, 0, 'ACTIVE' from dual);

UPDATE CMS_TAT_PARAM_ITEM SET CMS_REF_ID = (SELECT TAT_PARAM_ITEM_ID FROM CMS_STAGE_TAT_PARAM_ITEM WHERE TAT_PARAM_ID = (SELECT TAT_PARAM_ID FROM CMS_STAGE_TAT_PARAM WHERE APPLICATION_TYPE = 'COM') AND PRE_STAGE  = 'Receipt of security documents by Custodian from Documentation Unit/ solicitor' AND POST_STAGE = 'Recording & lodgement of security')
WHERE TAT_PARAM_ITEM_ID = (SELECT TAT_PARAM_ITEM_ID FROM CMS_TAT_PARAM_ITEM WHERE TAT_PARAM_ID = (SELECT TAT_PARAM_ID FROM CMS_TAT_PARAM WHERE APPLICATION_TYPE = 'COM') AND PRE_STAGE  = 'Receipt of security documents by Custodian from Documentation Unit/ solicitor' AND POST_STAGE = 'Recording & lodgement of security');

UPDATE CMS_STAGE_TAT_PARAM_ITEM SET CMS_REF_ID = (SELECT TAT_PARAM_ITEM_ID FROM CMS_STAGE_TAT_PARAM_ITEM WHERE TAT_PARAM_ID = (SELECT TAT_PARAM_ID FROM CMS_STAGE_TAT_PARAM WHERE APPLICATION_TYPE = 'COM') AND PRE_STAGE  = 'Receipt of security documents by Custodian from Documentation Unit/ solicitor' AND POST_STAGE = 'Recording & lodgement of security')
WHERE TAT_PARAM_ITEM_ID = (SELECT TAT_PARAM_ITEM_ID FROM CMS_STAGE_TAT_PARAM_ITEM WHERE TAT_PARAM_ID = (SELECT TAT_PARAM_ID FROM CMS_STAGE_TAT_PARAM WHERE APPLICATION_TYPE = 'COM') AND PRE_STAGE  = 'Receipt of security documents by Custodian from Documentation Unit/ solicitor' AND POST_STAGE = 'Recording & lodgement of security');


	
---------------------- Consumer Mortgage ----------------------------


INSERT INTO CMS_TAT_PARAM_ITEM 
(TAT_PARAM_ITEM_ID, TAT_PARAM_ID, STAGE_TYPE, STAGE_CODE, PRE_STAGE, POST_STAGE, DURATION, DURATION_TYPE, SEQUENCE_ORDER, CMS_REF_ID, VERSION_TIME, STATUS)
(SELECT CAST((TS_FMT(CURRENT_TIMESTAMP, 'yyyymmdd') || SUBSTR(DIGITS(NEXT VALUE FOR CMS_TAT_PARAM_ITEM_SEQ), 2)) as BIGINT), 
(SELECT TAT_PARAM_ID FROM CMS_TAT_PARAM WHERE APPLICATION_TYPE = 'MG'), '1', '1', 'Receipt of complete file from CPH', 'Issuance of Letter of Instruction (LI) to Solicitor / Insurer / Valuer', 2, '1', 1, 0, 0, 'ACTIVE' from dual);

INSERT INTO CMS_STAGE_TAT_PARAM_ITEM 
(TAT_PARAM_ITEM_ID, TAT_PARAM_ID, STAGE_TYPE, STAGE_CODE, PRE_STAGE, POST_STAGE, DURATION, DURATION_TYPE, SEQUENCE_ORDER, CMS_REF_ID, VERSION_TIME, STATUS)
(SELECT CAST((TS_FMT(CURRENT_TIMESTAMP, 'yyyymmdd') || SUBSTR(DIGITS(NEXT VALUE FOR CMS_STAGE_TAT_PARAM_ITEM_SEQ), 2)) as BIGINT), 
(SELECT TAT_PARAM_ID FROM CMS_STAGE_TAT_PARAM WHERE APPLICATION_TYPE = 'MG'), '1', '1', 'Receipt of complete file from CPH', 'Issuance of Letter of Instruction (LI) to Solicitor / Insurer / Valuer', 2, '1', 1, 0, 0, 'ACTIVE' from dual);

UPDATE CMS_TAT_PARAM_ITEM SET CMS_REF_ID = (SELECT TAT_PARAM_ITEM_ID FROM CMS_STAGE_TAT_PARAM_ITEM WHERE 
TAT_PARAM_ID = (SELECT TAT_PARAM_ID FROM CMS_STAGE_TAT_PARAM WHERE APPLICATION_TYPE = 'MG') AND 
PRE_STAGE  = 'Receipt of complete file from CPH' AND POST_STAGE = 'Issuance of Letter of Instruction (LI) to Solicitor / Insurer / Valuer')
WHERE TAT_PARAM_ITEM_ID = (SELECT TAT_PARAM_ITEM_ID FROM CMS_TAT_PARAM_ITEM WHERE 
TAT_PARAM_ID = (SELECT TAT_PARAM_ID FROM CMS_TAT_PARAM WHERE APPLICATION_TYPE = 'MG') AND 
PRE_STAGE  = 'Receipt of complete file from CPH' AND POST_STAGE = 'Issuance of Letter of Instruction (LI) to Solicitor / Insurer / Valuer');

UPDATE CMS_STAGE_TAT_PARAM_ITEM SET CMS_REF_ID = (SELECT TAT_PARAM_ITEM_ID FROM CMS_STAGE_TAT_PARAM_ITEM WHERE TAT_PARAM_ID = (SELECT TAT_PARAM_ID FROM CMS_STAGE_TAT_PARAM WHERE APPLICATION_TYPE = 'MG') AND PRE_STAGE  = 'Receipt of complete file from CPH' AND POST_STAGE = 'Issuance of Letter of Instruction (LI) to Solicitor / Insurer / Valuer')
WHERE TAT_PARAM_ITEM_ID = (SELECT TAT_PARAM_ITEM_ID FROM CMS_STAGE_TAT_PARAM_ITEM WHERE TAT_PARAM_ID = (SELECT TAT_PARAM_ID FROM CMS_STAGE_TAT_PARAM WHERE APPLICATION_TYPE = 'MG') AND PRE_STAGE  = 'Receipt of complete file from CPH' AND POST_STAGE = 'Issuance of Letter of Instruction (LI) to Solicitor / Insurer / Valuer');


	
INSERT INTO CMS_TAT_PARAM_ITEM 
(TAT_PARAM_ITEM_ID, TAT_PARAM_ID, STAGE_TYPE, STAGE_CODE, PRE_STAGE, POST_STAGE, DURATION, DURATION_TYPE, SEQUENCE_ORDER, CMS_REF_ID, VERSION_TIME, STATUS)
(SELECT CAST((TS_FMT(CURRENT_TIMESTAMP, 'yyyymmdd') || SUBSTR(DIGITS(NEXT VALUE FOR CMS_TAT_PARAM_ITEM_SEQ), 2)) as BIGINT), 
(SELECT TAT_PARAM_ID FROM CMS_TAT_PARAM WHERE APPLICATION_TYPE = 'MG'), '1', '1', 'LI date to Solicitor / Insurer / Valuer', 'Solicitor to forward executed security documents / Valuer to forward original valuation report or certificate of value / Insurer to issue letter of acceptance or policy', 21, '1', 2, 0, 0, 'ACTIVE' from dual);

INSERT INTO CMS_STAGE_TAT_PARAM_ITEM 
(TAT_PARAM_ITEM_ID, TAT_PARAM_ID, STAGE_TYPE, STAGE_CODE, PRE_STAGE, POST_STAGE, DURATION, DURATION_TYPE, SEQUENCE_ORDER, CMS_REF_ID, VERSION_TIME, STATUS)
(SELECT CAST((TS_FMT(CURRENT_TIMESTAMP, 'yyyymmdd') || SUBSTR(DIGITS(NEXT VALUE FOR CMS_STAGE_TAT_PARAM_ITEM_SEQ), 2)) as BIGINT), 
(SELECT TAT_PARAM_ID FROM CMS_STAGE_TAT_PARAM WHERE APPLICATION_TYPE = 'MG'), '1', '1', 'LI date to Solicitor / Insurer / Valuer', 'Solicitor to forward executed security documents / Valuer to forward original valuation report or certificate of value / Insurer to issue letter of acceptance or policy', 21, '1', 2, 0, 0, 'ACTIVE' from dual);

UPDATE CMS_TAT_PARAM_ITEM SET CMS_REF_ID = (SELECT TAT_PARAM_ITEM_ID FROM CMS_STAGE_TAT_PARAM_ITEM WHERE TAT_PARAM_ID = (SELECT TAT_PARAM_ID FROM CMS_STAGE_TAT_PARAM WHERE APPLICATION_TYPE = 'MG') AND PRE_STAGE  = 'LI date to Solicitor / Insurer / Valuer' AND POST_STAGE = 'Solicitor to forward executed security documents / Valuer to forward original valuation report or certificate of value / Insurer to issue letter of acceptance or policy')
WHERE TAT_PARAM_ITEM_ID = (SELECT TAT_PARAM_ITEM_ID FROM CMS_TAT_PARAM_ITEM WHERE TAT_PARAM_ID = (SELECT TAT_PARAM_ID FROM CMS_TAT_PARAM WHERE APPLICATION_TYPE = 'MG') AND PRE_STAGE  = 'LI date to Solicitor / Insurer / Valuer' AND POST_STAGE = 'Solicitor to forward executed security documents / Valuer to forward original valuation report or certificate of value / Insurer to issue letter of acceptance or policy');

UPDATE CMS_STAGE_TAT_PARAM_ITEM SET CMS_REF_ID = (SELECT TAT_PARAM_ITEM_ID FROM CMS_STAGE_TAT_PARAM_ITEM WHERE TAT_PARAM_ID = (SELECT TAT_PARAM_ID FROM CMS_STAGE_TAT_PARAM WHERE APPLICATION_TYPE = 'MG') AND PRE_STAGE  = 'LI date to Solicitor / Insurer / Valuer' AND POST_STAGE = 'Solicitor to forward executed security documents / Valuer to forward original valuation report or certificate of value / Insurer to issue letter of acceptance or policy')
WHERE TAT_PARAM_ITEM_ID = (SELECT TAT_PARAM_ITEM_ID FROM CMS_STAGE_TAT_PARAM_ITEM WHERE TAT_PARAM_ID = (SELECT TAT_PARAM_ID FROM CMS_STAGE_TAT_PARAM WHERE APPLICATION_TYPE = 'MG') AND PRE_STAGE  = 'LI date to Solicitor / Insurer / Valuer' AND POST_STAGE = 'Solicitor to forward executed security documents / Valuer to forward original valuation report or certificate of value / Insurer to issue letter of acceptance or policy');
	
	
	
INSERT INTO CMS_TAT_PARAM_ITEM 
(TAT_PARAM_ITEM_ID, TAT_PARAM_ID, STAGE_TYPE, STAGE_CODE, PRE_STAGE, POST_STAGE, DURATION, DURATION_TYPE, SEQUENCE_ORDER, CMS_REF_ID, VERSION_TIME, STATUS)
(SELECT CAST((TS_FMT(CURRENT_TIMESTAMP, 'yyyymmdd') || SUBSTR(DIGITS(NEXT VALUE FOR CMS_TAT_PARAM_ITEM_SEQ), 2)) as BIGINT), 
(SELECT TAT_PARAM_ID FROM CMS_TAT_PARAM WHERE APPLICATION_TYPE = 'MG'), '1', '1', 'Receipt of documents by CAH', 'Upon receipt of Valuation Report , Execution of loan security documents (vetting of documents, signature by PA and despatch / return to solicitor)', 5, '1', 3, 0, 0, 'ACTIVE' from dual);

INSERT INTO CMS_STAGE_TAT_PARAM_ITEM 
(TAT_PARAM_ITEM_ID, TAT_PARAM_ID, STAGE_TYPE, STAGE_CODE, PRE_STAGE, POST_STAGE, DURATION, DURATION_TYPE, SEQUENCE_ORDER, CMS_REF_ID, VERSION_TIME, STATUS)
(SELECT CAST((TS_FMT(CURRENT_TIMESTAMP, 'yyyymmdd') || SUBSTR(DIGITS(NEXT VALUE FOR CMS_STAGE_TAT_PARAM_ITEM_SEQ), 2)) as BIGINT), 
(SELECT TAT_PARAM_ID FROM CMS_STAGE_TAT_PARAM WHERE APPLICATION_TYPE = 'MG'), '1', '1', 'Receipt of documents by CAH', 'Upon receipt of Valuation Report , Execution of loan security documents (vetting of documents, signature by PA and despatch / return to solicitor)', 5, '1', 3, 0, 0, 'ACTIVE' from dual);

UPDATE CMS_TAT_PARAM_ITEM SET CMS_REF_ID = (SELECT TAT_PARAM_ITEM_ID FROM CMS_STAGE_TAT_PARAM_ITEM WHERE TAT_PARAM_ID = (SELECT TAT_PARAM_ID FROM CMS_STAGE_TAT_PARAM WHERE APPLICATION_TYPE = 'MG') AND PRE_STAGE  = 'Receipt of documents by CAH' AND POST_STAGE = 'Upon receipt of Valuation Report , Execution of loan security documents (vetting of documents, signature by PA and despatch / return to solicitor)')
WHERE TAT_PARAM_ITEM_ID = (SELECT TAT_PARAM_ITEM_ID FROM CMS_TAT_PARAM_ITEM WHERE TAT_PARAM_ID = (SELECT TAT_PARAM_ID FROM CMS_TAT_PARAM WHERE APPLICATION_TYPE = 'MG') AND PRE_STAGE  = 'Receipt of documents by CAH' AND POST_STAGE = 'Upon receipt of Valuation Report , Execution of loan security documents (vetting of documents, signature by PA and despatch / return to solicitor)');

UPDATE CMS_STAGE_TAT_PARAM_ITEM SET CMS_REF_ID = (SELECT TAT_PARAM_ITEM_ID FROM CMS_STAGE_TAT_PARAM_ITEM WHERE TAT_PARAM_ID = (SELECT TAT_PARAM_ID FROM CMS_STAGE_TAT_PARAM WHERE APPLICATION_TYPE = 'MG') AND PRE_STAGE  = 'Receipt of documents by CAH' AND POST_STAGE = 'Upon receipt of Valuation Report , Execution of loan security documents (vetting of documents, signature by PA and despatch / return to solicitor)')
WHERE TAT_PARAM_ITEM_ID = (SELECT TAT_PARAM_ITEM_ID FROM CMS_STAGE_TAT_PARAM_ITEM WHERE TAT_PARAM_ID = (SELECT TAT_PARAM_ID FROM CMS_STAGE_TAT_PARAM WHERE APPLICATION_TYPE = 'MG') AND PRE_STAGE  = 'Receipt of documents by CAH' AND POST_STAGE = 'Upon receipt of Valuation Report , Execution of loan security documents (vetting of documents, signature by PA and despatch / return to solicitor)');


	
INSERT INTO CMS_TAT_PARAM_ITEM 
(TAT_PARAM_ITEM_ID, TAT_PARAM_ID, STAGE_TYPE, STAGE_CODE, PRE_STAGE, POST_STAGE, DURATION, DURATION_TYPE, SEQUENCE_ORDER, CMS_REF_ID, VERSION_TIME, STATUS)
(SELECT CAST((TS_FMT(CURRENT_TIMESTAMP, 'yyyymmdd') || SUBSTR(DIGITS(NEXT VALUE FOR CMS_TAT_PARAM_ITEM_SEQ), 2)) as BIGINT), 
(SELECT TAT_PARAM_ID FROM CMS_TAT_PARAM WHERE APPLICATION_TYPE = 'MG'), '1', '1', 'Receipt of executed security documents from Solicitor / Receipt of original valuation report or certificate of value from Valuer / Receipt of letter of acceptance or policy from Insurer', 'Solicitor advise for drawdown received - for cases that does not required State''s consent', 24, '1', 4, 0, 0, 'ACTIVE' from dual);

INSERT INTO CMS_STAGE_TAT_PARAM_ITEM 
(TAT_PARAM_ITEM_ID, TAT_PARAM_ID, STAGE_TYPE, STAGE_CODE, PRE_STAGE, POST_STAGE, DURATION, DURATION_TYPE, SEQUENCE_ORDER, CMS_REF_ID, VERSION_TIME, STATUS)
(SELECT CAST((TS_FMT(CURRENT_TIMESTAMP, 'yyyymmdd') || SUBSTR(DIGITS(NEXT VALUE FOR CMS_STAGE_TAT_PARAM_ITEM_SEQ), 2)) as BIGINT), 
(SELECT TAT_PARAM_ID FROM CMS_STAGE_TAT_PARAM WHERE APPLICATION_TYPE = 'MG'), '1', '1', 'Receipt of executed security documents from Solicitor / Receipt of original valuation report or certificate of value from Valuer / Receipt of letter of acceptance or policy from Insurer', 'Solicitor advise for drawdown received - for cases that does not required State''s consent', 24, '1', 4, 0, 0, 'ACTIVE' from dual);

UPDATE CMS_TAT_PARAM_ITEM SET CMS_REF_ID = (SELECT TAT_PARAM_ITEM_ID FROM CMS_STAGE_TAT_PARAM_ITEM WHERE TAT_PARAM_ID = (SELECT TAT_PARAM_ID FROM CMS_STAGE_TAT_PARAM WHERE APPLICATION_TYPE = 'MG') AND PRE_STAGE  = 'Receipt of executed security documents from Solicitor / Receipt of original valuation report or certificate of value from Valuer / Receipt of letter of acceptance or policy from Insurer' AND POST_STAGE = 'Solicitor advise for drawdown received - for cases that does not required State''s consent')
WHERE TAT_PARAM_ITEM_ID = (SELECT TAT_PARAM_ITEM_ID FROM CMS_TAT_PARAM_ITEM WHERE TAT_PARAM_ID = (SELECT TAT_PARAM_ID FROM CMS_TAT_PARAM WHERE APPLICATION_TYPE = 'MG') AND PRE_STAGE  = 'Receipt of executed security documents from Solicitor / Receipt of original valuation report or certificate of value from Valuer / Receipt of letter of acceptance or policy from Insurer' AND POST_STAGE = 'Solicitor advise for drawdown received - for cases that does not required State''s consent');

UPDATE CMS_STAGE_TAT_PARAM_ITEM SET CMS_REF_ID = (SELECT TAT_PARAM_ITEM_ID FROM CMS_STAGE_TAT_PARAM_ITEM WHERE TAT_PARAM_ID = (SELECT TAT_PARAM_ID FROM CMS_STAGE_TAT_PARAM WHERE APPLICATION_TYPE = 'MG') AND PRE_STAGE  = 'Receipt of executed security documents from Solicitor / Receipt of original valuation report or certificate of value from Valuer / Receipt of letter of acceptance or policy from Insurer' AND POST_STAGE = 'Solicitor advise for drawdown received - for cases that does not required State''s consent')
WHERE TAT_PARAM_ITEM_ID = (SELECT TAT_PARAM_ITEM_ID FROM CMS_STAGE_TAT_PARAM_ITEM WHERE TAT_PARAM_ID = (SELECT TAT_PARAM_ID FROM CMS_STAGE_TAT_PARAM WHERE APPLICATION_TYPE = 'MG') AND PRE_STAGE  = 'Receipt of executed security documents from Solicitor / Receipt of original valuation report or certificate of value from Valuer / Receipt of letter of acceptance or policy from Insurer' AND POST_STAGE = 'Solicitor advise for drawdown received - for cases that does not required State''s consent');

	
	
INSERT INTO CMS_TAT_PARAM_ITEM 
(TAT_PARAM_ITEM_ID, TAT_PARAM_ID, STAGE_TYPE, STAGE_CODE, PRE_STAGE, POST_STAGE, DURATION, DURATION_TYPE, SEQUENCE_ORDER, CMS_REF_ID, VERSION_TIME, STATUS)
(SELECT CAST((TS_FMT(CURRENT_TIMESTAMP, 'yyyymmdd') || SUBSTR(DIGITS(NEXT VALUE FOR CMS_TAT_PARAM_ITEM_SEQ), 2)) as BIGINT), 
(SELECT TAT_PARAM_ID FROM CMS_TAT_PARAM WHERE APPLICATION_TYPE = 'MG'), '1', '1', 'Receipt of executed security documents from Solicitor / Receipt of original valuation report or certificate of value from Valuer / Receipt of letter of acceptance or policy from Insurer', 'Solicitor advise for drawdown received - for cases that required State''s consent', 114, '1', 5, 0, 0, 'ACTIVE' from dual);

INSERT INTO CMS_STAGE_TAT_PARAM_ITEM 
(TAT_PARAM_ITEM_ID, TAT_PARAM_ID, STAGE_TYPE, STAGE_CODE, PRE_STAGE, POST_STAGE, DURATION, DURATION_TYPE, SEQUENCE_ORDER, CMS_REF_ID, VERSION_TIME, STATUS)
(SELECT CAST((TS_FMT(CURRENT_TIMESTAMP, 'yyyymmdd') || SUBSTR(DIGITS(NEXT VALUE FOR CMS_STAGE_TAT_PARAM_ITEM_SEQ), 2)) as BIGINT), 
(SELECT TAT_PARAM_ID FROM CMS_STAGE_TAT_PARAM WHERE APPLICATION_TYPE = 'MG'), '1', '1', 'Receipt of executed security documents from Solicitor / Receipt of original valuation report or certificate of value from Valuer / Receipt of letter of acceptance or policy from Insurer', 'Solicitor advise for drawdown received - for cases that required State''s consent', 114, '1', 5, 0, 0, 'ACTIVE' from dual);

UPDATE CMS_TAT_PARAM_ITEM SET CMS_REF_ID = (SELECT TAT_PARAM_ITEM_ID FROM CMS_STAGE_TAT_PARAM_ITEM WHERE TAT_PARAM_ID = (SELECT TAT_PARAM_ID FROM CMS_STAGE_TAT_PARAM WHERE APPLICATION_TYPE = 'MG') AND PRE_STAGE  = 'Receipt of executed security documents from Solicitor / Receipt of original valuation report or certificate of value from Valuer / Receipt of letter of acceptance or policy from Insurer' AND POST_STAGE = 'Solicitor advise for drawdown received - for cases that required State''s consent')
WHERE TAT_PARAM_ITEM_ID = (SELECT TAT_PARAM_ITEM_ID FROM CMS_TAT_PARAM_ITEM WHERE TAT_PARAM_ID = (SELECT TAT_PARAM_ID FROM CMS_TAT_PARAM WHERE APPLICATION_TYPE = 'MG') AND PRE_STAGE  = 'Receipt of executed security documents from Solicitor / Receipt of original valuation report or certificate of value from Valuer / Receipt of letter of acceptance or policy from Insurer' AND POST_STAGE = 'Solicitor advise for drawdown received - for cases that required State''s consent');

UPDATE CMS_STAGE_TAT_PARAM_ITEM SET CMS_REF_ID = (SELECT TAT_PARAM_ITEM_ID FROM CMS_STAGE_TAT_PARAM_ITEM WHERE TAT_PARAM_ID = (SELECT TAT_PARAM_ID FROM CMS_STAGE_TAT_PARAM WHERE APPLICATION_TYPE = 'MG') AND PRE_STAGE  = 'Receipt of executed security documents from Solicitor / Receipt of original valuation report or certificate of value from Valuer / Receipt of letter of acceptance or policy from Insurer' AND POST_STAGE = 'Solicitor advise for drawdown received - for cases that required State''s consent')
WHERE TAT_PARAM_ITEM_ID = (SELECT TAT_PARAM_ITEM_ID FROM CMS_STAGE_TAT_PARAM_ITEM WHERE TAT_PARAM_ID = (SELECT TAT_PARAM_ID FROM CMS_STAGE_TAT_PARAM WHERE APPLICATION_TYPE = 'MG') AND PRE_STAGE  = 'Receipt of executed security documents from Solicitor / Receipt of original valuation report or certificate of value from Valuer / Receipt of letter of acceptance or policy from Insurer' AND POST_STAGE = 'Solicitor advise for drawdown received - for cases that required State''s consent');

	
	
INSERT INTO CMS_TAT_PARAM_ITEM 
(TAT_PARAM_ITEM_ID, TAT_PARAM_ID, STAGE_TYPE, STAGE_CODE, PRE_STAGE, POST_STAGE, DURATION, DURATION_TYPE, SEQUENCE_ORDER, CMS_REF_ID, VERSION_TIME, STATUS)
(SELECT CAST((TS_FMT(CURRENT_TIMESTAMP, 'yyyymmdd') || SUBSTR(DIGITS(NEXT VALUE FOR CMS_TAT_PARAM_ITEM_SEQ), 2)) as BIGINT), 
(SELECT TAT_PARAM_ID FROM CMS_TAT_PARAM WHERE APPLICATION_TYPE = 'MG'), '2', '1', 'Solicitor''s Letter of Advise for drawdown', 'Disbursement of loan (1st release)', 4, '1', 6, 0, 0, 'ACTIVE' from dual);

INSERT INTO CMS_STAGE_TAT_PARAM_ITEM 
(TAT_PARAM_ITEM_ID, TAT_PARAM_ID, STAGE_TYPE, STAGE_CODE, PRE_STAGE, POST_STAGE, DURATION, DURATION_TYPE, SEQUENCE_ORDER, CMS_REF_ID, VERSION_TIME, STATUS)
(SELECT CAST((TS_FMT(CURRENT_TIMESTAMP, 'yyyymmdd') || SUBSTR(DIGITS(NEXT VALUE FOR CMS_STAGE_TAT_PARAM_ITEM_SEQ), 2)) as BIGINT), 
(SELECT TAT_PARAM_ID FROM CMS_STAGE_TAT_PARAM WHERE APPLICATION_TYPE = 'MG'), '2', '1', 'Solicitor''s Letter of Advise for drawdown', 'Disbursement of loan (1st release)', 4, '1', 6, 0, 0, 'ACTIVE' from dual);

UPDATE CMS_TAT_PARAM_ITEM SET CMS_REF_ID = (SELECT TAT_PARAM_ITEM_ID FROM CMS_STAGE_TAT_PARAM_ITEM WHERE TAT_PARAM_ID = (SELECT TAT_PARAM_ID FROM CMS_STAGE_TAT_PARAM WHERE APPLICATION_TYPE = 'MG') AND PRE_STAGE  = 'Solicitor''s Letter of Advise for drawdown' AND POST_STAGE = 'Disbursement of loan (1st release)')
WHERE TAT_PARAM_ITEM_ID = (SELECT TAT_PARAM_ITEM_ID FROM CMS_TAT_PARAM_ITEM WHERE TAT_PARAM_ID = (SELECT TAT_PARAM_ID FROM CMS_TAT_PARAM WHERE APPLICATION_TYPE = 'MG') AND PRE_STAGE  = 'Solicitor''s Letter of Advise for drawdown' AND POST_STAGE = 'Disbursement of loan (1st release)');

UPDATE CMS_STAGE_TAT_PARAM_ITEM SET CMS_REF_ID = (SELECT TAT_PARAM_ITEM_ID FROM CMS_STAGE_TAT_PARAM_ITEM WHERE TAT_PARAM_ID = (SELECT TAT_PARAM_ID FROM CMS_STAGE_TAT_PARAM WHERE APPLICATION_TYPE = 'MG') AND PRE_STAGE  = 'Solicitor''s Letter of Advise for drawdown' AND POST_STAGE = 'Disbursement of loan (1st release)')
WHERE TAT_PARAM_ITEM_ID = (SELECT TAT_PARAM_ITEM_ID FROM CMS_STAGE_TAT_PARAM_ITEM WHERE TAT_PARAM_ID = (SELECT TAT_PARAM_ID FROM CMS_STAGE_TAT_PARAM WHERE APPLICATION_TYPE = 'MG') AND PRE_STAGE  = 'Solicitor''s Letter of Advise for drawdown' AND POST_STAGE = 'Disbursement of loan (1st release)');

	
	
INSERT INTO CMS_TAT_PARAM_ITEM 
(TAT_PARAM_ITEM_ID, TAT_PARAM_ID, STAGE_TYPE, STAGE_CODE, PRE_STAGE, POST_STAGE, DURATION, DURATION_TYPE, SEQUENCE_ORDER, CMS_REF_ID, VERSION_TIME, STATUS)
(SELECT CAST((TS_FMT(CURRENT_TIMESTAMP, 'yyyymmdd') || SUBSTR(DIGITS(NEXT VALUE FOR CMS_TAT_PARAM_ITEM_SEQ), 2)) as BIGINT), 
(SELECT TAT_PARAM_ID FROM CMS_TAT_PARAM WHERE APPLICATION_TYPE = 'MG'), '2', '1', 'Date receipt of billing by CAH from developer', 'Subsequent (progressive) disbursement to developer', 7, '1', 7, 0, 0, 'ACTIVE' from dual);

INSERT INTO CMS_STAGE_TAT_PARAM_ITEM 
(TAT_PARAM_ITEM_ID, TAT_PARAM_ID, STAGE_TYPE, STAGE_CODE, PRE_STAGE, POST_STAGE, DURATION, DURATION_TYPE, SEQUENCE_ORDER, CMS_REF_ID, VERSION_TIME, STATUS)
(SELECT CAST((TS_FMT(CURRENT_TIMESTAMP, 'yyyymmdd') || SUBSTR(DIGITS(NEXT VALUE FOR CMS_STAGE_TAT_PARAM_ITEM_SEQ), 2)) as BIGINT), 
(SELECT TAT_PARAM_ID FROM CMS_STAGE_TAT_PARAM WHERE APPLICATION_TYPE = 'MG'), '2', '1', 'Date receipt of billing by CAH from developer', 'Subsequent (progressive) disbursement to developer', 7, '1', 7, 0, 0, 'ACTIVE' from dual);

UPDATE CMS_TAT_PARAM_ITEM SET CMS_REF_ID = (SELECT TAT_PARAM_ITEM_ID FROM CMS_STAGE_TAT_PARAM_ITEM WHERE 
TAT_PARAM_ID = (SELECT TAT_PARAM_ID FROM CMS_STAGE_TAT_PARAM WHERE APPLICATION_TYPE = 'MG') AND 
PRE_STAGE  = 'Date receipt of billing by CAH from developer' AND POST_STAGE = 'Subsequent (progressive) disbursement to developer')
WHERE TAT_PARAM_ITEM_ID = (SELECT TAT_PARAM_ITEM_ID FROM CMS_TAT_PARAM_ITEM WHERE 
TAT_PARAM_ID = (SELECT TAT_PARAM_ID FROM CMS_TAT_PARAM WHERE APPLICATION_TYPE = 'MG') AND 
PRE_STAGE  = 'Date receipt of billing by CAH from developer' AND POST_STAGE = 'Subsequent (progressive) disbursement to developer');

UPDATE CMS_STAGE_TAT_PARAM_ITEM SET CMS_REF_ID = (SELECT TAT_PARAM_ITEM_ID FROM CMS_STAGE_TAT_PARAM_ITEM WHERE 
TAT_PARAM_ID = (SELECT TAT_PARAM_ID FROM CMS_STAGE_TAT_PARAM WHERE APPLICATION_TYPE = 'MG') AND 
PRE_STAGE  = 'Date receipt of billing by CAH from developer' AND POST_STAGE = 'Subsequent (progressive) disbursement to developer')
WHERE TAT_PARAM_ITEM_ID = (SELECT TAT_PARAM_ITEM_ID FROM CMS_STAGE_TAT_PARAM_ITEM WHERE 
TAT_PARAM_ID = (SELECT TAT_PARAM_ID FROM CMS_STAGE_TAT_PARAM WHERE APPLICATION_TYPE = 'MG') AND 
PRE_STAGE  = 'Date receipt of billing by CAH from developer' AND POST_STAGE = 'Subsequent (progressive) disbursement to developer');
	
	
INSERT INTO CMS_TAT_PARAM_ITEM 
(TAT_PARAM_ITEM_ID, TAT_PARAM_ID, STAGE_TYPE, STAGE_CODE, PRE_STAGE, POST_STAGE, DURATION, DURATION_TYPE, SEQUENCE_ORDER, CMS_REF_ID, VERSION_TIME, STATUS)
(SELECT CAST((TS_FMT(CURRENT_TIMESTAMP, 'yyyymmdd') || SUBSTR(DIGITS(NEXT VALUE FOR CMS_TAT_PARAM_ITEM_SEQ), 2)) as BIGINT), 
(SELECT TAT_PARAM_ID FROM CMS_TAT_PARAM WHERE APPLICATION_TYPE = 'MG'), '2', '1', 'Date receipt of solicitor''s Letter of Advise for subsequent drawdown', 'Subsequent disbursement on the balance of loan sum', 2, '1', 8, 0, 0, 'ACTIVE' from dual);

INSERT INTO CMS_STAGE_TAT_PARAM_ITEM 
(TAT_PARAM_ITEM_ID, TAT_PARAM_ID, STAGE_TYPE, STAGE_CODE, PRE_STAGE, POST_STAGE, DURATION, DURATION_TYPE, SEQUENCE_ORDER, CMS_REF_ID, VERSION_TIME, STATUS)
(SELECT CAST((TS_FMT(CURRENT_TIMESTAMP, 'yyyymmdd') || SUBSTR(DIGITS(NEXT VALUE FOR CMS_STAGE_TAT_PARAM_ITEM_SEQ), 2)) as BIGINT), 
(SELECT TAT_PARAM_ID FROM CMS_STAGE_TAT_PARAM WHERE APPLICATION_TYPE = 'MG'), '2', '1', 'Date receipt of solicitor''s Letter of Advise for subsequent drawdown', 'Subsequent disbursement on the balance of loan sum', 2, '1', 8, 0, 0, 'ACTIVE' from dual);

UPDATE CMS_TAT_PARAM_ITEM SET CMS_REF_ID = (SELECT TAT_PARAM_ITEM_ID FROM CMS_STAGE_TAT_PARAM_ITEM WHERE 
TAT_PARAM_ID = (SELECT TAT_PARAM_ID FROM CMS_STAGE_TAT_PARAM WHERE APPLICATION_TYPE = 'MG') AND 
PRE_STAGE  = 'Date receipt of solicitor''s Letter of Advise for subsequent drawdown' AND POST_STAGE = 'Subsequent disbursement on the balance of loan sum')
WHERE TAT_PARAM_ITEM_ID = (SELECT TAT_PARAM_ITEM_ID FROM CMS_TAT_PARAM_ITEM WHERE 
TAT_PARAM_ID = (SELECT TAT_PARAM_ID FROM CMS_TAT_PARAM WHERE APPLICATION_TYPE = 'MG') AND 
PRE_STAGE  = 'Date receipt of solicitor''s Letter of Advise for subsequent drawdown' AND POST_STAGE = 'Subsequent disbursement on the balance of loan sum');

UPDATE CMS_STAGE_TAT_PARAM_ITEM SET CMS_REF_ID = (SELECT TAT_PARAM_ITEM_ID FROM CMS_STAGE_TAT_PARAM_ITEM WHERE 
TAT_PARAM_ID = (SELECT TAT_PARAM_ID FROM CMS_STAGE_TAT_PARAM WHERE APPLICATION_TYPE = 'MG') AND 
PRE_STAGE  = 'Date receipt of solicitor''s Letter of Advise for subsequent drawdown' AND POST_STAGE = 'Subsequent disbursement on the balance of loan sum')
WHERE TAT_PARAM_ITEM_ID = (SELECT TAT_PARAM_ITEM_ID FROM CMS_STAGE_TAT_PARAM_ITEM WHERE 
TAT_PARAM_ID = (SELECT TAT_PARAM_ID FROM CMS_STAGE_TAT_PARAM WHERE APPLICATION_TYPE = 'MG') AND 
PRE_STAGE  = 'Date receipt of solicitor''s Letter of Advise for subsequent drawdown' AND POST_STAGE = 'Subsequent disbursement on the balance of loan sum');

	

--------------------  Personal Loan  ---------------------


INSERT INTO CMS_TAT_PARAM_ITEM 
(TAT_PARAM_ITEM_ID, TAT_PARAM_ID, STAGE_TYPE, STAGE_CODE, PRE_STAGE, POST_STAGE, DURATION, DURATION_TYPE, SEQUENCE_ORDER, CMS_REF_ID, VERSION_TIME, STATUS)
(SELECT CAST((TS_FMT(CURRENT_TIMESTAMP, 'yyyymmdd') || SUBSTR(DIGITS(NEXT VALUE FOR CMS_TAT_PARAM_ITEM_SEQ), 2)) as BIGINT), 
(SELECT TAT_PARAM_ID FROM CMS_TAT_PARAM WHERE APPLICATION_TYPE = 'PL'), '1', '1', 'Receipt of notification of loan from CCPL (Credit Card & Personal Loan)', 'Disbursement of Loan', 1, '1', 1, 0, 0, 'ACTIVE' from dual);

INSERT INTO CMS_STAGE_TAT_PARAM_ITEM 
(TAT_PARAM_ITEM_ID, TAT_PARAM_ID, STAGE_TYPE, STAGE_CODE, PRE_STAGE, POST_STAGE, DURATION, DURATION_TYPE, SEQUENCE_ORDER, CMS_REF_ID, VERSION_TIME, STATUS)
(SELECT CAST((TS_FMT(CURRENT_TIMESTAMP, 'yyyymmdd') || SUBSTR(DIGITS(NEXT VALUE FOR CMS_STAGE_TAT_PARAM_ITEM_SEQ), 2)) as BIGINT), 
(SELECT TAT_PARAM_ID FROM CMS_STAGE_TAT_PARAM WHERE APPLICATION_TYPE = 'PL'), '1', '1', 'Receipt of notification of loan from CCPL (Credit Card & Personal Loan)', 'Disbursement of Loan', 1, '1', 1, 0, 0, 'ACTIVE' from dual);

UPDATE CMS_TAT_PARAM_ITEM SET CMS_REF_ID = (SELECT TAT_PARAM_ITEM_ID FROM CMS_STAGE_TAT_PARAM_ITEM WHERE 
TAT_PARAM_ID = (SELECT TAT_PARAM_ID FROM CMS_STAGE_TAT_PARAM WHERE APPLICATION_TYPE = 'PL') AND 
PRE_STAGE  = 'Receipt of notification of loan from CCPL (Credit Card & Personal Loan)' AND POST_STAGE = 'Disbursement of Loan')
WHERE TAT_PARAM_ITEM_ID = (SELECT TAT_PARAM_ITEM_ID FROM CMS_TAT_PARAM_ITEM WHERE 
TAT_PARAM_ID = (SELECT TAT_PARAM_ID FROM CMS_TAT_PARAM WHERE APPLICATION_TYPE = 'PL') AND 
PRE_STAGE  = 'Receipt of notification of loan from CCPL (Credit Card & Personal Loan)' AND POST_STAGE = 'Disbursement of Loan');

UPDATE CMS_STAGE_TAT_PARAM_ITEM SET CMS_REF_ID = (SELECT TAT_PARAM_ITEM_ID FROM CMS_STAGE_TAT_PARAM_ITEM WHERE 
TAT_PARAM_ID = (SELECT TAT_PARAM_ID FROM CMS_STAGE_TAT_PARAM WHERE APPLICATION_TYPE = 'PL') AND 
PRE_STAGE  = 'Receipt of notification of loan from CCPL (Credit Card & Personal Loan)' AND POST_STAGE = 'Disbursement of Loan')
WHERE TAT_PARAM_ITEM_ID = (SELECT TAT_PARAM_ITEM_ID FROM CMS_STAGE_TAT_PARAM_ITEM WHERE 
TAT_PARAM_ID = (SELECT TAT_PARAM_ID FROM CMS_STAGE_TAT_PARAM WHERE APPLICATION_TYPE = 'PL') AND 
PRE_STAGE  = 'Receipt of notification of loan from CCPL (Credit Card & Personal Loan)' AND POST_STAGE = 'Disbursement of Loan');


UPDATE CMS_TAT_PARAM_ITEM SET DURATION_TYPE = 'D';
UPDATE CMS_STAGE_TAT_PARAM_ITEM SET DURATION_TYPE = 'D';



--------------------  Consumer HP  ---------------------


INSERT INTO CMS_TAT_PARAM_ITEM 
(TAT_PARAM_ITEM_ID, TAT_PARAM_ID, STAGE_TYPE, STAGE_CODE, PRE_STAGE, POST_STAGE, DURATION, DURATION_TYPE, SEQUENCE_ORDER, CMS_REF_ID, VERSION_TIME, STATUS)
(SELECT CAST((TS_FMT(CURRENT_TIMESTAMP, 'yyyymmdd') || SUBSTR(DIGITS(NEXT VALUE FOR CMS_TAT_PARAM_ITEM_SEQ), 2)) as BIGINT), 
(SELECT TAT_PARAM_ID FROM CMS_TAT_PARAM WHERE APPLICATION_TYPE = 'HP'), '1', '1', '<b><u>Used Car - With and Without FBT:</u></b><br/>Receive invoice, registration card, Puspakom inspection B5 report, executed HP agreement & relevant documents', 
'<b><u>Used Car - With and Without FBT:</u></b><br/>Verify invoice, registration card, B5 Report and JPJ documents', 1, 'H', 1, 0, 0, 'ACTIVE' from dual);

INSERT INTO CMS_STAGE_TAT_PARAM_ITEM 
(TAT_PARAM_ITEM_ID, TAT_PARAM_ID, STAGE_TYPE, STAGE_CODE, PRE_STAGE, POST_STAGE, DURATION, DURATION_TYPE, SEQUENCE_ORDER, CMS_REF_ID, VERSION_TIME, STATUS)
(SELECT CAST((TS_FMT(CURRENT_TIMESTAMP, 'yyyymmdd') || SUBSTR(DIGITS(NEXT VALUE FOR CMS_STAGE_TAT_PARAM_ITEM_SEQ), 2)) as BIGINT), 
(SELECT TAT_PARAM_ID FROM CMS_STAGE_TAT_PARAM WHERE APPLICATION_TYPE = 'HP'), '1', '1', '<b><u>Used Car - With and Without FBT:</u></b><br/>Receive invoice, registration card, Puspakom inspection B5 report, executed HP agreement & relevant documents', 
'<b><u>Used Car - With and Without FBT:</u></b><br/>Verify invoice, registration card, B5 Report and JPJ documents', 1, 'H', 1, 0, 0, 'ACTIVE' from dual);

UPDATE CMS_TAT_PARAM_ITEM SET CMS_REF_ID = (SELECT TAT_PARAM_ITEM_ID FROM CMS_STAGE_TAT_PARAM_ITEM WHERE 
TAT_PARAM_ID = (SELECT TAT_PARAM_ID FROM CMS_STAGE_TAT_PARAM WHERE APPLICATION_TYPE = 'HP') AND
PRE_STAGE = '<b><u>Used Car - With and Without FBT:</u></b><br/>Receive invoice, registration card, Puspakom inspection B5 report, executed HP agreement & relevant documents' 
AND POST_STAGE = '<b><u>Used Car - With and Without FBT:</u></b><br/>Verify invoice, registration card, B5 Report and JPJ documents')
WHERE TAT_PARAM_ITEM_ID = (SELECT TAT_PARAM_ITEM_ID FROM CMS_TAT_PARAM_ITEM WHERE 
TAT_PARAM_ID = (SELECT TAT_PARAM_ID FROM CMS_TAT_PARAM WHERE APPLICATION_TYPE = 'HP') AND 
PRE_STAGE = '<b><u>Used Car - With and Without FBT:</u></b><br/>Receive invoice, registration card, Puspakom inspection B5 report, executed HP agreement & relevant documents' 
AND POST_STAGE = '<b><u>Used Car - With and Without FBT:</u></b><br/>Verify invoice, registration card, B5 Report and JPJ documents');

UPDATE CMS_STAGE_TAT_PARAM_ITEM SET CMS_REF_ID = (SELECT TAT_PARAM_ITEM_ID FROM CMS_STAGE_TAT_PARAM_ITEM WHERE 
TAT_PARAM_ID = (SELECT TAT_PARAM_ID FROM CMS_STAGE_TAT_PARAM WHERE APPLICATION_TYPE = 'HP') AND 
PRE_STAGE = '<b><u>Used Car - With and Without FBT:</u></b><br/>Receive invoice, registration card, Puspakom inspection B5 report, executed HP agreement & relevant documents' 
AND POST_STAGE = '<b><u>Used Car - With and Without FBT:</u></b><br/>Verify invoice, registration card, B5 Report and JPJ documents')
WHERE TAT_PARAM_ITEM_ID = (SELECT TAT_PARAM_ITEM_ID FROM CMS_STAGE_TAT_PARAM_ITEM WHERE 
TAT_PARAM_ID = (SELECT TAT_PARAM_ID FROM CMS_STAGE_TAT_PARAM WHERE APPLICATION_TYPE = 'HP') AND 
PRE_STAGE = '<b><u>Used Car - With and Without FBT:</u></b><br/>Receive invoice, registration card, Puspakom inspection B5 report, executed HP agreement & relevant documents' 
AND POST_STAGE = '<b><u>Used Car - With and Without FBT:</u></b><br/>Verify invoice, registration card, B5 Report and JPJ documents');



INSERT INTO CMS_TAT_PARAM_ITEM 
(TAT_PARAM_ITEM_ID, TAT_PARAM_ID, STAGE_TYPE, STAGE_CODE, PRE_STAGE, POST_STAGE, DURATION, DURATION_TYPE, SEQUENCE_ORDER, CMS_REF_ID, VERSION_TIME, STATUS)
(SELECT CAST((TS_FMT(CURRENT_TIMESTAMP, 'yyyymmdd') || SUBSTR(DIGITS(NEXT VALUE FOR CMS_TAT_PARAM_ITEM_SEQ), 2)) as BIGINT), 
(SELECT TAT_PARAM_ID FROM CMS_TAT_PARAM WHERE APPLICATION_TYPE = 'HP'), '1', '1', '<b><u>Used Car - With and Without FBT:</u></b><br/>Verify invoice, registration card, B5 Report and JPJ documents', 
'<b><u>Used Car - With and Without FBT:</u></b><br/>Update details in eHakmilik & print confirmation letter', 1, 'H', 2, 0, 0, 'ACTIVE' from dual);

INSERT INTO CMS_STAGE_TAT_PARAM_ITEM 
(TAT_PARAM_ITEM_ID, TAT_PARAM_ID, STAGE_TYPE, STAGE_CODE, PRE_STAGE, POST_STAGE, DURATION, DURATION_TYPE, SEQUENCE_ORDER, CMS_REF_ID, VERSION_TIME, STATUS)
(SELECT CAST((TS_FMT(CURRENT_TIMESTAMP, 'yyyymmdd') || SUBSTR(DIGITS(NEXT VALUE FOR CMS_STAGE_TAT_PARAM_ITEM_SEQ), 2)) as BIGINT), 
(SELECT TAT_PARAM_ID FROM CMS_STAGE_TAT_PARAM WHERE APPLICATION_TYPE = 'HP'), '1', '1', '<b><u>Used Car - With and Without FBT:</u></b><br/>Verify invoice, registration card, B5 Report and JPJ documents', 
'<b><u>Used Car - With and Without FBT:</u></b><br/>Update details in eHakmilik & print confirmation letter', 1, 'H', 2, 0, 0, 'ACTIVE' from dual);

UPDATE CMS_TAT_PARAM_ITEM SET CMS_REF_ID = (SELECT TAT_PARAM_ITEM_ID FROM CMS_STAGE_TAT_PARAM_ITEM WHERE 
TAT_PARAM_ID = (SELECT TAT_PARAM_ID FROM CMS_STAGE_TAT_PARAM WHERE APPLICATION_TYPE = 'HP') AND
PRE_STAGE = '<b><u>Used Car - With and Without FBT:</u></b><br/>Verify invoice, registration card, B5 Report and JPJ documents' 
AND POST_STAGE = '<b><u>Used Car - With and Without FBT:</u></b><br/>Update details in eHakmilik & print confirmation letter')
WHERE TAT_PARAM_ITEM_ID = (SELECT TAT_PARAM_ITEM_ID FROM CMS_TAT_PARAM_ITEM WHERE 
TAT_PARAM_ID = (SELECT TAT_PARAM_ID FROM CMS_TAT_PARAM WHERE APPLICATION_TYPE = 'HP') AND 
PRE_STAGE = '<b><u>Used Car - With and Without FBT:</u></b><br/>Verify invoice, registration card, B5 Report and JPJ documents' 
AND POST_STAGE = '<b><u>Used Car - With and Without FBT:</u></b><br/>Update details in eHakmilik & print confirmation letter');

UPDATE CMS_STAGE_TAT_PARAM_ITEM SET CMS_REF_ID = (SELECT TAT_PARAM_ITEM_ID FROM CMS_STAGE_TAT_PARAM_ITEM WHERE 
TAT_PARAM_ID = (SELECT TAT_PARAM_ID FROM CMS_STAGE_TAT_PARAM WHERE APPLICATION_TYPE = 'HP') AND 
PRE_STAGE = '<b><u>Used Car - With and Without FBT:</u></b><br/>Verify invoice, registration card, B5 Report and JPJ documents' 
AND POST_STAGE = '<b><u>Used Car - With and Without FBT:</u></b><br/>Update details in eHakmilik & print confirmation letter')
WHERE TAT_PARAM_ITEM_ID = (SELECT TAT_PARAM_ITEM_ID FROM CMS_STAGE_TAT_PARAM_ITEM WHERE 
TAT_PARAM_ID = (SELECT TAT_PARAM_ID FROM CMS_STAGE_TAT_PARAM WHERE APPLICATION_TYPE = 'HP') AND 
PRE_STAGE = '<b><u>Used Car - With and Without FBT:</u></b><br/>Verify invoice, registration card, B5 Report and JPJ documents' 
AND POST_STAGE = '<b><u>Used Car - With and Without FBT:</u></b><br/>Update details in eHakmilik & print confirmation letter');



INSERT INTO CMS_TAT_PARAM_ITEM 
(TAT_PARAM_ITEM_ID, TAT_PARAM_ID, STAGE_TYPE, STAGE_CODE, PRE_STAGE, POST_STAGE, DURATION, DURATION_TYPE, SEQUENCE_ORDER, CMS_REF_ID, VERSION_TIME, STATUS)
(SELECT CAST((TS_FMT(CURRENT_TIMESTAMP, 'yyyymmdd') || SUBSTR(DIGITS(NEXT VALUE FOR CMS_TAT_PARAM_ITEM_SEQ), 2)) as BIGINT), 
(SELECT TAT_PARAM_ID FROM CMS_TAT_PARAM WHERE APPLICATION_TYPE = 'HP'), '1', '1', '<b><u>Used Car - With and Without FBT:</u></b><br/>Update details in eHakmilik & print confirmation letter', 
'<b><u>Used Car - With and Without FBT:</u></b><br/>Submit registration card & transfer documents to runner', 1, 'H', 3, 0, 0, 'ACTIVE' from dual);

INSERT INTO CMS_STAGE_TAT_PARAM_ITEM 
(TAT_PARAM_ITEM_ID, TAT_PARAM_ID, STAGE_TYPE, STAGE_CODE, PRE_STAGE, POST_STAGE, DURATION, DURATION_TYPE, SEQUENCE_ORDER, CMS_REF_ID, VERSION_TIME, STATUS)
(SELECT CAST((TS_FMT(CURRENT_TIMESTAMP, 'yyyymmdd') || SUBSTR(DIGITS(NEXT VALUE FOR CMS_STAGE_TAT_PARAM_ITEM_SEQ), 2)) as BIGINT), 
(SELECT TAT_PARAM_ID FROM CMS_STAGE_TAT_PARAM WHERE APPLICATION_TYPE = 'HP'), '1', '1', '<b><u>Used Car - With and Without FBT:</u></b><br/>Update details in eHakmilik & print confirmation letter', 
'<b><u>Used Car - With and Without FBT:</u></b><br/>Submit registration card & transfer documents to runner', 1, 'H', 3, 0, 0, 'ACTIVE' from dual);

UPDATE CMS_TAT_PARAM_ITEM SET CMS_REF_ID = (SELECT TAT_PARAM_ITEM_ID FROM CMS_STAGE_TAT_PARAM_ITEM WHERE 
TAT_PARAM_ID = (SELECT TAT_PARAM_ID FROM CMS_STAGE_TAT_PARAM WHERE APPLICATION_TYPE = 'HP') AND
PRE_STAGE = '<b><u>Used Car - With and Without FBT:</u></b><br/>Update details in eHakmilik & print confirmation letter' 
AND POST_STAGE = '<b><u>Used Car - With and Without FBT:</u></b><br/>Submit registration card & transfer documents to runner')
WHERE TAT_PARAM_ITEM_ID = (SELECT TAT_PARAM_ITEM_ID FROM CMS_TAT_PARAM_ITEM WHERE 
TAT_PARAM_ID = (SELECT TAT_PARAM_ID FROM CMS_TAT_PARAM WHERE APPLICATION_TYPE = 'HP') AND 
PRE_STAGE = '<b><u>Used Car - With and Without FBT:</u></b><br/>Update details in eHakmilik & print confirmation letter' 
AND POST_STAGE = '<b><u>Used Car - With and Without FBT:</u></b><br/>Submit registration card & transfer documents to runner');

UPDATE CMS_STAGE_TAT_PARAM_ITEM SET CMS_REF_ID = (SELECT TAT_PARAM_ITEM_ID FROM CMS_STAGE_TAT_PARAM_ITEM WHERE 
TAT_PARAM_ID = (SELECT TAT_PARAM_ID FROM CMS_STAGE_TAT_PARAM WHERE APPLICATION_TYPE = 'HP') AND 
PRE_STAGE = '<b><u>Used Car - With and Without FBT:</u></b><br/>Update details in eHakmilik & print confirmation letter' 
AND POST_STAGE = '<b><u>Used Car - With and Without FBT:</u></b><br/>Submit registration card & transfer documents to runner')
WHERE TAT_PARAM_ITEM_ID = (SELECT TAT_PARAM_ITEM_ID FROM CMS_STAGE_TAT_PARAM_ITEM WHERE 
TAT_PARAM_ID = (SELECT TAT_PARAM_ID FROM CMS_STAGE_TAT_PARAM WHERE APPLICATION_TYPE = 'HP') AND 
PRE_STAGE = '<b><u>Used Car - With and Without FBT:</u></b><br/>Update details in eHakmilik & print confirmation letter' 
AND POST_STAGE = '<b><u>Used Car - With and Without FBT:</u></b><br/>Submit registration card & transfer documents to runner');



INSERT INTO CMS_TAT_PARAM_ITEM 
(TAT_PARAM_ITEM_ID, TAT_PARAM_ID, STAGE_TYPE, STAGE_CODE, PRE_STAGE, POST_STAGE, DURATION, DURATION_TYPE, SEQUENCE_ORDER, CMS_REF_ID, VERSION_TIME, STATUS)
(SELECT CAST((TS_FMT(CURRENT_TIMESTAMP, 'yyyymmdd') || SUBSTR(DIGITS(NEXT VALUE FOR CMS_TAT_PARAM_ITEM_SEQ), 2)) as BIGINT), 
(SELECT TAT_PARAM_ID FROM CMS_TAT_PARAM WHERE APPLICATION_TYPE = 'HP'), '1', '1', '<b><u>Used Car - Without FBT:</u></b><br/>Submit registration card & transfer documents to runner', 
'<b><u>Used Car - Without FBT:</u></b><br/>Receive registration card (duly transferred) from runner', 2, 'D', 4, 0, 0, 'ACTIVE' from dual);

INSERT INTO CMS_STAGE_TAT_PARAM_ITEM 
(TAT_PARAM_ITEM_ID, TAT_PARAM_ID, STAGE_TYPE, STAGE_CODE, PRE_STAGE, POST_STAGE, DURATION, DURATION_TYPE, SEQUENCE_ORDER, CMS_REF_ID, VERSION_TIME, STATUS)
(SELECT CAST((TS_FMT(CURRENT_TIMESTAMP, 'yyyymmdd') || SUBSTR(DIGITS(NEXT VALUE FOR CMS_STAGE_TAT_PARAM_ITEM_SEQ), 2)) as BIGINT), 
(SELECT TAT_PARAM_ID FROM CMS_STAGE_TAT_PARAM WHERE APPLICATION_TYPE = 'HP'), '1', '1', '<b><u>Used Car - Without FBT:</u></b><br/>Submit registration card & transfer documents to runner', 
'<b><u>Used Car - Without FBT:</u></b><br/>Receive registration card (duly transferred) from runner', 2, 'D', 4, 0, 0, 'ACTIVE' from dual);

UPDATE CMS_TAT_PARAM_ITEM SET CMS_REF_ID = (SELECT TAT_PARAM_ITEM_ID FROM CMS_STAGE_TAT_PARAM_ITEM WHERE 
TAT_PARAM_ID = (SELECT TAT_PARAM_ID FROM CMS_STAGE_TAT_PARAM WHERE APPLICATION_TYPE = 'HP') AND
PRE_STAGE = '<b><u>Used Car - Without FBT:</u></b><br/>Submit registration card & transfer documents to runner' 
AND POST_STAGE = '<b><u>Used Car - Without FBT:</u></b><br/>Receive registration card (duly transferred) from runner')
WHERE TAT_PARAM_ITEM_ID = (SELECT TAT_PARAM_ITEM_ID FROM CMS_TAT_PARAM_ITEM WHERE 
TAT_PARAM_ID = (SELECT TAT_PARAM_ID FROM CMS_TAT_PARAM WHERE APPLICATION_TYPE = 'HP') AND 
PRE_STAGE = '<b><u>Used Car - Without FBT:</u></b><br/>Submit registration card & transfer documents to runner' 
AND POST_STAGE = '<b><u>Used Car - Without FBT:</u></b><br/>Receive registration card (duly transferred) from runner');

UPDATE CMS_STAGE_TAT_PARAM_ITEM SET CMS_REF_ID = (SELECT TAT_PARAM_ITEM_ID FROM CMS_STAGE_TAT_PARAM_ITEM WHERE 
TAT_PARAM_ID = (SELECT TAT_PARAM_ID FROM CMS_STAGE_TAT_PARAM WHERE APPLICATION_TYPE = 'HP') AND 
PRE_STAGE = '<b><u>Used Car - Without FBT:</u></b><br/>Submit registration card & transfer documents to runner' 
AND POST_STAGE = '<b><u>Used Car - Without FBT:</u></b><br/>Receive registration card (duly transferred) from runner')
WHERE TAT_PARAM_ITEM_ID = (SELECT TAT_PARAM_ITEM_ID FROM CMS_STAGE_TAT_PARAM_ITEM WHERE 
TAT_PARAM_ID = (SELECT TAT_PARAM_ID FROM CMS_STAGE_TAT_PARAM WHERE APPLICATION_TYPE = 'HP') AND 
PRE_STAGE = '<b><u>Used Car - Without FBT:</u></b><br/>Submit registration card & transfer documents to runner' 
AND POST_STAGE = '<b><u>Used Car - Without FBT:</u></b><br/>Receive registration card (duly transferred) from runner');



INSERT INTO CMS_TAT_PARAM_ITEM 
(TAT_PARAM_ITEM_ID, TAT_PARAM_ID, STAGE_TYPE, STAGE_CODE, PRE_STAGE, POST_STAGE, DURATION, DURATION_TYPE, SEQUENCE_ORDER, CMS_REF_ID, VERSION_TIME, STATUS)
(SELECT CAST((TS_FMT(CURRENT_TIMESTAMP, 'yyyymmdd') || SUBSTR(DIGITS(NEXT VALUE FOR CMS_TAT_PARAM_ITEM_SEQ), 2)) as BIGINT), 
(SELECT TAT_PARAM_ID FROM CMS_TAT_PARAM WHERE APPLICATION_TYPE = 'HP'), '1', '1', '<b><u>New Car - With and Without FBR:</u></b><br/>Dealer fax in applicant & vehicle details for eHakmilik input', 
'<b><u>New Car - With and Without FBR:</u></b><br/>Input in eHakmilik. Print confirmation letter & fax to dealer.', 1.5, 'H', 5, 0, 0, 'ACTIVE' from dual);

INSERT INTO CMS_STAGE_TAT_PARAM_ITEM 
(TAT_PARAM_ITEM_ID, TAT_PARAM_ID, STAGE_TYPE, STAGE_CODE, PRE_STAGE, POST_STAGE, DURATION, DURATION_TYPE, SEQUENCE_ORDER, CMS_REF_ID, VERSION_TIME, STATUS)
(SELECT CAST((TS_FMT(CURRENT_TIMESTAMP, 'yyyymmdd') || SUBSTR(DIGITS(NEXT VALUE FOR CMS_STAGE_TAT_PARAM_ITEM_SEQ), 2)) as BIGINT), 
(SELECT TAT_PARAM_ID FROM CMS_STAGE_TAT_PARAM WHERE APPLICATION_TYPE = 'HP'), '1', '1', '<b><u>New Car - With and Without FBR:</u></b><br/>Dealer fax in applicant & vehicle details for eHakmilik input', 
'<b><u>New Car - With and Without FBR:</u></b><br/>Input in eHakmilik. Print confirmation letter & fax to dealer.', 1.5, 'H', 5, 0, 0, 'ACTIVE' from dual);

UPDATE CMS_TAT_PARAM_ITEM SET CMS_REF_ID = (SELECT TAT_PARAM_ITEM_ID FROM CMS_STAGE_TAT_PARAM_ITEM WHERE 
TAT_PARAM_ID = (SELECT TAT_PARAM_ID FROM CMS_STAGE_TAT_PARAM WHERE APPLICATION_TYPE = 'HP') AND
PRE_STAGE = '<b><u>New Car - With and Without FBR:</u></b><br/>Dealer fax in applicant & vehicle details for eHakmilik input' 
AND POST_STAGE = '<b><u>New Car - With and Without FBR:</u></b><br/>Input in eHakmilik. Print confirmation letter & fax to dealer.')
WHERE TAT_PARAM_ITEM_ID = (SELECT TAT_PARAM_ITEM_ID FROM CMS_TAT_PARAM_ITEM WHERE 
TAT_PARAM_ID = (SELECT TAT_PARAM_ID FROM CMS_TAT_PARAM WHERE APPLICATION_TYPE = 'HP') AND 
PRE_STAGE = '<b><u>New Car - With and Without FBR:</u></b><br/>Dealer fax in applicant & vehicle details for eHakmilik input' 
AND POST_STAGE = '<b><u>New Car - With and Without FBR:</u></b><br/>Input in eHakmilik. Print confirmation letter & fax to dealer.');

UPDATE CMS_STAGE_TAT_PARAM_ITEM SET CMS_REF_ID = (SELECT TAT_PARAM_ITEM_ID FROM CMS_STAGE_TAT_PARAM_ITEM WHERE 
TAT_PARAM_ID = (SELECT TAT_PARAM_ID FROM CMS_STAGE_TAT_PARAM WHERE APPLICATION_TYPE = 'HP') AND 
PRE_STAGE = '<b><u>New Car - With and Without FBR:</u></b><br/>Dealer fax in applicant & vehicle details for eHakmilik input' 
AND POST_STAGE = '<b><u>New Car - With and Without FBR:</u></b><br/>Input in eHakmilik. Print confirmation letter & fax to dealer.')
WHERE TAT_PARAM_ITEM_ID = (SELECT TAT_PARAM_ITEM_ID FROM CMS_STAGE_TAT_PARAM_ITEM WHERE 
TAT_PARAM_ID = (SELECT TAT_PARAM_ID FROM CMS_STAGE_TAT_PARAM WHERE APPLICATION_TYPE = 'HP') AND 
PRE_STAGE = '<b><u>New Car - With and Without FBR:</u></b><br/>Dealer fax in applicant & vehicle details for eHakmilik input' 
AND POST_STAGE = '<b><u>New Car - With and Without FBR:</u></b><br/>Input in eHakmilik. Print confirmation letter & fax to dealer.');



INSERT INTO CMS_TAT_PARAM_ITEM 
(TAT_PARAM_ITEM_ID, TAT_PARAM_ID, STAGE_TYPE, STAGE_CODE, PRE_STAGE, POST_STAGE, DURATION, DURATION_TYPE, SEQUENCE_ORDER, CMS_REF_ID, VERSION_TIME, STATUS)
(SELECT CAST((TS_FMT(CURRENT_TIMESTAMP, 'yyyymmdd') || SUBSTR(DIGITS(NEXT VALUE FOR CMS_TAT_PARAM_ITEM_SEQ), 2)) as BIGINT), 
(SELECT TAT_PARAM_ID FROM CMS_TAT_PARAM WHERE APPLICATION_TYPE = 'HP'), '1', '1', '<b><u>New Car - With and Without FBR:</u></b><br/>Input in eHakmilik. Print confirmation letter & fax to dealer.', 
'<b><u>New Car - With and Without FBR:</u></b><br/>Dealer submits documents to JPJ for vehicle registration', 1.5, 'H', 6, 0, 0, 'ACTIVE' from dual);

INSERT INTO CMS_STAGE_TAT_PARAM_ITEM 
(TAT_PARAM_ITEM_ID, TAT_PARAM_ID, STAGE_TYPE, STAGE_CODE, PRE_STAGE, POST_STAGE, DURATION, DURATION_TYPE, SEQUENCE_ORDER, CMS_REF_ID, VERSION_TIME, STATUS)
(SELECT CAST((TS_FMT(CURRENT_TIMESTAMP, 'yyyymmdd') || SUBSTR(DIGITS(NEXT VALUE FOR CMS_STAGE_TAT_PARAM_ITEM_SEQ), 2)) as BIGINT), 
(SELECT TAT_PARAM_ID FROM CMS_STAGE_TAT_PARAM WHERE APPLICATION_TYPE = 'HP'), '1', '1', '<b><u>New Car - With and Without FBR:</u></b><br/>Input in eHakmilik. Print confirmation letter & fax to dealer.', 
'<b><u>New Car - With and Without FBR:</u></b><br/>Dealer submits documents to JPJ for vehicle registration', 1.5, 'H', 6, 0, 0, 'ACTIVE' from dual);

UPDATE CMS_TAT_PARAM_ITEM SET CMS_REF_ID = (SELECT TAT_PARAM_ITEM_ID FROM CMS_STAGE_TAT_PARAM_ITEM WHERE 
TAT_PARAM_ID = (SELECT TAT_PARAM_ID FROM CMS_STAGE_TAT_PARAM WHERE APPLICATION_TYPE = 'HP') AND
PRE_STAGE = '<b><u>New Car - With and Without FBR:</u></b><br/>Input in eHakmilik. Print confirmation letter & fax to dealer.' 
AND POST_STAGE = '<b><u>New Car - With and Without FBR:</u></b><br/>Dealer submits documents to JPJ for vehicle registration')
WHERE TAT_PARAM_ITEM_ID = (SELECT TAT_PARAM_ITEM_ID FROM CMS_TAT_PARAM_ITEM WHERE 
TAT_PARAM_ID = (SELECT TAT_PARAM_ID FROM CMS_TAT_PARAM WHERE APPLICATION_TYPE = 'HP') AND 
PRE_STAGE = '<b><u>New Car - With and Without FBR:</u></b><br/>Input in eHakmilik. Print confirmation letter & fax to dealer.' 
AND POST_STAGE = '<b><u>New Car - With and Without FBR:</u></b><br/>Dealer submits documents to JPJ for vehicle registration');

UPDATE CMS_STAGE_TAT_PARAM_ITEM SET CMS_REF_ID = (SELECT TAT_PARAM_ITEM_ID FROM CMS_STAGE_TAT_PARAM_ITEM WHERE 
TAT_PARAM_ID = (SELECT TAT_PARAM_ID FROM CMS_STAGE_TAT_PARAM WHERE APPLICATION_TYPE = 'HP') AND 
PRE_STAGE = '<b><u>New Car - With and Without FBR:</u></b><br/>Input in eHakmilik. Print confirmation letter & fax to dealer.' 
AND POST_STAGE = '<b><u>New Car - With and Without FBR:</u></b><br/>Dealer submits documents to JPJ for vehicle registration')
WHERE TAT_PARAM_ITEM_ID = (SELECT TAT_PARAM_ITEM_ID FROM CMS_STAGE_TAT_PARAM_ITEM WHERE 
TAT_PARAM_ID = (SELECT TAT_PARAM_ID FROM CMS_STAGE_TAT_PARAM WHERE APPLICATION_TYPE = 'HP') AND 
PRE_STAGE = '<b><u>New Car - With and Without FBR:</u></b><br/>Input in eHakmilik. Print confirmation letter & fax to dealer.' 
AND POST_STAGE = '<b><u>New Car - With and Without FBR:</u></b><br/>Dealer submits documents to JPJ for vehicle registration');



INSERT INTO CMS_TAT_PARAM_ITEM 
(TAT_PARAM_ITEM_ID, TAT_PARAM_ID, STAGE_TYPE, STAGE_CODE, PRE_STAGE, POST_STAGE, DURATION, DURATION_TYPE, SEQUENCE_ORDER, CMS_REF_ID, VERSION_TIME, STATUS)
(SELECT CAST((TS_FMT(CURRENT_TIMESTAMP, 'yyyymmdd') || SUBSTR(DIGITS(NEXT VALUE FOR CMS_TAT_PARAM_ITEM_SEQ), 2)) as BIGINT), 
(SELECT TAT_PARAM_ID FROM CMS_TAT_PARAM WHERE APPLICATION_TYPE = 'HP'), '1', '1', '<b><u>New Car - Without FBR:</u></b><br/>Dealer submits documents to JPJ for vehicle registration', 
'<b><u>New Car - Without FBR:</u></b><br/>Dealer submit invoice, sales letter, registration card, eCover Note', 1, 'D', 7, 0, 0, 'ACTIVE' from dual);

INSERT INTO CMS_STAGE_TAT_PARAM_ITEM 
(TAT_PARAM_ITEM_ID, TAT_PARAM_ID, STAGE_TYPE, STAGE_CODE, PRE_STAGE, POST_STAGE, DURATION, DURATION_TYPE, SEQUENCE_ORDER, CMS_REF_ID, VERSION_TIME, STATUS)
(SELECT CAST((TS_FMT(CURRENT_TIMESTAMP, 'yyyymmdd') || SUBSTR(DIGITS(NEXT VALUE FOR CMS_STAGE_TAT_PARAM_ITEM_SEQ), 2)) as BIGINT), 
(SELECT TAT_PARAM_ID FROM CMS_STAGE_TAT_PARAM WHERE APPLICATION_TYPE = 'HP'), '1', '1', '<b><u>New Car - Without FBR:</u></b><br/>Dealer submits documents to JPJ for vehicle registration', 
'<b><u>New Car - Without FBR:</u></b><br/>Dealer submit invoice, sales letter, registration card, eCover Note', 1, 'D', 7, 0, 0, 'ACTIVE' from dual);

UPDATE CMS_TAT_PARAM_ITEM SET CMS_REF_ID = (SELECT TAT_PARAM_ITEM_ID FROM CMS_STAGE_TAT_PARAM_ITEM WHERE 
TAT_PARAM_ID = (SELECT TAT_PARAM_ID FROM CMS_STAGE_TAT_PARAM WHERE APPLICATION_TYPE = 'HP') AND
PRE_STAGE = '<b><u>New Car - Without FBR:</u></b><br/>Dealer submits documents to JPJ for vehicle registration' 
AND POST_STAGE = '<b><u>New Car - Without FBR:</u></b><br/>Dealer submit invoice, sales letter, registration card, eCover Note')
WHERE TAT_PARAM_ITEM_ID = (SELECT TAT_PARAM_ITEM_ID FROM CMS_TAT_PARAM_ITEM WHERE 
TAT_PARAM_ID = (SELECT TAT_PARAM_ID FROM CMS_TAT_PARAM WHERE APPLICATION_TYPE = 'HP') AND 
PRE_STAGE = '<b><u>New Car - Without FBR:</u></b><br/>Dealer submits documents to JPJ for vehicle registration' 
AND POST_STAGE = '<b><u>New Car - Without FBR:</u></b><br/>Dealer submit invoice, sales letter, registration card, eCover Note');

UPDATE CMS_STAGE_TAT_PARAM_ITEM SET CMS_REF_ID = (SELECT TAT_PARAM_ITEM_ID FROM CMS_STAGE_TAT_PARAM_ITEM WHERE 
TAT_PARAM_ID = (SELECT TAT_PARAM_ID FROM CMS_STAGE_TAT_PARAM WHERE APPLICATION_TYPE = 'HP') AND 
PRE_STAGE = '<b><u>New Car - Without FBR:</u></b><br/>Dealer submits documents to JPJ for vehicle registration' 
AND POST_STAGE = '<b><u>New Car - Without FBR:</u></b><br/>Dealer submit invoice, sales letter, registration card, eCover Note')
WHERE TAT_PARAM_ITEM_ID = (SELECT TAT_PARAM_ITEM_ID FROM CMS_STAGE_TAT_PARAM_ITEM WHERE 
TAT_PARAM_ID = (SELECT TAT_PARAM_ID FROM CMS_STAGE_TAT_PARAM WHERE APPLICATION_TYPE = 'HP') AND 
PRE_STAGE = '<b><u>New Car - Without FBR:</u></b><br/>Dealer submits documents to JPJ for vehicle registration' 
AND POST_STAGE = '<b><u>New Car - Without FBR:</u></b><br/>Dealer submit invoice, sales letter, registration card, eCover Note');

	
	
INSERT INTO CMS_TAT_PARAM_ITEM 
(TAT_PARAM_ITEM_ID, TAT_PARAM_ID, STAGE_TYPE, STAGE_CODE, PRE_STAGE, POST_STAGE, DURATION, DURATION_TYPE, SEQUENCE_ORDER, CMS_REF_ID, VERSION_TIME, STATUS)
(SELECT CAST((TS_FMT(CURRENT_TIMESTAMP, 'yyyymmdd') || SUBSTR(DIGITS(NEXT VALUE FOR CMS_TAT_PARAM_ITEM_SEQ), 2)) as BIGINT), 
(SELECT TAT_PARAM_ID FROM CMS_TAT_PARAM WHERE APPLICATION_TYPE = 'HP'), '1', '1', '<b><u>New Car - With FBR:</u></b><br/>Dealer submits documents to JPJ for vehicle registration', 
'<b><u>New Car - With FBR:</u></b><br/>Dealer submit invoice, sales letter, eCover Note', 2, 'H', 8, 0, 0, 'ACTIVE' from dual);

INSERT INTO CMS_STAGE_TAT_PARAM_ITEM 
(TAT_PARAM_ITEM_ID, TAT_PARAM_ID, STAGE_TYPE, STAGE_CODE, PRE_STAGE, POST_STAGE, DURATION, DURATION_TYPE, SEQUENCE_ORDER, CMS_REF_ID, VERSION_TIME, STATUS)
(SELECT CAST((TS_FMT(CURRENT_TIMESTAMP, 'yyyymmdd') || SUBSTR(DIGITS(NEXT VALUE FOR CMS_STAGE_TAT_PARAM_ITEM_SEQ), 2)) as BIGINT), 
(SELECT TAT_PARAM_ID FROM CMS_STAGE_TAT_PARAM WHERE APPLICATION_TYPE = 'HP'), '1', '1', '<b><u>New Car - With FBR:</u></b><br/>Dealer submits documents to JPJ for vehicle registration', 
'<b><u>New Car - With FBR:</u></b><br/>Dealer submit invoice, sales letter, eCover Note', 2, 'H', 8, 0, 0, 'ACTIVE' from dual);

UPDATE CMS_TAT_PARAM_ITEM SET CMS_REF_ID = (SELECT TAT_PARAM_ITEM_ID FROM CMS_STAGE_TAT_PARAM_ITEM WHERE 
TAT_PARAM_ID = (SELECT TAT_PARAM_ID FROM CMS_STAGE_TAT_PARAM WHERE APPLICATION_TYPE = 'HP') AND
PRE_STAGE = '<b><u>New Car - With FBR:</u></b><br/>Dealer submits documents to JPJ for vehicle registration' 
AND POST_STAGE = '<b><u>New Car - With FBR:</u></b><br/>Dealer submit invoice, sales letter, eCover Note')
WHERE TAT_PARAM_ITEM_ID = (SELECT TAT_PARAM_ITEM_ID FROM CMS_TAT_PARAM_ITEM WHERE 
TAT_PARAM_ID = (SELECT TAT_PARAM_ID FROM CMS_TAT_PARAM WHERE APPLICATION_TYPE = 'HP') AND 
PRE_STAGE = '<b><u>New Car - With FBR:</u></b><br/>Dealer submits documents to JPJ for vehicle registration' 
AND POST_STAGE = '<b><u>New Car - With FBR:</u></b><br/>Dealer submit invoice, sales letter, eCover Note');

UPDATE CMS_STAGE_TAT_PARAM_ITEM SET CMS_REF_ID = (SELECT TAT_PARAM_ITEM_ID FROM CMS_STAGE_TAT_PARAM_ITEM WHERE 
TAT_PARAM_ID = (SELECT TAT_PARAM_ID FROM CMS_STAGE_TAT_PARAM WHERE APPLICATION_TYPE = 'HP') AND 
PRE_STAGE = '<b><u>New Car - With FBR:</u></b><br/>Dealer submits documents to JPJ for vehicle registration' 
AND POST_STAGE = '<b><u>New Car - With FBR:</u></b><br/>Dealer submit invoice, sales letter, eCover Note')
WHERE TAT_PARAM_ITEM_ID = (SELECT TAT_PARAM_ITEM_ID FROM CMS_STAGE_TAT_PARAM_ITEM WHERE 
TAT_PARAM_ID = (SELECT TAT_PARAM_ID FROM CMS_STAGE_TAT_PARAM WHERE APPLICATION_TYPE = 'HP') AND 
PRE_STAGE = '<b><u>New Car - With FBR:</u></b><br/>Dealer submits documents to JPJ for vehicle registration' 
AND POST_STAGE = '<b><u>New Car - With FBR:</u></b><br/>Dealer submit invoice, sales letter, eCover Note');



INSERT INTO CMS_TAT_PARAM_ITEM 
(TAT_PARAM_ITEM_ID, TAT_PARAM_ID, STAGE_TYPE, STAGE_CODE, PRE_STAGE, POST_STAGE, DURATION, DURATION_TYPE, SEQUENCE_ORDER, CMS_REF_ID, VERSION_TIME, STATUS)
(SELECT CAST((TS_FMT(CURRENT_TIMESTAMP, 'yyyymmdd') || SUBSTR(DIGITS(NEXT VALUE FOR CMS_TAT_PARAM_ITEM_SEQ), 2)) as BIGINT), 
(SELECT TAT_PARAM_ID FROM CMS_TAT_PARAM WHERE APPLICATION_TYPE = 'HP'), '2', '1', 
'<b><u>Used Car - Without FBT:</u></b><br/>Receive registration card (duly transferred) from runner<br/><br/><b><u>Used Car - With FBT :</u></b><br/>Submit registration card & transfer documents to runner<br/><br/><b><u>New Car - Without FBR:</u></b><br/>Dealer submit invoice, sales letter, registration card, eCover Note<br/><br/><b><u>New Car - With FBR:</u></b><br/>Dealer submit invoice, sales letter, eCover Note',
'Verify financing details in V5, perform BDS', 1, 'H', 9, 0, 0, 'ACTIVE' from dual);

INSERT INTO CMS_STAGE_TAT_PARAM_ITEM 
(TAT_PARAM_ITEM_ID, TAT_PARAM_ID, STAGE_TYPE, STAGE_CODE, PRE_STAGE, POST_STAGE, DURATION, DURATION_TYPE, SEQUENCE_ORDER, CMS_REF_ID, VERSION_TIME, STATUS)
(SELECT CAST((TS_FMT(CURRENT_TIMESTAMP, 'yyyymmdd') || SUBSTR(DIGITS(NEXT VALUE FOR CMS_STAGE_TAT_PARAM_ITEM_SEQ), 2)) as BIGINT), 
(SELECT TAT_PARAM_ID FROM CMS_STAGE_TAT_PARAM WHERE APPLICATION_TYPE = 'HP'), '2', '1', 
'<b><u>Used Car - Without FBT:</u></b><br/>Receive registration card (duly transferred) from runner<br/><br/><b><u>Used Car - With FBT :</u></b><br/>Submit registration card & transfer documents to runner<br/><br/><b><u>New Car - Without FBR:</u></b><br/>Dealer submit invoice, sales letter, registration card, eCover Note<br/><br/><b><u>New Car - With FBR:</u></b><br/>Dealer submit invoice, sales letter, eCover Note',
'Verify financing details in V5, perform BDS', 1, 'H', 9, 0, 0, 'ACTIVE' from dual);


UPDATE CMS_TAT_PARAM_ITEM SET CMS_REF_ID = (SELECT TAT_PARAM_ITEM_ID FROM CMS_STAGE_TAT_PARAM_ITEM WHERE 
TAT_PARAM_ID = (SELECT TAT_PARAM_ID FROM CMS_STAGE_TAT_PARAM WHERE APPLICATION_TYPE = 'HP') AND
PRE_STAGE = '<b><u>Used Car - Without FBT:</u></b><br/>Receive registration card (duly transferred) from runner<br/><br/><b><u>Used Car - With FBT :</u></b><br/>Submit registration card & transfer documents to runner<br/><br/><b><u>New Car - Without FBR:</u></b><br/>Dealer submit invoice, sales letter, registration card, eCover Note<br/><br/><b><u>New Car - With FBR:</u></b><br/>Dealer submit invoice, sales letter, eCover Note' 
AND POST_STAGE = 'Verify financing details in V5, perform BDS')
WHERE TAT_PARAM_ITEM_ID = (SELECT TAT_PARAM_ITEM_ID FROM CMS_TAT_PARAM_ITEM WHERE 
TAT_PARAM_ID = (SELECT TAT_PARAM_ID FROM CMS_TAT_PARAM WHERE APPLICATION_TYPE = 'HP') AND 
PRE_STAGE = '<b><u>Used Car - Without FBT:</u></b><br/>Receive registration card (duly transferred) from runner<br/><br/><b><u>Used Car - With FBT :</u></b><br/>Submit registration card & transfer documents to runner<br/><br/><b><u>New Car - Without FBR:</u></b><br/>Dealer submit invoice, sales letter, registration card, eCover Note<br/><br/><b><u>New Car - With FBR:</u></b><br/>Dealer submit invoice, sales letter, eCover Note' 
AND POST_STAGE = 'Verify financing details in V5, perform BDS');

UPDATE CMS_STAGE_TAT_PARAM_ITEM SET CMS_REF_ID = (SELECT TAT_PARAM_ITEM_ID FROM CMS_STAGE_TAT_PARAM_ITEM WHERE 
TAT_PARAM_ID = (SELECT TAT_PARAM_ID FROM CMS_STAGE_TAT_PARAM WHERE APPLICATION_TYPE = 'HP') AND 
PRE_STAGE = '<b><u>Used Car - Without FBT:</u></b><br/>Receive registration card (duly transferred) from runner<br/><br/><b><u>Used Car - With FBT :</u></b><br/>Submit registration card & transfer documents to runner<br/><br/><b><u>New Car - Without FBR:</u></b><br/>Dealer submit invoice, sales letter, registration card, eCover Note<br/><br/><b><u>New Car - With FBR:</u></b><br/>Dealer submit invoice, sales letter, eCover Note' 
AND POST_STAGE = 'Verify financing details in V5, perform BDS')
WHERE TAT_PARAM_ITEM_ID = (SELECT TAT_PARAM_ITEM_ID FROM CMS_STAGE_TAT_PARAM_ITEM WHERE 
TAT_PARAM_ID = (SELECT TAT_PARAM_ID FROM CMS_STAGE_TAT_PARAM WHERE APPLICATION_TYPE = 'HP') AND 
PRE_STAGE = '<b><u>Used Car - Without FBT:</u></b><br/>Receive registration card (duly transferred) from runner<br/><br/><b><u>Used Car - With FBT :</u></b><br/>Submit registration card & transfer documents to runner<br/><br/><b><u>New Car - Without FBR:</u></b><br/>Dealer submit invoice, sales letter, registration card, eCover Note<br/><br/><b><u>New Car - With FBR:</u></b><br/>Dealer submit invoice, sales letter, eCover Note' 
AND POST_STAGE = 'Verify financing details in V5, perform BDS');


COMMIT;

	
DELETE FROM CMS_FUNCTION_ACCESS WHERE ID >= 47000018 AND ID <= 47000019;
INSERT INTO CMS_FUNCTION_ACCESS (ID, ACTION, EVENT, ROLE_TYPE) VALUES
(47000018, 'TatDoc', 'commit', 10);
INSERT INTO CMS_FUNCTION_ACCESS (ID, ACTION, EVENT, ROLE_TYPE) VALUES
(47000019, 'TatDoc', 'update_duration_date', 10);

DELETE FROM common_code_category_entry WHERE CATEGORY_CODE = 'REASON_NON_COMP_TAT';
DELETE FROM COMMON_CODE_CATEGORY WHERE CATEGORY_CODE = 'REASON_NON_COMP_TAT';
INSERT INTO COMMON_CODE_CATEGORY (CATEGORY_ID, CATEGORY_CODE, CATEGORY_NAME, CATEGORY_TYPE, ACTIVE_STATUS)
VALUES (NEXT VALUE FOR COMMON_CODE_CATEGORY_SEQ, 'REASON_NON_COMP_TAT', 'Reason For Non-Compliance of TAT', 1, 'A');
insert into common_code_category_entry (entry_id, entry_code, entry_name,  active_status, country, category_code, category_code_id) select next value for common_code_category_entry_seq,'1', 'Opening of Current / Saving Account' ,  '1', 'MY', category_code, category_id from common_code_category where category_code = 'REASON_NON_COMP_TAT';
insert into common_code_category_entry (entry_id, entry_code, entry_name,  active_status, country, category_code, category_code_id) select next value for common_code_category_entry_seq,'2', 'Facility Fees' ,  '1', 'MY', category_code, category_id from common_code_category where category_code = 'REASON_NON_COMP_TAT';
insert into common_code_category_entry (entry_id, entry_code, entry_name,  active_status, country, category_code, category_code_id) select next value for common_code_category_entry_seq,'3', 'Placement of Fixed Deposit' ,  '1', 'MY', category_code, category_id from common_code_category where category_code = 'REASON_NON_COMP_TAT';
insert into common_code_category_entry (entry_id, entry_code, entry_name,  active_status, country, category_code, category_code_id) select next value for common_code_category_entry_seq,'4', 'Payment fees to solicitor / valuer / QS / MRTA' ,  '1', 'MY', category_code, category_id from common_code_category where category_code = 'REASON_NON_COMP_TAT';
insert into common_code_category_entry (entry_id, entry_code, entry_name,  active_status, country, category_code, category_code_id) select next value for common_code_category_entry_seq,'5', 'Borrower not agreeable with internal inspection on the property' ,  '1', 'MY', category_code, category_id from common_code_category where category_code = 'REASON_NON_COMP_TAT';
insert into common_code_category_entry (entry_id, entry_code, entry_name,  active_status, country, category_code, category_code_id) select next value for common_code_category_entry_seq,'6', 'Valuer unable to conduct internal inspection' ,  '1', 'MY', category_code, category_id from common_code_category where category_code = 'REASON_NON_COMP_TAT';
insert into common_code_category_entry (entry_id, entry_code, entry_name,  active_status, country, category_code, category_code_id) select next value for common_code_category_entry_seq,'7', 'Authorise signatories overseas' ,  '1', 'MY', category_code, category_id from common_code_category where category_code = 'REASON_NON_COMP_TAT';
insert into common_code_category_entry (entry_id, entry_code, entry_name,  active_status, country, category_code, category_code_id) select next value for common_code_category_entry_seq,'8', 'Borrower not agreeable with certain condition imposed in LO' ,  '1', 'MY', category_code, category_id from common_code_category where category_code = 'REASON_NON_COMP_TAT';
insert into common_code_category_entry (entry_id, entry_code, entry_name,  active_status, country, category_code, category_code_id) select next value for common_code_category_entry_seq,'9', 'Chargee Bank delay on issuance of redemption statement' ,  '1', 'MY', category_code, category_id from common_code_category where category_code = 'REASON_NON_COMP_TAT';
insert into common_code_category_entry (entry_id, entry_code, entry_name,  active_status, country, category_code, category_code_id) select next value for common_code_category_entry_seq,'10', 'No urgency by borrower on utilising the credit facility granted' ,  '1', 'MY', category_code, category_id from common_code_category where category_code = 'REASON_NON_COMP_TAT';
insert into common_code_category_entry (entry_id, entry_code, entry_name,  active_status, country, category_code, category_code_id) select next value for common_code_category_entry_seq,'11', 'Unable to meet certain conditions imposed in LO' ,  '1', 'MY', category_code, category_id from common_code_category where category_code = 'REASON_NON_COMP_TAT';
insert into common_code_category_entry (entry_id, entry_code, entry_name,  active_status, country, category_code, category_code_id) select next value for common_code_category_entry_seq,'12', 'Consent from debenture holder / negative pledge holder' ,  '1', 'MY', category_code, category_id from common_code_category where category_code = 'REASON_NON_COMP_TAT';
insert into common_code_category_entry (entry_id, entry_code, entry_name,  active_status, country, category_code, category_code_id) select next value for common_code_category_entry_seq,'13', 'Consent to charge or transfer' ,  '1', 'MY', category_code, category_id from common_code_category where category_code = 'REASON_NON_COMP_TAT';
insert into common_code_category_entry (entry_id, entry_code, entry_name,  active_status, country, category_code, category_code_id) select next value for common_code_category_entry_seq,'14', 'Cheque clearance for facility fees / FD' ,  '1', 'MY', category_code, category_id from common_code_category where category_code = 'REASON_NON_COMP_TAT';
insert into common_code_category_entry (entry_id, entry_code, entry_name,  active_status, country, category_code, category_code_id) select next value for common_code_category_entry_seq,'15', 'Market Valuer of property doesnt match to LO requirement' ,  '1', 'MY', category_code, category_id from common_code_category where category_code = 'REASON_NON_COMP_TAT';
insert into common_code_category_entry (entry_id, entry_code, entry_name,  active_status, country, category_code, category_code_id) select next value for common_code_category_entry_seq,'16', 'Pending for MRTA approval or letter of acceptance' ,  '1', 'MY', category_code, category_id from common_code_category where category_code = 'REASON_NON_COMP_TAT';
insert into common_code_category_entry (entry_id, entry_code, entry_name,  active_status, country, category_code, category_code_id) select next value for common_code_category_entry_seq,'17', 'CGC Approval' ,  '1', 'MY', category_code, category_id from common_code_category where category_code = 'REASON_NON_COMP_TAT';
insert into common_code_category_entry (entry_id, entry_code, entry_name,  active_status, country, category_code, category_code_id) select next value for common_code_category_entry_seq,'18', 'Sales did not apply BNM FSMI2 FUND drawdown' ,  '1', 'MY', category_code, category_id from common_code_category where category_code = 'REASON_NON_COMP_TAT';
insert into common_code_category_entry (entry_id, entry_code, entry_name,  active_status, country, category_code, category_code_id) select next value for common_code_category_entry_seq,'19', 'Pending Fire Insurance Policy from customer' ,  '1', 'MY', category_code, category_id from common_code_category where category_code = 'REASON_NON_COMP_TAT';
insert into common_code_category_entry (entry_id, entry_code, entry_name,  active_status, country, category_code, category_code_id) select next value for common_code_category_entry_seq,'20', 'Pending approval from UO on non panel Fire Insurance Policy' ,  '1', 'MY', category_code, category_id from common_code_category where category_code = 'REASON_NON_COMP_TAT';
insert into common_code_category_entry (entry_id, entry_code, entry_name,  active_status, country, category_code, category_code_id) select next value for common_code_category_entry_seq,'21', 'Pending top-up on the sum insured' ,  '1', 'MY', category_code, category_id from common_code_category where category_code = 'REASON_NON_COMP_TAT';
insert into common_code_category_entry (entry_id, entry_code, entry_name,  active_status, country, category_code, category_code_id) select next value for common_code_category_entry_seq,'22', 'Pending settlement on the differential between Loan Amount & Purchase Price / Redemption' ,  '1', 'MY', category_code, category_id from common_code_category where category_code = 'REASON_NON_COMP_TAT';
insert into common_code_category_entry (entry_id, entry_code, entry_name,  active_status, country, category_code, category_code_id) select next value for common_code_category_entry_seq,'23', 'Delay in registration of unit' ,  '1', 'MY', category_code, category_id from common_code_category where category_code = 'REASON_NON_COMP_TAT';
insert into common_code_category_entry (entry_id, entry_code, entry_name,  active_status, country, category_code, category_code_id) select next value for common_code_category_entry_seq,'24', 'Delay in transfer of unit' ,  '1', 'MY', category_code, category_id from common_code_category where category_code = 'REASON_NON_COMP_TAT';
insert into common_code_category_entry (entry_id, entry_code, entry_name,  active_status, country, category_code, category_code_id) select next value for common_code_category_entry_seq,'25', 'Incomplete documents' ,  '1', 'MY', category_code, category_id from common_code_category where category_code = 'REASON_NON_COMP_TAT';
insert into common_code_category_entry (entry_id, entry_code, entry_name,  active_status, country, category_code, category_code_id) select next value for common_code_category_entry_seq,'25', 'File returned to CPH for amendment' ,  '1', 'MY', category_code, category_id from common_code_category where category_code = 'REASON_NON_COMP_TAT';
insert into common_code_category_entry (entry_id, entry_code, entry_name,  active_status, country, category_code, category_code_id) select next value for common_code_category_entry_seq,'26', 'Pending inspection' ,  '1', 'MY', category_code, category_id from common_code_category where category_code = 'REASON_NON_COMP_TAT';
insert into common_code_category_entry (entry_id, entry_code, entry_name,  active_status, country, category_code, category_code_id) select next value for common_code_category_entry_seq,'27', 'Pending prepayment/fees/insurance premium' ,  '1', 'MY', category_code, category_id from common_code_category where category_code = 'REASON_NON_COMP_TAT';
insert into common_code_category_entry (entry_id, entry_code, entry_name,  active_status, country, category_code, category_code_id) select next value for common_code_category_entry_seq,'28', 'Change of Solicitor/Valuer/Insurer' ,  '1', 'MY', category_code, category_id from common_code_category where category_code = 'REASON_NON_COMP_TAT';
insert into common_code_category_entry (entry_id, entry_code, entry_name,  active_status, country, category_code, category_code_id) select next value for common_code_category_entry_seq,'29', 'Error in documents' ,  '1', 'MY', category_code, category_id from common_code_category where category_code = 'REASON_NON_COMP_TAT';
insert into common_code_category_entry (entry_id, entry_code, entry_name,  active_status, country, category_code, category_code_id) select next value for common_code_category_entry_seq,'30', 'OMV differ LO/SPA' ,  '1', 'MY', category_code, category_id from common_code_category where category_code = 'REASON_NON_COMP_TAT';
insert into common_code_category_entry (entry_id, entry_code, entry_name,  active_status, country, category_code, category_code_id) select next value for common_code_category_entry_seq,'31', 'Unable to fix appointment for inspection' ,  '1', 'MY', category_code, category_id from common_code_category where category_code = 'REASON_NON_COMP_TAT';
insert into common_code_category_entry (entry_id, entry_code, entry_name,  active_status, country, category_code, category_code_id) select next value for common_code_category_entry_seq,'32', 'Approval differ from LO' ,  '1', 'MY', category_code, category_id from common_code_category where category_code = 'REASON_NON_COMP_TAT';
insert into common_code_category_entry (entry_id, entry_code, entry_name,  active_status, country, category_code, category_code_id) select next value for common_code_category_entry_seq,'33', 'Defferment - Required medical' ,  '1', 'MY', category_code, category_id from common_code_category where category_code = 'REASON_NON_COMP_TAT';
insert into common_code_category_entry (entry_id, entry_code, entry_name,  active_status, country, category_code, category_code_id) select next value for common_code_category_entry_seq,'34', 'Savelink not open/supplementary LO' ,  '1', 'MY', category_code, category_id from common_code_category where category_code = 'REASON_NON_COMP_TAT';
insert into common_code_category_entry (entry_id, entry_code, entry_name,  active_status, country, category_code, category_code_id) select next value for common_code_category_entry_seq,'35', 'OMV differ / VR not received' ,  '1', 'MY', category_code, category_id from common_code_category where category_code = 'REASON_NON_COMP_TAT';
insert into common_code_category_entry (entry_id, entry_code, entry_name,  active_status, country, category_code, category_code_id) select next value for common_code_category_entry_seq,'36', 'MRTA differ / not received' ,  '1', 'MY', category_code, category_id from common_code_category where category_code = 'REASON_NON_COMP_TAT';
insert into common_code_category_entry (entry_id, entry_code, entry_name,  active_status, country, category_code, category_code_id) select next value for common_code_category_entry_seq,'37', 'Pending items from solicitor' ,  '1', 'MY', category_code, category_id from common_code_category where category_code = 'REASON_NON_COMP_TAT';
insert into common_code_category_entry (entry_id, entry_code, entry_name,  active_status, country, category_code, category_code_id) select next value for common_code_category_entry_seq,'38', 'Combination reasons' ,  '1', 'MY', category_code, category_id from common_code_category where category_code = 'REASON_NON_COMP_TAT';
insert into common_code_category_entry (entry_id, entry_code, entry_name,  active_status, country, category_code, category_code_id) select next value for common_code_category_entry_seq,'39', 'Others' ,  '1', 'MY', category_code, category_id from common_code_category where category_code = 'REASON_NON_COMP_TAT';
insert into common_code_category_entry (entry_id, entry_code, entry_name,  active_status, country, category_code, category_code_id) select next value for common_code_category_entry_seq,'40', 'Nil' ,  '1', 'MY', category_code, category_id from common_code_category where category_code = 'REASON_NON_COMP_TAT';
