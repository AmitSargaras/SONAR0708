<?xml version="1.0"?>
<!DOCTYPE hibernate-mapping PUBLIC
        "-//Hibernate/Hibernate Mapping DTD 3.0//EN"
        "http://hibernate.sourceforge.net/hibernate-mapping-3.0.dtd">
<hibernate-mapping>

    <class entity-name="stpMasterTrx" name="com.integrosys.cms.host.stp.bus.OBStpMasterTrans" table="STP_MASTER_TRANS"
           lazy="false">
        <id name="masterTrxId">
            <column name="MASTER_TRX_ID" sql-type="bigint" length="19" precision="0" not-null="true"/>
            <generator class="com.integrosys.base.techinfra.orm.DateAppendedSequenceGenerator">
                <param name="sequence">STP_MASTER_TRANS_SEQ</param>
            </generator>
        </id>
        <property name="transactionId">
            <column name="TRANSACTION_ID" sql-type="varchar" length="20" precision="0" not-null="false"/>
        </property>
        <property name="status">
            <column name="STATUS" sql-type="varchar" length="20" precision="0" not-null="false"/>
        </property>
        <property name="referenceId" column="REFERENCE_ID"/>
        <property name="transactionType">
            <column name="TRANSACTION_TYPE" sql-type="varchar" length="20" precision="0" not-null="false"/>
        </property>
        <property name="lastSubmissionDate">
            <column name="LAST_SUBMISSION_DATE" sql-type="timestamp" not-null="false"/>
        </property>
        <set name="trxEntriesSet" cascade="save-update, delete-orphan" fetch="select" lazy="false">
            <!--where="status&lt;&gt;'OBSOLETE'"-->
            <key column="MASTER_TRX_ID" not-null="false"/>
            <one-to-many entity-name="stpTrx"/>
        </set>
    </class>
    <class entity-name="stpTrx" name="com.integrosys.cms.host.stp.bus.OBStpTrans" table="STP_TRANS" lazy="false">
        <id name="trxId">
            <column name="TRX_ID" sql-type="bigint" length="19" precision="0" not-null="true"/>
            <generator class="com.integrosys.base.techinfra.orm.DateAppendedSequenceGenerator">
                <param name="sequence">STP_TRANS_SEQ</param>
            </generator>
        </id>
        <property name="userId" column="USER_ID"/>
        <property name="trxType">
            <column name="TRX_TYPE" sql-type="varchar" length="10" precision="0" not-null="false"/>
        </property>
        <property name="creationDate">
            <column name="CREATION_DATE" sql-type="timestamp" length="26" precision="6" not-null="false"/>
        </property>
        <property name="lastUpdateDate">
            <column name="LAST_UPDATE_DATE" sql-type="timestamp" length="26" precision="6" not-null="false"/>
        </property>
        <property name="status">
            <column name="STATUS" sql-type="varchar" length="30" precision="0" not-null="false"/>
        </property>
        <property name="curTrxHistoryId">
            <column name="CUR_TRX_HISTORY_ID" sql-type="varchar" length="20" precision="0" not-null="false"/>
        </property>
        <property name="trxHistoryId" column="TRX_HISTORY_ID"/>
        <property name="msgCount" column="MSG_COUNT"/>
        <property name="responseCode">
            <column name="RESPONSE_CODE" sql-type="varchar" length="2" precision="0" not-null="false"/>
        </property>
        <property name="requestMsg" type="blob" column="REQUEST_MSG"/>
        <property name="trxUID" column="TRX_UID"/>
        <property name="referenceId" column="REFERENCE_ID"/>
        <property name="opsDesc" column="OPS_DESC"/>
        <set name="trxErrorSet" cascade="save-update" fetch="select" lazy="false">
            <key column="TRX_UID" property-ref="trxUID"/>
            <one-to-many entity-name="stpTrxError"/>
        </set>
    </class>

    <class entity-name="stpTrxError" name="com.integrosys.cms.host.stp.bus.OBStpTransError" table="STP_TRANS_ERROR"
           lazy="false">
        <id name="errorId">
            <column name="ERROR_ID" sql-type="bigint" length="19" precision="0" not-null="true"/>
            <generator class="com.integrosys.base.techinfra.orm.DateAppendedSequenceGenerator">
                <param name="sequence">STP_TRANS_ERROR_SEQ</param>
            </generator>
        </id>
        <property name="errorCode">
            <column name="ERROR_CODE" sql-type="varchar" not-null="false"/>
        </property>
        <property name="errorDesc">
            <column name="ERROR_DESC" sql-type="varchar" not-null="false"/>
        </property>
        <property name="trxUID" column="TRX_UID"/>
    </class>

    <class entity-name="stpTrxHistory" name="com.integrosys.cms.host.stp.bus.OBStpTrans"
           table="STP_TRANS_HISTORY" lazy="false">
        <id name="trxHistoryId">
            <column name="TRX_HISTORY_ID" sql-type="bigint" length="19" precision="0" not-null="true"/>
            <generator class="com.integrosys.base.techinfra.orm.DateAppendedSequenceGenerator">
                <param name="sequence">STP_TRANS_HISTORY_SEQ</param>
            </generator>
        </id>
        <property name="trxId" column="TRX_ID"/>
        <property name="masterTrxId" column="MASTER_TRX_ID"/>
        <property name="userId" column="USER_ID"/>
        <property name="trxType">
            <column name="TRX_TYPE" sql-type="varchar" length="10" precision="0" not-null="false"/>
        </property>
        <property name="creationDate">
            <column name="CREATION_DATE" sql-type="timestamp" length="26" precision="6" not-null="false"/>
        </property>
        <property name="lastUpdateDate">
            <column name="LAST_UPDATE_DATE" sql-type="timestamp" length="26" precision="6" not-null="false"/>
        </property>
        <property name="status">
            <column name="STATUS" sql-type="varchar" length="30" precision="0" not-null="false"/>
        </property>
        <property name="curTrxHistoryId">
            <column name="CUR_TRX_HISTORY_ID" sql-type="varchar" length="20" precision="0" not-null="false"/>
        </property>
        <property name="msgCount" column="MSG_COUNT"/>
        <property name="responseCode">
            <column name="RESPONSE_CODE" sql-type="varchar" length="2" precision="0" not-null="false"/>
        </property>
        <property name="requestMsg" type="blob" column="REQUEST_MSG"/>
        <property name="trxUID" column="TRX_UID"/>
        <property name="referenceId" column="REFERENCE_ID"/>
        <property name="opsDesc" column="OPS_DESC"/>
    </class>
</hibernate-mapping>