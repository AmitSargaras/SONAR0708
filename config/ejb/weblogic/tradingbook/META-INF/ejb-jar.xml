<?xml version="1.0"?>
<!DOCTYPE ejb-jar PUBLIC "-//Sun Microsystems, Inc.//DTD Enterprise JavaBeans 2.0//EN" "http://java.sun.com/dtd/ejb-jar_2_0.dtd">
<ejb-jar>
   <display-name>TradingBook</display-name>
   <enterprise-beans>
      <session>
         <ejb-name>SBTradingBookProxy</ejb-name>
         <home>com.integrosys.cms.app.tradingbook.proxy.SBTradingBookProxyHome</home>
         <remote>com.integrosys.cms.app.tradingbook.proxy.SBTradingBookProxy</remote>
         <ejb-class>com.integrosys.cms.app.tradingbook.proxy.SBTradingBookProxyBean</ejb-class>
         <session-type>Stateless</session-type>
         <transaction-type>Container</transaction-type>
         <resource-ref>
            <res-ref-name>jdbc/CMSPool</res-ref-name>
            <res-type>javax.sql.DataSource</res-type>
            <res-auth>Container</res-auth>
            <res-sharing-scope>Shareable</res-sharing-scope>
         </resource-ref>
      </session>
      <session>
         <ejb-name>SBTradingBookBusManager</ejb-name>
         <home>com.integrosys.cms.app.tradingbook.bus.SBTradingBookBusManagerHome</home>
         <remote>com.integrosys.cms.app.tradingbook.bus.SBTradingBookBusManager</remote>
         <ejb-class>com.integrosys.cms.app.tradingbook.bus.SBTradingBookBusManagerBean</ejb-class>
         <session-type>Stateless</session-type>
         <transaction-type>Container</transaction-type>
         <resource-ref>
            <res-ref-name>jdbc/CMSPool</res-ref-name>
            <res-type>javax.sql.DataSource</res-type>
            <res-auth>Container</res-auth>
            <res-sharing-scope>Shareable</res-sharing-scope>
         </resource-ref>
      </session>
      <session>
         <ejb-name>SBTradingBookBusManagerStaging</ejb-name>
         <home>com.integrosys.cms.app.tradingbook.bus.SBTradingBookBusManagerHome</home>
         <remote>com.integrosys.cms.app.tradingbook.bus.SBTradingBookBusManager</remote>
         <ejb-class>com.integrosys.cms.app.tradingbook.bus.SBTradingBookBusManagerStagingBean</ejb-class>
         <session-type>Stateless</session-type>
         <transaction-type>Container</transaction-type>
         <resource-ref>
            <res-ref-name>jdbc/CMSPool</res-ref-name>
            <res-type>javax.sql.DataSource</res-type>
            <res-auth>Container</res-auth>
            <res-sharing-scope>Shareable</res-sharing-scope>
         </resource-ref>
      </session>
      
	<entity>
		<ejb-name>EBISDACSADeal</ejb-name>
		<home>com.integrosys.cms.app.tradingbook.bus.EBISDACSADealHome</home>
		<remote>com.integrosys.cms.app.tradingbook.bus.EBISDACSADeal</remote>
		<local-home>com.integrosys.cms.app.tradingbook.bus.EBISDACSADealLocalHome</local-home>
		<local>com.integrosys.cms.app.tradingbook.bus.EBISDACSADealLocal</local>
		<ejb-class>com.integrosys.cms.app.tradingbook.bus.EBISDACSADealBean</ejb-class>
		<persistence-type>Container</persistence-type>
		<prim-key-class>java.lang.Long</prim-key-class>
		<reentrant>False</reentrant>
		<cmp-version>2.x</cmp-version>
		<abstract-schema-name>EBISDACSADeal</abstract-schema-name>
		<cmp-field>
			<field-name>dealIDPK</field-name>
		</cmp-field>
		<cmp-field>
			<field-name>agreementIDFK</field-name>
		</cmp-field>
		<cmp-field>
			<field-name>agreementType</field-name>
		</cmp-field>
		<cmp-field>
			<field-name>dealID</field-name>
		</cmp-field>
		<cmp-field>
			<field-name>productType</field-name>
		</cmp-field>
		<cmp-field>
			<field-name>maturityDate</field-name>
		</cmp-field>
		<cmp-field>
			<field-name>valueDate</field-name>
		</cmp-field>
		<cmp-field>
			<field-name>tradeDate</field-name>
		</cmp-field>
		<cmp-field>
			<field-name>notional</field-name>
		</cmp-field>
		<cmp-field>
			<field-name>nPVCurrency</field-name>
		</cmp-field>
		<cmp-field>
			<field-name>nPV</field-name>
		</cmp-field>
		<cmp-field>
			<field-name>nPVBaseCurrency</field-name>
		</cmp-field>
		<cmp-field>
			<field-name>nPVBase</field-name>
		</cmp-field>
		<cmp-field>
			<field-name>dealCurrency</field-name>
		</cmp-field>
		<cmp-field>
			<field-name>dealAmt</field-name>
		</cmp-field>
		<cmp-field>
			<field-name>nearAmt</field-name>
		</cmp-field>
		<cmp-field>
			<field-name>farAmt</field-name>
		</cmp-field>		
		<cmp-field>
			<field-name>status</field-name>
		</cmp-field>
		<cmp-field>
			<field-name>versionTime</field-name>
		</cmp-field>
		<primkey-field>dealIDPK</primkey-field>
		<resource-ref>
			<res-ref-name>jdbc/CMSPool</res-ref-name>
			<res-type>javax.sql.DataSource</res-type>
			<res-auth>Container</res-auth>
			<res-sharing-scope>Shareable</res-sharing-scope>
		</resource-ref>
		<query>
			<query-method>
				<method-name>findAll</method-name>
				<method-params>
					<method-param>java.lang.String</method-param>
				</method-params>
			</query-method>
			<ejb-ql><![CDATA[SELECT OBJECT(o) FROM EBISDACSADeal o WHERE o.agreementType = ?1 ORDERBY o.dealIDPK]]></ejb-ql>
		</query>         
		<query>
			<query-method>
				<method-name>findByAgreementID</method-name>
				<method-params>
					<method-param>java.lang.String</method-param>
					<method-param>long</method-param>
					<method-param>java.lang.String</method-param>
				</method-params>
			</query-method>
			<ejb-ql><![CDATA[SELECT OBJECT(o) FROM EBISDACSADeal o WHERE o.agreementType = ?1 AND o.agreementIDFK = ?2 AND o.status <> ?3 ORDERBY o.dealIDPK]]></ejb-ql>
		</query>           
	</entity>

	<entity>
		<ejb-name>EBGMRADeal</ejb-name>
		<home>com.integrosys.cms.app.tradingbook.bus.EBGMRADealHome</home>
		<remote>com.integrosys.cms.app.tradingbook.bus.EBGMRADeal</remote>
		<local-home>com.integrosys.cms.app.tradingbook.bus.EBGMRADealLocalHome</local-home>
		<local>com.integrosys.cms.app.tradingbook.bus.EBGMRADealLocal</local>
		<ejb-class>com.integrosys.cms.app.tradingbook.bus.EBGMRADealBean</ejb-class>
		<persistence-type>Container</persistence-type>
		<prim-key-class>java.lang.Long</prim-key-class>
		<reentrant>False</reentrant>
		<cmp-version>2.x</cmp-version>
		<abstract-schema-name>EBGMRADeal</abstract-schema-name>
		<cmp-field>
			<field-name>dealIDPK</field-name>
		</cmp-field>                  
		<cmp-field>
			<field-name>agreementIDFK</field-name>
		</cmp-field>
		<cmp-field>
			<field-name>agreementType</field-name>
		</cmp-field>
		<cmp-field>
			<field-name>dealID</field-name>
		</cmp-field>
		<cmp-field>
			<field-name>productType</field-name>
		</cmp-field>
		<cmp-field>
			<field-name>secDesc</field-name>
		</cmp-field>
		<cmp-field>
			<field-name>iSINCode</field-name>
		</cmp-field>
		<cmp-field>
			<field-name>cUSIPCode</field-name>
		</cmp-field>
		<cmp-field>
			<field-name>dealCurrency</field-name>
		</cmp-field>
		<cmp-field>
			<field-name>dealAmt</field-name>
		</cmp-field>         
		<cmp-field>
			<field-name>haircut</field-name>
		</cmp-field>
		<cmp-field>
			<field-name>notionalCurrency</field-name>
		</cmp-field>
		<cmp-field>
			<field-name>notional</field-name>
		</cmp-field>
		<cmp-field>
			<field-name>tradeDate</field-name>
		</cmp-field>
		<cmp-field>
			<field-name>maturityDate</field-name>
		</cmp-field>
		<cmp-field>
			<field-name>dealCountry</field-name>
		</cmp-field>
		<cmp-field>
			<field-name>dealBranch</field-name>
		</cmp-field>
		<cmp-field>
			<field-name>dealRate</field-name>
		</cmp-field>
		<cmp-field>
			<field-name>nPVBaseCurrency</field-name>
		</cmp-field>
		<cmp-field>
			<field-name>nPVBase</field-name>
		</cmp-field>
		<cmp-field>
			<field-name>status</field-name>
		</cmp-field>
		<cmp-field>
			<field-name>versionTime</field-name>
		</cmp-field>
		<cmp-field>
			<field-name>repoStartAmt</field-name>
		</cmp-field>
		<cmp-field>
			<field-name>repoEndAmt</field-name>
		</cmp-field>
		<primkey-field>dealIDPK</primkey-field>
		<resource-ref>
			<res-ref-name>jdbc/CMSPool</res-ref-name>
			<res-type>javax.sql.DataSource</res-type>
			<res-auth>Container</res-auth>
			<res-sharing-scope>Shareable</res-sharing-scope>
		</resource-ref>
		<query>
			<query-method>
			   <method-name>findAll</method-name>
				<method-params>
					<method-param>java.lang.String</method-param>
				</method-params>
			</query-method>
			<ejb-ql><![CDATA[SELECT OBJECT(o) FROM EBGMRADeal o WHERE o.agreementType = ?1 ORDERBY o.dealIDPK]]></ejb-ql>
		</query>
		<query>
			<query-method>
				<method-name>findByAgreementID</method-name>
				<method-params>
					<method-param>java.lang.String</method-param>
					<method-param>long</method-param>
					<method-param>java.lang.String</method-param>
				</method-params>
			</query-method>
			<ejb-ql><![CDATA[SELECT OBJECT(o) FROM EBGMRADeal o WHERE o.agreementType = ?1 and o.agreementIDFK = ?2 AND o.status <> ?3 ORDERBY o.dealIDPK]]></ejb-ql>
		</query>                    
	</entity>

	<entity>
		<ejb-name>EBGMRADealStaging</ejb-name>
		<home>com.integrosys.cms.app.tradingbook.bus.EBGMRADealHome</home>
		<remote>com.integrosys.cms.app.tradingbook.bus.EBGMRADeal</remote>
		<local-home>com.integrosys.cms.app.tradingbook.bus.EBGMRADealLocalHome</local-home>
		<local>com.integrosys.cms.app.tradingbook.bus.EBGMRADealLocal</local>
		<ejb-class>com.integrosys.cms.app.tradingbook.bus.EBGMRADealStagingBean</ejb-class>
		<persistence-type>Container</persistence-type>
		<prim-key-class>java.lang.Long</prim-key-class>
		<reentrant>False</reentrant>
		<cmp-version>2.x</cmp-version>
		<abstract-schema-name>EBGMRADealStaging</abstract-schema-name>
		<cmp-field>
			<field-name>dealIDPK</field-name>
		</cmp-field>                  
		<cmp-field>
			<field-name>agreementIDFK</field-name>
		</cmp-field>
		<cmp-field>
			<field-name>agreementType</field-name>
		</cmp-field>
		<cmp-field>
			<field-name>dealID</field-name>
		</cmp-field>
		<cmp-field>
			<field-name>productType</field-name>
		</cmp-field>
		<cmp-field>
			<field-name>secDesc</field-name>
		</cmp-field>
		<cmp-field>
			<field-name>iSINCode</field-name>
		</cmp-field>
		<cmp-field>
			<field-name>cUSIPCode</field-name>
		</cmp-field>
		<cmp-field>
			<field-name>dealCurrency</field-name>
		</cmp-field>
		<cmp-field>
			<field-name>dealAmt</field-name>
		</cmp-field>         
		<cmp-field>
			<field-name>haircut</field-name>
		</cmp-field>
		<cmp-field>
			<field-name>notionalCurrency</field-name>
		</cmp-field>
		<cmp-field>
			<field-name>notional</field-name>
		</cmp-field>
		<cmp-field>
			<field-name>tradeDate</field-name>
		</cmp-field>
		<cmp-field>
			<field-name>maturityDate</field-name>
		</cmp-field>
		<cmp-field>
			<field-name>dealCountry</field-name>
		</cmp-field>
		<cmp-field>
			<field-name>dealBranch</field-name>
		</cmp-field>
		<cmp-field>
			<field-name>dealRate</field-name>
		</cmp-field>
		<cmp-field>
			<field-name>nPVBaseCurrency</field-name>
		</cmp-field>
		<cmp-field>
			<field-name>nPVBase</field-name>
		</cmp-field>
		<cmp-field>
			<field-name>status</field-name>
		</cmp-field>
		<cmp-field>
			<field-name>versionTime</field-name>
		</cmp-field>
		<cmp-field>
			<field-name>repoStartAmt</field-name>
		</cmp-field>
		<cmp-field>
			<field-name>repoEndAmt</field-name>
		</cmp-field>
		<primkey-field>dealIDPK</primkey-field>
		<resource-ref>
			<res-ref-name>jdbc/CMSPool</res-ref-name>
			<res-type>javax.sql.DataSource</res-type>
			<res-auth>Container</res-auth>
			<res-sharing-scope>Shareable</res-sharing-scope>
		</resource-ref>
		<query>
			<query-method>
			   <method-name>findAll</method-name>
				<method-params>
					<method-param>java.lang.String</method-param>
				</method-params>
			</query-method>
			<ejb-ql><![CDATA[SELECT OBJECT(o) FROM EBGMRADealStaging o WHERE o.agreementType = ?1 ORDERBY o.dealIDPK]]></ejb-ql>
		</query>
		<query>
			<query-method>
				<method-name>findByAgreementID</method-name>
				<method-params>
					<method-param>java.lang.String</method-param>
					<method-param>long</method-param>
					<method-param>java.lang.String</method-param>
				</method-params>
			</query-method>
			<ejb-ql><![CDATA[SELECT OBJECT(o) FROM EBGMRADealStaging o WHERE o.agreementType = ?1 and o.agreementIDFK = ?2 AND o.status <> ?3 ORDERBY o.dealIDPK]]></ejb-ql>
		</query>                    
	</entity>

	<entity>
		 <ejb-name>EBDealValuation</ejb-name>
		 <home>com.integrosys.cms.app.tradingbook.bus.EBDealValuationHome</home>
		 <remote>com.integrosys.cms.app.tradingbook.bus.EBDealValuation</remote>
		 <local-home>com.integrosys.cms.app.tradingbook.bus.EBDealValuationLocalHome</local-home>
		 <local>com.integrosys.cms.app.tradingbook.bus.EBDealValuationLocal</local>
		 <ejb-class>com.integrosys.cms.app.tradingbook.bus.EBDealValuationBean</ejb-class>
		 <persistence-type>Container</persistence-type>
		 <prim-key-class>java.lang.Long</prim-key-class>
		 <reentrant>False</reentrant>
		 <cmp-version>2.x</cmp-version>
		 <abstract-schema-name>EBDealValuation</abstract-schema-name>
		 <cmp-field>
			<field-name>dealValIDPK</field-name>
		 </cmp-field>                  
		 <cmp-field>
			<field-name>dealIDFK</field-name>
		 </cmp-field>  
		 <cmp-field>
			<field-name>marketValueCurrency</field-name>
		 </cmp-field>
		 <cmp-field>
			<field-name>marketValueAmt</field-name>
		 </cmp-field>
		 <cmp-field>
			<field-name>groupID</field-name>
		 </cmp-field>         
		 <cmp-field>
			<field-name>status</field-name>
		 </cmp-field>
		 <cmp-field>
			<field-name>versionTime</field-name>
		 </cmp-field>
		 <primkey-field>dealValIDPK</primkey-field>
		 <resource-ref>
			<res-ref-name>jdbc/CMSPool</res-ref-name>
			<res-type>javax.sql.DataSource</res-type>
			<res-auth>Container</res-auth>
			<res-sharing-scope>Shareable</res-sharing-scope>
		 </resource-ref>
		 <query>
			<query-method>
			   <method-name>findAll</method-name>
				<method-params/>
			</query-method>
			<ejb-ql><![CDATA[SELECT OBJECT(o) FROM EBDealValuation o ORDERBY o.dealValIDPK]]></ejb-ql>
		 </query>
		<query>
			<query-method>
				<method-name>findByDealID</method-name>
				<method-params>
					<method-param>long</method-param>
				</method-params>
			</query-method>
			<ejb-ql><![CDATA[SELECT OBJECT(o) FROM EBDealValuation o WHERE o.dealIDFK = ?1 ORDERBY o.dealValIDPK]]></ejb-ql>
		</query>                    
		<query>
			<query-method>
				<method-name>findByGroupID</method-name>
				<method-params>
					<method-param>long</method-param>
					<method-param>java.lang.String</method-param>
				</method-params>
			</query-method>
			<ejb-ql><![CDATA[SELECT OBJECT(o) FROM EBDealValuation o WHERE o.groupID = ?1 AND o.status <> ?2 ORDERBY o.dealValIDPK]]></ejb-ql>
		</query>                    
	</entity>
      
	<entity>
		<ejb-name>EBDealValuationStaging</ejb-name>
	   	<home>com.integrosys.cms.app.tradingbook.bus.EBDealValuationHome</home>
		<remote>com.integrosys.cms.app.tradingbook.bus.EBDealValuation</remote>
		<local-home>com.integrosys.cms.app.tradingbook.bus.EBDealValuationLocalHome</local-home>
		<local>com.integrosys.cms.app.tradingbook.bus.EBDealValuationLocal</local>
		<ejb-class>com.integrosys.cms.app.tradingbook.bus.EBDealValuationStagingBean</ejb-class>
		<persistence-type>Container</persistence-type>
		<prim-key-class>java.lang.Long</prim-key-class>
		<reentrant>False</reentrant>
		<cmp-version>2.x</cmp-version>
		<abstract-schema-name>EBDealValuationStaging</abstract-schema-name>
		<cmp-field>
			<field-name>dealValIDPK</field-name>
		</cmp-field>                  
		<cmp-field>
			<field-name>dealIDFK</field-name>
		</cmp-field>  
		<cmp-field>
			<field-name>marketValueCurrency</field-name>
		</cmp-field>
		<cmp-field>
			<field-name>marketValueAmt</field-name>
		</cmp-field>
		<cmp-field>
			<field-name>groupID</field-name>
		</cmp-field>         
		<cmp-field>
			<field-name>status</field-name>
		</cmp-field>
		<cmp-field>
			<field-name>versionTime</field-name>
		</cmp-field>
	    <primkey-field>dealValIDPK</primkey-field>
	    <resource-ref>
			<res-ref-name>jdbc/CMSPool</res-ref-name>
			<res-type>javax.sql.DataSource</res-type>
			<res-auth>Container</res-auth>
			<res-sharing-scope>Shareable</res-sharing-scope>
	    </resource-ref>
	    <query>
		  <query-method>
			 <method-name>findAll</method-name>
			<method-params/>
		  </query-method>
		  <ejb-ql><![CDATA[SELECT OBJECT(o) FROM EBDealValuationStaging o ORDERBY o.dealValIDPK]]></ejb-ql>
	    </query>
	    <query>
			<query-method>
				<method-name>findByDealID</method-name>
				<method-params>
					<method-param>long</method-param>
				</method-params>
			</query-method>
			<ejb-ql><![CDATA[SELECT OBJECT(o) FROM EBDealValuationStaging o WHERE o.dealIDFK = ?1 ORDERBY o.dealValIDPK]]></ejb-ql>
		</query>                    
		<query>
			<query-method>
			<method-name>findByGroupID</method-name>
			<method-params>
				<method-param>long</method-param>
				<method-param>java.lang.String</method-param>
			</method-params>
			</query-method>
			<ejb-ql><![CDATA[SELECT OBJECT(o) FROM EBDealValuationStaging o WHERE o.groupID = ?1 AND o.status <> ?2 ORDERBY o.dealValIDPK]]></ejb-ql>
	    </query>                    
	</entity>
      
	<entity>
		<ejb-name>EBCashMargin</ejb-name>
		<home>com.integrosys.cms.app.tradingbook.bus.EBCashMarginHome</home>
		<remote>com.integrosys.cms.app.tradingbook.bus.EBCashMargin</remote>
		<local-home>com.integrosys.cms.app.tradingbook.bus.EBCashMarginLocalHome</local-home>
		<local>com.integrosys.cms.app.tradingbook.bus.EBCashMarginLocal</local>
		<ejb-class>com.integrosys.cms.app.tradingbook.bus.EBCashMarginBean</ejb-class>
		<persistence-type>Container</persistence-type>
		<prim-key-class>java.lang.Long</prim-key-class>
		<reentrant>False</reentrant>
		<cmp-version>2.x</cmp-version>
		<abstract-schema-name>EBCashMargin</abstract-schema-name>
		<cmp-field>
			<field-name>cashMarginIDPK</field-name>
		</cmp-field>                  
		<cmp-field>
			<field-name>agreementIDFK</field-name>
		</cmp-field>
		<cmp-field>
			<field-name>trxDate</field-name>
		</cmp-field>
		<cmp-field>
			<field-name>nAPCurrency</field-name>
		</cmp-field>
		<cmp-field>
			<field-name>nAP</field-name>
		</cmp-field>
		<cmp-field>
			<field-name>nAPSignAdd</field-name>
		</cmp-field>
		<cmp-field>
			<field-name>cashInterest</field-name>
		</cmp-field>
       	<cmp-field>
      		<field-name>groupID</field-name>
       	</cmp-field>
		<cmp-field>
			<field-name>status</field-name>
		</cmp-field>
		<cmp-field>
			<field-name>versionTime</field-name>
		</cmp-field>
		<primkey-field>cashMarginIDPK</primkey-field>
		<resource-ref>
			<res-ref-name>jdbc/CMSPool</res-ref-name>
			<res-type>javax.sql.DataSource</res-type>
			<res-auth>Container</res-auth>
			<res-sharing-scope>Shareable</res-sharing-scope>
		</resource-ref>
		<query>
			<query-method>
				<method-name>findAll</method-name>
				<method-params/>
			</query-method>
			<ejb-ql><![CDATA[SELECT OBJECT(o) FROM EBCashMargin o]]></ejb-ql>
		</query>		           
		<query>
			<query-method>
				<method-name>findByGroupID</method-name>
				<method-params>
					<method-param>long</method-param>
				</method-params>
			</query-method>
			<ejb-ql><![CDATA[SELECT OBJECT(o) FROM EBCashMargin o WHERE o.groupID = ?1 ORDERBY o.trxDate]]></ejb-ql>
		</query>      
	</entity>

    <entity>
		<ejb-name>EBCashMarginStaging</ejb-name>
		<home>com.integrosys.cms.app.tradingbook.bus.EBCashMarginHome</home>
		<remote>com.integrosys.cms.app.tradingbook.bus.EBCashMargin</remote>
		<local-home>com.integrosys.cms.app.tradingbook.bus.EBCashMarginLocalHome</local-home>
		<local>com.integrosys.cms.app.tradingbook.bus.EBCashMarginLocal</local>
		<ejb-class>com.integrosys.cms.app.tradingbook.bus.EBCashMarginStagingBean</ejb-class>
		<persistence-type>Container</persistence-type>
		<prim-key-class>java.lang.Long</prim-key-class>
		<reentrant>False</reentrant>
		<cmp-version>2.x</cmp-version>
		<abstract-schema-name>EBCashMarginStaging</abstract-schema-name>
		<cmp-field>
			<field-name>cashMarginIDPK</field-name>
		</cmp-field>                  
		<cmp-field>
			<field-name>agreementIDFK</field-name>
		</cmp-field>
		<cmp-field>
			<field-name>trxDate</field-name>
		</cmp-field>
		<cmp-field>
			<field-name>nAPCurrency</field-name>
		</cmp-field>
		<cmp-field>
			<field-name>nAP</field-name>
		</cmp-field>
		<cmp-field>
			<field-name>nAPSignAdd</field-name>
		</cmp-field>
		<cmp-field>
			<field-name>cashInterest</field-name>
		</cmp-field>
       	<cmp-field>
      		<field-name>groupID</field-name>
       	</cmp-field>
		<cmp-field>
			<field-name>status</field-name>
		</cmp-field>
		<cmp-field>
			<field-name>versionTime</field-name>
		</cmp-field>
       	<primkey-field>cashMarginIDPK</primkey-field>
       	<resource-ref>
			<res-ref-name>jdbc/CMSPool</res-ref-name>
			<res-type>javax.sql.DataSource</res-type>
			<res-auth>Container</res-auth>
			<res-sharing-scope>Shareable</res-sharing-scope>
       	</resource-ref>
       	<query>
      		<query-method>
         		<method-name>findAll</method-name>
         		<method-params/>
      		</query-method>
      		<ejb-ql><![CDATA[SELECT OBJECT(o) FROM EBCashMarginStaging o]]></ejb-ql>
       	</query>		       
		<query>
			<query-method>
				<method-name>findByGroupID</method-name>
				<method-params>
					<method-param>long</method-param>
				</method-params>
			</query-method>
			<ejb-ql><![CDATA[SELECT OBJECT(o) FROM EBCashMarginStaging o WHERE o.groupID = ?1 ORDERBY o.trxDate]]></ejb-ql>
		</query>	          
	</entity>

   </enterprise-beans>
   

   <assembly-descriptor>
      <container-transaction>       
         
         <method>
            <ejb-name>SBTradingBookProxy</ejb-name>
            <method-name>*</method-name>
         </method>
         <method>
            <ejb-name>SBTradingBookBusManager</ejb-name>
            <method-name>*</method-name>
         </method>
         <method>
            <ejb-name>SBTradingBookBusManagerStaging</ejb-name>
            <method-name>*</method-name>
         </method>
         <method>
            <ejb-name>EBGMRADeal</ejb-name>
            <method-name>*</method-name>
         </method>
         <method>
            <ejb-name>EBDealValuation</ejb-name>
            <method-name>*</method-name>
         </method>
         <method>
            <ejb-name>EBCashMargin</ejb-name>
            <method-name>*</method-name>
         </method>
         <trans-attribute>Required</trans-attribute>
      </container-transaction>
   </assembly-descriptor>
</ejb-jar>
