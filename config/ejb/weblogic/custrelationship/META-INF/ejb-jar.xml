<?xml version="1.0"?>
<!DOCTYPE ejb-jar PUBLIC "-//Sun Microsystems, Inc.//DTD Enterprise JavaBeans 2.0//EN" "http://java.sun.com/dtd/ejb-jar_2_0.dtd">
<ejb-jar>
   <display-name>CMS</display-name>
   <enterprise-beans>
      <session>
         <ejb-name>SBCustRelationshipProxy</ejb-name>
         <home>com.integrosys.cms.app.custrelationship.proxy.SBCustRelationshipProxyHome</home>
         <remote>com.integrosys.cms.app.custrelationship.proxy.SBCustRelationshipProxy</remote>
         <ejb-class>com.integrosys.cms.app.custrelationship.proxy.SBCustRelationshipProxyBean</ejb-class>
         <session-type>Stateless</session-type>
         <transaction-type>Container</transaction-type>
         <resource-ref>
            <res-ref-name>jdbc/CMSPool</res-ref-name>
            <res-type>javax.sql.DataSource</res-type>
            <res-auth>Container</res-auth>
            <res-sharing-scope>Shareable</res-sharing-scope>
         </resource-ref>
      </session>
      <session>
         <ejb-name>SBCustRelationshipBusManager</ejb-name>
         <home>com.integrosys.cms.app.custrelationship.bus.SBCustRelationshipBusManagerHome</home>
         <remote>com.integrosys.cms.app.custrelationship.bus.SBCustRelationshipBusManager</remote>
         <ejb-class>com.integrosys.cms.app.custrelationship.bus.SBCustRelationshipBusManagerBean</ejb-class>
         <session-type>Stateless</session-type>
         <transaction-type>Container</transaction-type>
         <resource-ref>
            <res-ref-name>jdbc/CMSPool</res-ref-name>
            <res-type>javax.sql.DataSource</res-type>
            <res-auth>Container</res-auth>
            <res-sharing-scope>Shareable</res-sharing-scope>
         </resource-ref>
      </session>
      <session>
         <ejb-name>SBCustRelationshipBusManagerStaging</ejb-name>
         <home>com.integrosys.cms.app.custrelationship.bus.SBCustRelationshipBusManagerHome</home>
         <remote>com.integrosys.cms.app.custrelationship.bus.SBCustRelationshipBusManager</remote>
         <ejb-class>com.integrosys.cms.app.custrelationship.bus.SBCustRelationshipBusManagerStagingBean</ejb-class>
         <session-type>Stateless</session-type>
         <transaction-type>Container</transaction-type>
         <resource-ref>
            <res-ref-name>jdbc/CMSPool</res-ref-name>
            <res-type>javax.sql.DataSource</res-type>
            <res-auth>Container</res-auth>
            <res-sharing-scope>Shareable</res-sharing-scope>
         </resource-ref>
      </session>
            
	<entity>
		<ejb-name>EBCustRelationship</ejb-name>
		<home>com.integrosys.cms.app.custrelationship.bus.EBCustRelationshipHome</home>
		<remote>com.integrosys.cms.app.custrelationship.bus.EBCustRelationship</remote>
		<local-home>com.integrosys.cms.app.custrelationship.bus.EBCustRelationshipLocalHome</local-home>
		<local>com.integrosys.cms.app.custrelationship.bus.EBCustRelationshipLocal</local>
		<ejb-class>com.integrosys.cms.app.custrelationship.bus.EBCustRelationshipBean</ejb-class>
		<persistence-type>Container</persistence-type>
		<prim-key-class>java.lang.Long</prim-key-class>
		<reentrant>False</reentrant>
		<cmp-version>2.x</cmp-version>
		<abstract-schema-name>EBCustRelationship</abstract-schema-name>
		<cmp-field>
			<field-name>custRelationshipIDPK</field-name>
		</cmp-field>                  
		<cmp-field>
			<field-name>eBParentSubProfileID</field-name>
		</cmp-field>
		<cmp-field>
			<field-name>eBSubProfileID</field-name>
		</cmp-field>
		<cmp-field>
			<field-name>relationshipCat</field-name>
		</cmp-field>
		<cmp-field>
			<field-name>relationshipValue</field-name>
		</cmp-field>
		<cmp-field>
			<field-name>groupID</field-name>
		</cmp-field>
		<cmp-field>
			<field-name>refID</field-name>
		</cmp-field>
		<cmp-field>
			<field-name>remarks</field-name>
		</cmp-field>
       	<cmp-field>
      		<field-name>lastUpdateDate</field-name>
       	</cmp-field>
		<cmp-field>
      		<field-name>lastUpdateUser</field-name>
       	</cmp-field>
		<cmp-field>
			<field-name>status</field-name>
		</cmp-field>
		<cmp-field>
			<field-name>versionTime</field-name>
		</cmp-field>
		<primkey-field>custRelationshipIDPK</primkey-field>
		<resource-ref>
			<res-ref-name>jdbc/CMSPool</res-ref-name>
			<res-type>javax.sql.DataSource</res-type>
			<res-auth>Container</res-auth>
			<res-sharing-scope>Shareable</res-sharing-scope>
		</resource-ref>
		<query>
			<query-method>
				<method-name>findAll</method-name>
				<method-params/>
			</query-method>
			<ejb-ql><![CDATA[SELECT OBJECT(o) FROM EBCustRelationship o]]></ejb-ql>
		</query>		           
		<query>
			<query-method>
				<method-name>findByGroupID</method-name>
				<method-params>
					<method-param>long</method-param>
				</method-params>
			</query-method>
			<ejb-ql><![CDATA[SELECT OBJECT(o) FROM EBCustRelationship o WHERE o.groupID = ?1 and o.status <> 'DELETED' ORDERBY o.custRelationshipIDPK]]></ejb-ql>
		</query>      
	</entity>

    <entity>
		<ejb-name>EBCustRelationshipStaging</ejb-name>
		<home>com.integrosys.cms.app.custrelationship.bus.EBCustRelationshipHome</home>
		<remote>com.integrosys.cms.app.custrelationship.bus.EBCustRelationship</remote>
		<local-home>com.integrosys.cms.app.custrelationship.bus.EBCustRelationshipLocalHome</local-home>
		<local>com.integrosys.cms.app.custrelationship.bus.EBCustRelationshipLocal</local>
		<ejb-class>com.integrosys.cms.app.custrelationship.bus.EBCustRelationshipStagingBean</ejb-class>
		<persistence-type>Container</persistence-type>
		<prim-key-class>java.lang.Long</prim-key-class>
		<reentrant>False</reentrant>
		<cmp-version>2.x</cmp-version>
		<abstract-schema-name>EBCustRelationshipStaging</abstract-schema-name>
		<cmp-field>
			<field-name>custRelationshipIDPK</field-name>
		</cmp-field>                  
		<cmp-field>
			<field-name>eBParentSubProfileID</field-name>
		</cmp-field>
		<cmp-field>
			<field-name>eBSubProfileID</field-name>
		</cmp-field>
		<cmp-field>
			<field-name>relationshipCat</field-name>
		</cmp-field>
		<cmp-field>
			<field-name>relationshipValue</field-name>
		</cmp-field>
		<cmp-field>
			<field-name>groupID</field-name>
		</cmp-field>
		<cmp-field>
			<field-name>refID</field-name>
		</cmp-field>
		<cmp-field>
			<field-name>remarks</field-name>
		</cmp-field>
       	<cmp-field>
      		<field-name>lastUpdateDate</field-name>
       	</cmp-field>
		<cmp-field>
      		<field-name>lastUpdateUser</field-name>
       	</cmp-field>
		<cmp-field>
			<field-name>status</field-name>
		</cmp-field>
		<cmp-field>
			<field-name>versionTime</field-name>
		</cmp-field>
		<primkey-field>custRelationshipIDPK</primkey-field>
       	<resource-ref>
			<res-ref-name>jdbc/CMSPool</res-ref-name>
			<res-type>javax.sql.DataSource</res-type>
			<res-auth>Container</res-auth>
			<res-sharing-scope>Shareable</res-sharing-scope>
       	</resource-ref>
       	<query>
      		<query-method>
         		<method-name>findAll</method-name>
         		<method-params/>
      		</query-method>
      		<ejb-ql><![CDATA[SELECT OBJECT(o) FROM EBCustRelationshipStaging o]]></ejb-ql>
       	</query>		       
		<query>
			<query-method>
				<method-name>findByGroupID</method-name>
				<method-params>
					<method-param>long</method-param>
				</method-params>
			</query-method>
			<ejb-ql><![CDATA[SELECT OBJECT(o) FROM EBCustRelationshipStaging o WHERE o.groupID = ?1 and o.status <> 'DELETED' ORDERBY o.custRelationshipIDPK]]></ejb-ql>
		</query>	          
	</entity>
	
	<entity>
		<ejb-name>EBCustShareholder</ejb-name>
		<home>com.integrosys.cms.app.custrelationship.bus.EBCustShareholderHome</home>
		<remote>com.integrosys.cms.app.custrelationship.bus.EBCustShareholder</remote>
		<local-home>com.integrosys.cms.app.custrelationship.bus.EBCustShareholderLocalHome</local-home>
		<local>com.integrosys.cms.app.custrelationship.bus.EBCustShareholderLocal</local>
		<ejb-class>com.integrosys.cms.app.custrelationship.bus.EBCustShareholderBean</ejb-class>
		<persistence-type>Container</persistence-type>
		<prim-key-class>java.lang.Long</prim-key-class>
		<reentrant>False</reentrant>
		<cmp-version>2.x</cmp-version>
		<abstract-schema-name>EBCustShareholder</abstract-schema-name>
		<cmp-field>
			<field-name>custRelationshipIDPK</field-name>
		</cmp-field>                  
		<cmp-field>
			<field-name>eBParentSubProfileID</field-name>
		</cmp-field>
		<cmp-field>
			<field-name>eBSubProfileID</field-name>
		</cmp-field>
		<cmp-field>
			<field-name>relationshipCat</field-name>
		</cmp-field>
		<cmp-field>
			<field-name>relationshipValue</field-name>
		</cmp-field>
		<cmp-field>
			<field-name>groupID</field-name>
		</cmp-field>
		<cmp-field>
			<field-name>refID</field-name>
		</cmp-field>
		<cmp-field>
			<field-name>percentageOwn</field-name>
		</cmp-field>
       	<cmp-field>
      		<field-name>lastUpdateDate</field-name>
       	</cmp-field>
		<cmp-field>
      		<field-name>lastUpdateUser</field-name>
       	</cmp-field>
		<cmp-field>
			<field-name>status</field-name>
		</cmp-field>
		<cmp-field>
			<field-name>versionTime</field-name>
		</cmp-field>
		<primkey-field>custRelationshipIDPK</primkey-field>
		<resource-ref>
			<res-ref-name>jdbc/CMSPool</res-ref-name>
			<res-type>javax.sql.DataSource</res-type>
			<res-auth>Container</res-auth>
			<res-sharing-scope>Shareable</res-sharing-scope>
		</resource-ref>
		<query>
			<query-method>
				<method-name>findAll</method-name>
				<method-params/>
			</query-method>
			<ejb-ql><![CDATA[SELECT OBJECT(o) FROM EBCustShareholder o]]></ejb-ql>
		</query>		           
		<query>
			<query-method>
				<method-name>findByGroupID</method-name>
				<method-params>
					<method-param>long</method-param>
				</method-params>
			</query-method>
			<ejb-ql><![CDATA[SELECT OBJECT(o) FROM EBCustShareholder o WHERE o.groupID = ?1 and o.status <> 'DELETED' ORDERBY o.custRelationshipIDPK]]></ejb-ql>
		</query>      
	</entity>

    <entity>
		<ejb-name>EBCustShareholderStaging</ejb-name>
		<home>com.integrosys.cms.app.custrelationship.bus.EBCustShareholderHome</home>
		<remote>com.integrosys.cms.app.custrelationship.bus.EBCustShareholder</remote>
		<local-home>com.integrosys.cms.app.custrelationship.bus.EBCustShareholderLocalHome</local-home>
		<local>com.integrosys.cms.app.custrelationship.bus.EBCustShareholderLocal</local>
		<ejb-class>com.integrosys.cms.app.custrelationship.bus.EBCustShareholderStagingBean</ejb-class>
		<persistence-type>Container</persistence-type>
		<prim-key-class>java.lang.Long</prim-key-class>
		<reentrant>False</reentrant>
		<cmp-version>2.x</cmp-version>
		<abstract-schema-name>EBCustShareholderStaging</abstract-schema-name>
		<cmp-field>
			<field-name>custRelationshipIDPK</field-name>
		</cmp-field>                  
		<cmp-field>
			<field-name>eBParentSubProfileID</field-name>
		</cmp-field>
		<cmp-field>
			<field-name>eBSubProfileID</field-name>
		</cmp-field>
		<cmp-field>
			<field-name>relationshipCat</field-name>
		</cmp-field>
		<cmp-field>
			<field-name>relationshipValue</field-name>
		</cmp-field>
		<cmp-field>
			<field-name>groupID</field-name>
		</cmp-field>
		<cmp-field>
			<field-name>refID</field-name>
		</cmp-field>
		<cmp-field>
			<field-name>percentageOwn</field-name>
		</cmp-field>
       	<cmp-field>
      		<field-name>lastUpdateDate</field-name>
       	</cmp-field>
		<cmp-field>
      		<field-name>lastUpdateUser</field-name>
       	</cmp-field>
		<cmp-field>
			<field-name>status</field-name>
		</cmp-field>
		<cmp-field>
			<field-name>versionTime</field-name>
		</cmp-field>
		<primkey-field>custRelationshipIDPK</primkey-field>
       	<resource-ref>
			<res-ref-name>jdbc/CMSPool</res-ref-name>
			<res-type>javax.sql.DataSource</res-type>
			<res-auth>Container</res-auth>
			<res-sharing-scope>Shareable</res-sharing-scope>
       	</resource-ref>
       	<query>
      		<query-method>
         		<method-name>findAll</method-name>
         		<method-params/>
      		</query-method>
      		<ejb-ql><![CDATA[SELECT OBJECT(o) FROM EBCustShareholderStaging o]]></ejb-ql>
       	</query>
		<query>
			<query-method>
				<method-name>findByGroupID</method-name>
				<method-params>
					<method-param>long</method-param>
				</method-params>
			</query-method>
			<ejb-ql><![CDATA[SELECT OBJECT(o) FROM EBCustShareholderStaging o WHERE o.groupID = ?1 and o.status <> 'DELETED' ORDERBY o.custRelationshipIDPK]]></ejb-ql>
		</query>		
	</entity>
	
   </enterprise-beans>
   

   <assembly-descriptor>
      <container-transaction>       
         
         <method>
            <ejb-name>SBCustRelationshipProxy</ejb-name>
            <method-name>*</method-name>
         </method>
         <method>
            <ejb-name>SBCustRelationshipBusManager</ejb-name>
            <method-name>*</method-name>
         </method>
         <method>
            <ejb-name>SBCustRelationshipBusManagerStaging</ejb-name>
            <method-name>*</method-name>
         </method>         
         <method>
            <ejb-name>EBCustRelationship</ejb-name>
            <method-name>*</method-name>
         </method>
		 <method>
            <ejb-name>EBCustShareholder</ejb-name>
            <method-name>*</method-name>
         </method>
         <trans-attribute>Required</trans-attribute>
      </container-transaction>
   </assembly-descriptor>
</ejb-jar>
